webpackJsonpCharts([0],Array(293).concat([function(e,t,r){var a,n;a=[r,t,r(516)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plots=r.Plots,t.newPlot=r.newPlot,t.purge=r.purge,t.relayout=r.relayout,t.register=r.register}.apply(t,a))||(e.exports=n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var a=r(363),n=r(356),i=r(345),o=r(0).removeElement,l=r(26),s=e.exports={};s.align=r(364),s.getCursor=r(365);var c=r(366);function u(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function d(e){return a(e.changedTouches?e.changedTouches[0]:e,document.body)}s.unhover=c.wrapped,s.unhoverRaw=c.raw,s.init=function(e){var t,r,a,c,f,p,h,g,v=e.gd,m=1,y=v._context.doubleClickDelay,x=e.element;v._mouseDownTime||(v._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=_,i?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=_,x.addEventListener("touchstart",_,{passive:!1})):x.ontouchstart=_;var b=e.clampFn||function(e,t,r){return Math.abs(e)<r&&(e=0),Math.abs(t)<r&&(t=0),[e,t]};function _(i){v._dragged=!1,v._dragging=!0;var o=d(i);t=o[0],r=o[1],h=i.target,p=i,g=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=t,i.clientY=r),(a=(new Date).getTime())-v._mouseDownTime<y?m+=1:(m=1,v._mouseDownTime=a),e.prepFn&&e.prepFn(i,t,r),n&&!g?(f=u()).style.cursor=window.getComputedStyle(x).cursor:n||(f=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==e.dragmode&&(i.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("touchmove",w,{passive:!1}))}function w(a){a.preventDefault();var n=d(a),i=e.minDrag||l.MINDRAG,o=b(n[0]-t,n[1]-r,i),c=o[0],u=o[1];(c||u)&&(v._dragged=!0,s.unhover(v)),v._dragged&&e.moveFn&&!g&&(v._dragdata={element:x,dx:c,dy:u},e.moveFn(c,u))}function k(t){if(delete v._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),n?o(f):c&&(f.documentElement.style.cursor=c,c=null),v._dragging){if(v._dragging=!1,(new Date).getTime()-v._mouseDownTime>y&&(m=Math.max(m-1,1)),v._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(m,p),!g){var r;try{r=new MouseEvent("click",t)}catch(e){var a=d(t);(r=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,a[0],a[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}h.dispatchEvent(r)}v._dragging=!1,v._dragged=!1}else v._dragged=!1}},s.coverSlip=u},function(e,t,r){"use strict";var a=r(4),n=r(0),i=r(328),o=r(100),l=r(102),s=r(343);e.exports={moduleType:"component",name:"fx",constants:r(104),schema:{layout:l},attributes:r(106),layoutAttributes:l,supplyLayoutGlobalDefaults:r(370),supplyDefaults:r(371),supplyLayoutDefaults:r(372),calc:r(373),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:function(e,t,r){return n.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return n.castOption(e,r,"hoverinfo",function(r){return n.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)})},hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=n.isD3Selection(e)?e:a.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(374)}},function(e,t,r){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},function(e,t,r){"use strict";var a=r(352).EventEmitter,n={init:function(e){if(e._ev instanceof a)return e;var t=new a,r=new a;return e._ev=t,e._internalEv=r,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(a,n){"undefined"!=typeof jQuery&&jQuery(e).trigger(a,n),t.emit(a,n),r.emit(a,n)},e},triggerHandler:function(e,t,r){var a,n;"undefined"!=typeof jQuery&&(a=jQuery(e).triggerHandler(t,r));var i=e._ev;if(!i)return a;var o,l=i._events[t];if(!l)return a;function s(e){return e.listener?(i.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(i,[r]))):e.apply(i,[r])}for(l=Array.isArray(l)?l:[l],o=0;o<l.length-1;o++)s(l[o]);return n=s(l[o]),void 0!==a?a:n},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=n},function(e,t,r){"use strict";t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},function(e,t,r){"use strict";var a=r(0),n=r(14),i=r(100).isUnifiedHover;e.exports=function(e,t,r,o){function l(e){o.font[e]||(o.font[e]=t.legend?t.legend.font[e]:t.font[e])}o=o||{},t&&i(t.hovermode)&&(o.font||(o.font={}),l("size"),l("family"),l("color"),t.legend?(o.bgcolor||(o.bgcolor=n.combine(t.legend.bgcolor,t.paper_bgcolor)),o.bordercolor||(o.bordercolor=t.legend.bordercolor)):o.bgcolor||(o.bgcolor=t.paper_bgcolor)),r("hoverlabel.bgcolor",o.bgcolor),r("hoverlabel.bordercolor",o.bordercolor),r("hoverlabel.namelength",o.namelength),a.coerceFont(r,"hoverlabel.font",o.font),r("hoverlabel.align",o.align)}},function(e,t,r){"use strict";t.selectMode=function(e){return"lasso"===e||"select"===e},t.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.openMode=function(e){return"drawline"===e||"drawopenpath"===e},t.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}},function(e,t,r){"use strict";var a=r(391),n=r(339),i=n.CIRCLE_SIDES,o=n.SQRT2,l=r(340),s=l.p2r,c=l.r2p,u=[0,3,4,5,6,1,2],d=[0,3,4,1,2];function f(e,t){return Math.abs(e-t)<=1e-6}function p(e,t){var r=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(r*r+a*a)}t.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var r="",a=0;a<t;a++)for(var n=e[a].length,i=0;i<n;i++){var o=e[a][i][0];if("Z"===o)r+="Z";else for(var l=e[a][i].length,s=0;s<l;s++){var c=s;"Q"===o||"S"===o?c=d[s]:"C"===o&&(c=u[s]),r+=e[a][i][c],s>0&&s<l-1&&(r+=",")}}return r},t.readPaths=function(e,t,r,n){var o,l,u,d=a(e),f=[],p=-1,h=0,g=0,v=function(){l=h,u=g};v();for(var m=0;m<d.length;m++){var y,x,b,_,w=[],k=d[m][0],A=k;switch(k){case"M":f[++p]=[],h=+d[m][1],g=+d[m][2],w.push([A,h,g]),v();break;case"Q":case"S":y=+d[m][1],b=+d[m][2],h=+d[m][3],g=+d[m][4],w.push([A,h,g,y,b]);break;case"C":y=+d[m][1],b=+d[m][2],x=+d[m][3],_=+d[m][4],h=+d[m][5],g=+d[m][6],w.push([A,h,g,y,b,x,_]);break;case"T":case"L":h=+d[m][1],g=+d[m][2],w.push([A,h,g]);break;case"H":A="L",h=+d[m][1],w.push([A,h,g]);break;case"V":A="L",g=+d[m][1],w.push([A,h,g]);break;case"A":A="L";var T=+d[m][1],M=+d[m][2];+d[m][4]||(T=-T,M=-M);var L=h-T,C=g;for(o=1;o<=i/2;o++){var S=2*Math.PI*o/i;w.push([A,L+T*Math.cos(S),C+M*Math.sin(S)])}break;case"Z":h===l&&g===u||(h=l,g=u,w.push([A,h,g]))}for(var z=(r||{}).domain,P=t._fullLayout._size,O=r&&"pixel"===r.xsizemode,I=r&&"pixel"===r.ysizemode,R=!1===n,D=0;D<w.length;D++){for(o=0;o+2<7;o+=2){var E=w[D][o+1],F=w[D][o+2];void 0!==E&&void 0!==F&&(h=E,g=F,r&&(r.xaxis&&r.xaxis.p2r?(R&&(E-=r.xaxis._offset),E=O?c(r.xaxis,r.xanchor)+E:s(r.xaxis,E)):(R&&(E-=P.l),z?E=z.x[0]+E/P.w:E/=P.w),r.yaxis&&r.yaxis.p2r?(R&&(F-=r.yaxis._offset),F=I?c(r.yaxis,r.yanchor)-F:s(r.yaxis,F)):(R&&(F-=P.t),F=z?z.y[1]-F/P.h:1-F/P.h)),w[D][o+1]=E,w[D][o+2]=F)}f[p].push(w[D].slice())}}return f},t.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!f(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!f(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!f(e[0][1],e[1][1])&&!f(e[0][1],e[3][1]))&&!!(p(e[0],e[1])*p(e[0],e[3]))},t.pointsShapeEllipse=function(e){var t=e.length;if(t!==i+1)return!1;t=i;for(var r=0;r<t;r++){var a=(2*t-r)%t,n=(t/2+a)%t,o=(t/2+r)%t;if(!f(p(e[r],e[o]),p(e[a],e[n])))return!1}return!0},t.handleEllipse=function(e,r,a){if(!e)return[r,a];var n=t.ellipseOver({x0:r[0],y0:r[1],x1:a[0],y1:a[1]}),l=(n.x1+n.x0)/2,s=(n.y1+n.y0)/2,c=(n.x1-n.x0)/2,u=(n.y1-n.y0)/2;c||(c=u/=o),u||(u=c/=o);for(var d=[],f=0;f<i;f++){var p=2*f*Math.PI/i;d.push([l+c*Math.cos(p),s+u*Math.sin(p)])}return d},t.ellipseOver=function(e){var t=e.x0,r=e.y0,a=e.x1,n=e.y1,i=a-t,l=n-r,s=((t-=i)+a)/2,c=((r-=l)+n)/2;return{x0:s-(i*=o),y0:c-(l*=o),x1:s+i,y1:c+l}}},function(e,t,r){"use strict";var a=r(392),n=r(3),i=r(38).dashStyle,o=r(14),l=r(329),s=r(100).makeEventData,c=r(334),u=c.freeMode,d=c.rectMode,f=c.drawMode,p=c.openMode,h=c.selectMode,g=r(354),v=r(335).handleEllipse,m=r(355),y=r(0),x=r(376),b=r(108),_=r(27).getFromId,w=r(338),k=r(348).redrawReglTraces,A=r(26),T=A.MINSELECT,M=x.filter,L=x.tester,C=r(103).clearSelect,S=r(340),z=S.p2r,P=S.axValue,O=S.getTransform;function I(e,t,r,a,n,i,o){var l,s,c,u,d,f,h,v,m,y=t._hoverdata,x=t._fullLayout.clickmode.indexOf("event")>-1,b=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(y)){F(e,t,i);var _=function(e,t){var r,a,n=e[0],i=-1,o=[];for(a=0;a<t.length;a++)if(r=t[a],n.fullData._expandedIndex===r.cd[0].trace._expandedIndex){if(!0===n.hoverOnBox)break;void 0!==n.pointNumber?i=n.pointNumber:void 0!==n.binNumber&&(i=n.binNumber,o=n.pointNumbers);break}return{pointNumber:i,pointNumbers:o,searchInfo:r}}(y,l=N(t,r,a,n));if(_.pointNumbers.length>0?function(e,t){var r,a,n,i=[];for(n=0;n<e.length;n++)(r=e[n]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&i.push(r);if(1===i.length&&i[0]===t.searchInfo&&(a=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(n=0;n<t.pointNumbers.length;n++)if(a.selectedpoints.indexOf(t.pointNumbers[n])<0)return!1;return!0}return!1}(l,_):function(e){var t,r,a,n=0;for(a=0;a<e.length;a++)if(t=e[a],(r=t.cd[0].trace).selectedpoints){if(r.selectedpoints.length>1)return!1;if((n+=r.selectedpoints.length)>1)return!1}return 1===n}(l)&&(f=H(_))){for(o&&o.remove(),m=0;m<l.length;m++)(s=l[m])._module.selectPoints(s,!1);j(t,l),B(i),x&&t.emit("plotly_deselect",null)}else{for(h=e.shiftKey&&(void 0!==f?f:H(_)),c=function(e,t,r){return{pointNumber:e,searchInfo:t,subtract:r}}(_.pointNumber,_.searchInfo,h),u=E(i.selectionDefs.concat([c])),m=0;m<l.length;m++)if(d=V(l[m]._module.selectPoints(l[m],u),l[m]),b.length)for(var w=0;w<d.length;w++)b.push(d[w]);else b=d;if(j(t,l,v={points:b}),c&&i&&i.selectionDefs.push(c),o){var k=i.mergedPolygons,A=p(i.dragmode);g(G(k,A),o,i)}x&&t.emit("plotly_selected",v)}}}function R(e){return"pointNumber"in e&&"searchInfo"in e}function D(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,r,a,n){var i=e.searchInfo.cd[0].trace._expandedIndex;return n.cd[0].trace._expandedIndex===i&&a===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function E(e){for(var t=[],r=R(e[0])?0:e[0][0][0],a=r,n=R(e[0])?0:e[0][0][1],i=n,o=0;o<e.length;o++)if(R(e[o]))t.push(D(e[o]));else{var l=x.tester(e[o]);l.subtract=e[o].subtract,t.push(l),r=Math.min(r,l.xmin),a=Math.max(a,l.xmax),n=Math.min(n,l.ymin),i=Math.max(i,l.ymax)}return{xmin:r,xmax:a,ymin:n,ymax:i,pts:[],contains:function(e,r,a,n){for(var i=!1,o=0;o<t.length;o++)t[o].contains(e,r,a,n)&&(i=!1===t[o].subtract);return i},isRect:!1,degenerate:!1}}function F(e,t,r){t._fullLayout._drawing=!1;var a=t._fullLayout,n=r.plotinfo,i=r.dragmode,o=a._lastSelectedSubplot&&a._lastSelectedSubplot===n.id,l=(e.shiftKey||e.altKey)&&!(f(i)&&p(i));o&&l&&n.selection&&n.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=n.selection.selectionDefs,r.mergedPolygons=n.selection.mergedPolygons):l&&n.selection||B(r),o||(C(t),a._lastSelectedSubplot=n.id)}function B(e){var t=e.dragmode,r=e.plotinfo,a=e.gd;if(a._fullLayout._activeShapeIndex>=0&&a._fullLayout._deactivateShape(a),f(t)){var i=a._fullLayout._zoomlayer.selectAll(".select-outline-"+r.id);if(i&&a._fullLayout._drawing){var o=m(i,e);o&&n.call("_guiRelayout",a,{shapes:o}),a._fullLayout._drawing=!1}}r.selection={},r.selection.selectionDefs=e.selectionDefs=[],r.selection.mergedPolygons=e.mergedPolygons=[]}function N(e,t,r,a){var n,i,o,l=[],s=t.map(function(e){return e._id}),c=r.map(function(e){return e._id});for(o=0;o<e.calcdata.length;o++)if(!0===(i=(n=e.calcdata[o])[0].trace).visible&&i._module&&i._module.selectPoints)if(!a||i.subplot!==a&&i.geo!==a)if("splom"===i.type&&i._xaxes[s[0]]&&i._yaxes[c[0]]){var u=f(i._module,n,t[0],r[0]);u.scene=e._fullLayout._splomScenes[i.uid],l.push(u)}else if("sankey"===i.type){var d=f(i._module,n,t[0],r[0]);l.push(d)}else{if(-1===s.indexOf(i.xaxis))continue;if(-1===c.indexOf(i.yaxis))continue;l.push(f(i._module,n,_(e,i.xaxis),_(e,i.yaxis)))}else l.push(f(i._module,n,t[0],r[0]));return l;function f(e,t,r,a){return{_module:e,cd:t,xaxis:r,yaxis:a}}}function H(e){var t=e.searchInfo.cd[0].trace,r=e.pointNumber,a=e.pointNumbers,n=a.length>0?a[0]:r;return!!t.selectedpoints&&t.selectedpoints.indexOf(n)>-1}function j(e,t,r){var a,i,o,l;for(a=0;a<t.length;a++){var s=t[a].cd[0].trace._fullInput,c=e._fullLayout._tracePreGUI[s.uid]||{};void 0===c.selectedpoints&&(c.selectedpoints=s._input.selectedpoints||null)}if(r){var u=r.points||[];for(a=0;a<t.length;a++)(l=t[a].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(a=0;a<u.length;a++){var d=u[a],f=d.data,p=d.fullData;d.pointIndices?([].push.apply(f.selectedpoints,d.pointIndices),l._fullInput!==l&&[].push.apply(p.selectedpoints,d.pointIndices)):(f.selectedpoints.push(d.pointIndex),l._fullInput!==l&&p.selectedpoints.push(d.pointIndex))}}else for(a=0;a<t.length;a++)delete(l=t[a].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var h=!1;for(a=0;a<t.length;a++){l=(o=(i=t[a]).cd)[0].trace,n.traceIs(l,"regl")&&(h=!0);var g=i._module,v=g.styleOnSelect||g.style;v&&(v(e,o,o[0].node3),o[0].nodeRangePlot3&&v(e,o,o[0].nodeRangePlot3))}h&&(w(e),k(e))}function V(e,t){if(Array.isArray(e))for(var r=t.cd,a=t.cd[0].trace,n=0;n<e.length;n++)e[n]=s(e[n],a,r);return e}function G(e,t){for(var r=[],a=0;a<e.length;a++){r[a]=[];for(var n=0;n<e[a].length;n++){r[a][n]=[],r[a][n][0]=n?"L":"M";for(var i=0;i<e[a][n].length;i++)r[a][n].push(e[a][n][i])}t||r[a].push(["Z",r[a][0][1],r[a][0][2]])}return r}e.exports={prepSelect:function(e,t,r,n,s){var c=u(s),m=d(s),x=p(s),_=f(s),w=h(s),k="drawcircle"===s,C="drawline"===s||k,S=n.gd,R=S._fullLayout,D=R._zoomlayer,H=n.element.getBoundingClientRect(),q=n.plotinfo,Z=O(q),X=t-H.left,U=r-H.top;R._calcInverseTransform(S);var W=y.apply3DTransform(R._invTransform)(X,U);X=W[0],U=W[1];var Y,Q,J,$,K,ee,te,re=R._invScaleX,ae=R._invScaleY,ne=X,ie=U,oe="M"+X+","+U,le=n.xaxes[0]._length,se=n.yaxes[0]._length,ce=n.xaxes.concat(n.yaxes),ue=e.altKey&&!(f(s)&&x);F(e,S,n),c&&(Y=M([[X,U]],A.BENDPX));var de=D.selectAll("path.select-outline-"+q.id).data(_?[0]:[1,2]),fe=R.newshape;de.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+q.id}).style(_?{opacity:fe.opacity/2,fill:x?void 0:fe.fillcolor,stroke:fe.line.color,"stroke-dasharray":i(fe.line.dash,fe.line.width),"stroke-width":fe.line.width+"px"}:{}).attr("fill-rule",fe.fillrule).classed("cursor-move",!!_).attr("transform",Z).attr("d",oe+"Z");var pe,he=D.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform",Z).attr("d","M0,0Z"),ge=R._uid+A.SELECTID,ve=[],me=N(S,n.xaxes,n.yaxes,n.subplot);function ye(e,t){return e-t}pe=q.fillRangeItems?q.fillRangeItems:m?function(e,t){var r=e.range={};for(K=0;K<ce.length;K++){var a=ce[K],n=a._id.charAt(0);r[a._id]=[z(a,t[n+"min"]),z(a,t[n+"max"])].sort(ye)}}:function(e,t,r){var a=e.lassoPoints={};for(K=0;K<ce.length;K++){var n=ce[K];a[n._id]=r.filtered.map(P(n))}},n.moveFn=function(e,t){ne=Math.max(0,Math.min(le,re*e+X)),ie=Math.max(0,Math.min(se,ae*t+U));var r=Math.abs(ne-X),i=Math.abs(ie-U);if(m){var o,l,s;if(w){var u=R.selectdirection;switch(o="any"===u?i<Math.min(.6*r,T)?"h":r<Math.min(.6*i,T)?"v":"d":u){case"h":l=k?se/2:0,s=se;break;case"v":l=k?le/2:0,s=le}}if(_)switch(R.newshape.drawdirection){case"vertical":o="h",l=k?se/2:0,s=se;break;case"horizontal":o="v",l=k?le/2:0,s=le;break;case"ortho":r<i?(o="h",l=U,s=ie):(o="v",l=X,s=ne);break;default:o="d"}"h"===o?(($=C?v(k,[ne,l],[ne,s]):[[X,l],[X,s],[ne,s],[ne,l]]).xmin=C?ne:Math.min(X,ne),$.xmax=C?ne:Math.max(X,ne),$.ymin=Math.min(l,s),$.ymax=Math.max(l,s),he.attr("d","M"+$.xmin+","+(U-T)+"h-4v"+2*T+"h4ZM"+($.xmax-1)+","+(U-T)+"h4v"+2*T+"h-4Z")):"v"===o?(($=C?v(k,[l,ie],[s,ie]):[[l,U],[l,ie],[s,ie],[s,U]]).xmin=Math.min(l,s),$.xmax=Math.max(l,s),$.ymin=C?ie:Math.min(U,ie),$.ymax=C?ie:Math.max(U,ie),he.attr("d","M"+(X-T)+","+$.ymin+"v-4h"+2*T+"v4ZM"+(X-T)+","+($.ymax-1)+"v4h"+2*T+"v-4Z")):"d"===o&&(($=C?v(k,[X,U],[ne,ie]):[[X,U],[X,ie],[ne,ie],[ne,U]]).xmin=Math.min(X,ne),$.xmax=Math.max(X,ne),$.ymin=Math.min(U,ie),$.ymax=Math.max(U,ie),he.attr("d","M0,0Z"))}else c&&(Y.addPt([ne,ie]),$=Y.filtered);n.selectionDefs&&n.selectionDefs.length?(J=function(e,t,r){return r?a.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:a.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(n.mergedPolygons,$,ue),$.subtract=ue,Q=E(n.selectionDefs.concat([$]))):(J=[$],Q=L($)),g(G(J,x),de,n),w&&b.throttle(ge,A.SELECTDELAY,function(){var e;ve=[];var t,r=[];for(K=0;K<me.length;K++)if(t=(ee=me[K])._module.selectPoints(ee,Q),r.push(t),e=V(t,ee),ve.length)for(var a=0;a<e.length;a++)ve.push(e[a]);else ve=e;j(S,me,te={points:ve}),pe(te,$,Y),n.gd.emit("plotly_selecting",te)})},n.clickFn=function(e,t){if(he.remove(),S._fullLayout._activeShapeIndex>=0)S._fullLayout._deactivateShape(S);else if(!_){var r=R.clickmode;b.done(ge).then(function(){if(b.clear(ge),2===e){for(de.remove(),K=0;K<me.length;K++)(ee=me[K])._module.selectPoints(ee,!1);j(S,me),B(n),S.emit("plotly_deselect",null)}else r.indexOf("select")>-1&&I(t,S,n.xaxes,n.yaxes,n.subplot,n,de),"event"===r&&S.emit("plotly_selected",void 0);l.click(S,t)}).catch(y.error)}},n.doneFn=function(){he.remove(),b.done(ge).then(function(){b.clear(ge),n.gd.emit("plotly_selected",te),$&&n.selectionDefs&&($.subtract=ue,n.selectionDefs.push($),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,J)),n.doneFnCompleted&&n.doneFnCompleted(ve)}).catch(y.error),_&&B(n)}},clearSelect:C,clearSelectionsCache:B,selectOnClick:I}},function(e,t,r){"use strict";var a=r(0);function n(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}t.formatPiePercent=function(e,t){var r=n((100*e).toPrecision(3));return a.numSeparate(r,t)+"%"},t.formatPieValue=function(e,t){var r=n(e.toPrecision(10));return a.numSeparate(r,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var r=0;r<t.length;r++){var a=e[t[r]];if(a||0===a||""===a)return a}},t.castOption=function(e,r){return Array.isArray(e)?t.getFirstFilled(e,r):e||void 0},t.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},function(e,t,r){"use strict";e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},function(e,t,r){"use strict";e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},function(e,t,r){"use strict";var a=r(0).strTranslate;function n(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}e.exports={p2r:n,r2p:function(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}},axValue:function(e){var t="y"===e._id.charAt(0)?1:0;return function(r){return n(e,r[t])}},getTransform:function(e){return a(e.xaxis._offset,e.yaxis._offset)}}},function(e,t,r){"use strict";var a=r(0),n=r(107),i=r(27).id2name,o=r(18),l=r(347),s=r(109),c=r(5).ALMOST_EQUAL,u=r(28).FROM_BL;function d(e,t,r){var n=r.axIds,l=r.layoutOut,s=r.hasImage,c=l._axisConstraintGroups,u=l._axisMatchGroups,d=t._id,g=d.charAt(0),v=((l._splomAxes||{})[g]||{})[d]||{},m=t._id,y="x"===m.charAt(0);function x(r,n){return a.coerce(e,t,o,r,n)}t._matchGroup=null,t._constraintGroup=null,x("constrain",s?"domain":"range"),a.coerce(e,t,{constraintoward:{valType:"enumerated",values:y?["left","center","right"]:["bottom","middle","top"],dflt:y?"center":"middle"}},"constraintoward");var b,_,w=t.type,k=[];for(b=0;b<n.length;b++){if((_=n[b])!==m)l[i(_)].type===w&&k.push(_)}var A=p(c,m);if(A){var T=[];for(b=0;b<k.length;b++)A[_=k[b]]||T.push(_);k=T}var M,L,C=k.length;C&&(e.matches||v.matches)&&(M=a.coerce(e,t,{matches:{valType:"enumerated",values:k,dflt:-1!==k.indexOf(v.matches)?v.matches:void 0}},"matches"));var S=s&&!y?t.anchor:void 0;if(C&&!M&&(e.scaleanchor||S)&&(L=a.coerce(e,t,{scaleanchor:{valType:"enumerated",values:k}},"scaleanchor",S)),M){t._matchGroup=h(u,m,M,1);var z=l[i(M)],P=f(l,t)/f(l,z);y!==("x"===M.charAt(0))&&(P=(y?"x":"y")+P),h(c,m,M,P)}else e.matches&&-1!==n.indexOf(e.matches)&&a.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(L){var O=x("scaleratio");O||(O=t.scaleratio=1),h(c,m,L,O)}else e.scaleanchor&&-1!==n.indexOf(e.scaleanchor)&&a.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function f(e,t){var r=t.domain;return r||(r=e[i(t.overlaying)].domain),r[1]-r[0]}function p(e,t){for(var r=0;r<e.length;r++)if(e[r][t])return e[r];return null}function h(e,t,r,a){var n,i,o,l,s,c=p(e,t);null===c?((c={})[t]=1,s=e.length,e.push(c)):s=e.indexOf(c);var u=Object.keys(c);for(n=0;n<e.length;n++)if(o=e[n],n!==s&&o[r]){var d=o[r];for(i=0;i<u.length;i++)o[l=u[i]]=g(d,g(a,c[l]));return void e.splice(s,1)}if(1!==a)for(i=0;i<u.length;i++){var f=u[i];c[f]=g(a,c[f])}c[r]=1}function g(e,t){var r,a,n="",i="";"string"==typeof e&&(r=(n=e.match(/^[xy]*/)[0]).length,e=+e.substr(r)),"string"==typeof t&&(a=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(a));var o=e*t;return r||a?r&&a&&n.charAt(0)!==i.charAt(0)?r===a?o:(r>a?n.substr(a):i.substr(r))+o:n+i+e*t:o}function v(e,t){for(var r=t._size,a=r.h/r.w,n={},i=Object.keys(e),o=0;o<i.length;o++){var l=i[o],s=e[l];if("string"==typeof s){var c=s.match(/^[xy]*/)[0],u=c.length;s=+s.substr(u);for(var d="y"===c.charAt(0)?a:1/a,f=0;f<u;f++)s*=d}n[l]=s}return n}function m(e,t){var r=e._inputDomain,a=u[e.constraintoward],n=r[0]+(r[1]-r[0])*a;e.domain=e._input.domain=[n+(r[0]-n)/t,n+(r[1]-n)/t],e.setScale()}t.handleDefaults=function(e,t,r){var n,o,l,c,u,f,p,h,g=r.axIds,v=r.axHasImage,m=t._axisConstraintGroups=[],y=t._axisMatchGroups=[];for(n=0;n<g.length;n++)d(u=e[c=i(g[n])],f=t[c],{axIds:g,layoutOut:t,hasImage:v[c]});function x(e,r){for(n=0;n<e.length;n++)for(l in o=e[n])t[i(l)][r]=o}for(x(y,"_matchGroup"),n=0;n<m.length;n++)for(l in o=m[n])if((f=t[i(l)]).fixedrange){for(var b in o){var _=i(b);!1===(e[_]||{}).fixedrange&&a.warn("fixedrange was specified as false for axis "+_+" but was overridden because another axis in its constraint group has fixedrange true"),t[_].fixedrange=!0}break}for(n=0;n<m.length;){for(l in o=m[n]){(f=t[i(l)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(o).length&&(m.splice(n,1),n--);break}n++}x(m,"_constraintGroup");var w=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],k=!1,A=!1;function T(){h=f[p],"rangebreaks"===p&&(A=f._hasDayOfWeekBreaks)}for(n=0;n<y.length;n++){o=y[n];for(var M=0;M<w.length;M++){var L;for(l in p=w[M],h=null,o)if(u=e[c=i(l)],f=t[c],p in f){if(!f.matches&&(L=f,p in u)){T();break}null===h&&p in u&&T()}if("range"===p&&h&&(k=!0),"autorange"===p&&null===h&&k&&(h=!1),null===h&&p in L&&(h=L[p]),null!==h)for(l in o)(f=t[i(l)])[p]="range"===p?h.slice():h,"rangebreaks"===p&&(f._hasDayOfWeekBreaks=A,s(f,t))}}},t.enforce=function(e){var t,r,a,o,s,u,d,f,p=e._fullLayout,h=p._axisConstraintGroups||[];for(t=0;t<h.length;t++){a=v(h[t],p);var g=Object.keys(a),y=1/0,x=0,b=1/0,_={},w={},k=!1;for(r=0;r<g.length;r++)w[o=g[r]]=s=p[i(o)],s._inputDomain?s.domain=s._inputDomain.slice():s._inputDomain=s.domain.slice(),s._inputRange||(s._inputRange=s.range.slice()),s.setScale(),_[o]=u=Math.abs(s._m)/a[o],y=Math.min(y,u),"domain"!==s.constrain&&s._constraintShrinkable||(b=Math.min(b,u)),delete s._constraintShrinkable,x=Math.max(x,u),"domain"===s.constrain&&(k=!0);if(!(y>c*x)||k)for(r=0;r<g.length;r++)if(u=_[o=g[r]],d=(s=w[o]).constrain,u!==b||"domain"===d)if(f=u/b,"range"===d)l(s,f);else{var A=s._inputDomain,T=(s.domain[1]-s.domain[0])/(A[1]-A[0]),M=(s.r2l(s.range[1])-s.r2l(s.range[0]))/(s.r2l(s._inputRange[1])-s.r2l(s._inputRange[0]));if((f/=T)*M<1){s.domain=s._input.domain=A.slice(),l(s,f);continue}if(M<1&&(s.range=s._input.range=s._inputRange.slice(),f*=M),s.autorange){var L=s.r2l(s.range[0]),C=s.r2l(s.range[1]),S=(L+C)/2,z=S,P=S,O=Math.abs(C-S),I=S-O*f*1.0001,R=S+O*f*1.0001,D=n.makePadFn(p,s,0),E=n.makePadFn(p,s,1);m(s,f);var F,B,N=Math.abs(s._m),H=n.concatExtremes(e,s),j=H.min,V=H.max;for(B=0;B<j.length;B++)(F=j[B].val-D(j[B])/N)>I&&F<z&&(z=F);for(B=0;B<V.length;B++)(F=V[B].val+E(V[B])/N)<R&&F>P&&(P=F);f/=(P-z)/(2*O),z=s.l2r(z),P=s.l2r(P),s.range=s._input.range=L<C?[z,P]:[P,z]}m(s,f)}}},t.getAxisGroup=function(e,t){for(var r=e._axisMatchGroups,a=0;a<r.length;a++){if(r[a][t])return"g"+a}return t},t.clean=function(e,t){if(t._inputDomain){for(var r=!1,a=t._id,n=e._fullLayout._axisConstraintGroups,i=0;i<n.length;i++)if(n[i][a]){r=!0;break}r&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},function(e,t){e.exports=!0},function(e,t,r){"use strict";var a=r(4),n=r(1),i=r(19),o=r(0),l=o.strTranslate,s=o.strRotate,c=r(331),u=r(39),d=r(367),f=r(38),p=r(14),h=r(328),g=r(99),v=r(3),m=r(100),y=r(104),x=r(357),b=r(359),_=y.YANGLE,w=Math.PI*_/180,k=1/Math.sin(w),A=Math.cos(w),T=Math.sin(w),M=y.HOVERARROWSIZE,L=y.HOVERTEXTPAD;function C(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}t.hover=function(e,t,r,i){e=o.getGraphDiv(e),o.throttle(e._fullLayout._uid+y.HOVERID,y.HOVERMINTIME,function(){!function(e,t,r,i){r||(r="xy");var l=Array.isArray(r)?r:[r],s=e._fullLayout,u=s._plots||[],f=u[r],g=s._has("cartesian");if(f){var y=f.overlays.map(function(e){return e.id});l=l.concat(y)}for(var x=l.length,b=new Array(x),_=new Array(x),w=!1,A=0;A<x;A++){var T=l[A];if(u[T])w=!0,b[A]=u[T].xaxis,_[A]=u[T].yaxis;else{if(!s[T]||!s[T]._subplot)return void o.warn("Unrecognized subplot: "+T);var M=s[T]._subplot;b[A]=M.xaxis,_[A]=M.yaxis}}var L=t.hovermode||s.hovermode;L&&!w&&(L="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(L)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return h.unhoverRaw(e,t);var S,P,E,F,B,N,H,j,V,G,q,Z,X,U=-1===s.hoverdistance?1/0:s.hoverdistance,W=-1===s.spikedistance?1/0:s.spikedistance,Y=[],Q=[],J={hLinePoint:null,vLinePoint:null},$=!1;if(Array.isArray(t))for(L="array",E=0;E<t.length;E++)(B=e.calcdata[t[E].curveNumber||0])&&(N=B[0].trace,"skip"!==B[0].trace.hoverinfo&&(Q.push(B),"h"===N.orientation&&($=!0)));else{for(F=0;F<e.calcdata.length;F++)B=e.calcdata[F],"skip"!==(N=B[0].trace).hoverinfo&&m.isTraceInSubplots(N,l)&&(Q.push(B),"h"===N.orientation&&($=!0));var K,ee,te=!t.target;if(te)K="xpx"in t?t.xpx:b[0]._length/2,ee="ypx"in t?t.ypx:_[0]._length/2;else{if(!1===c.triggerHandler(e,"plotly_beforehover",t))return;var re=t.target.getBoundingClientRect();K=t.clientX-re.left,ee=t.clientY-re.top,s._calcInverseTransform(e);var ae=o.apply3DTransform(s._invTransform)(K,ee);if(K=ae[0],ee=ae[1],K<0||K>b[0]._length||ee<0||ee>_[0]._length)return h.unhoverRaw(e,t)}if(t.pointerX=K+b[0]._offset,t.pointerY=ee+_[0]._offset,S="xval"in t?m.flat(l,t.xval):m.p2c(b,K),P="yval"in t?m.flat(l,t.yval):m.p2c(_,ee),!n(S[0])||!n(P[0]))return o.warn("Fx.hover failed",t,e),h.unhoverRaw(e,t)}var ne=1/0;function ie(e,r){for(F=0;F<Q.length;F++)if((B=Q[F])&&B[0]&&B[0].trace&&!0===(N=B[0].trace).visible&&0!==N._length&&-1===["carpet","contourcarpet"].indexOf(N._module.name)){if("splom"===N.type?H=l[j=0]:(H=m.getSubplot(N),j=l.indexOf(H)),V=L,m.isUnifiedHover(V)&&(V=V.charAt(0)),Z={cd:B,trace:N,xa:b[j],ya:_[j],maxHoverDistance:U,maxSpikeDistance:W,index:!1,distance:Math.min(ne,U),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:N.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},s[H]&&(Z.subplot=s[H]._subplot),s._splomScenes&&s._splomScenes[N.uid]&&(Z.scene=s._splomScenes[N.uid]),X=Y.length,"array"===V){var a=t[F];"pointNumber"in a?(Z.index=a.pointNumber,V="closest"):(V="","xval"in a&&(G=a.xval,V="x"),"yval"in a&&(q=a.yval,V=V?"closest":"y"))}else void 0!==e&&void 0!==r?(G=e,q=r):(G=S[j],q=P[j]);if(0!==U)if(N._module&&N._module.hoverPoints){var i=N._module.hoverPoints(Z,G,q,V,s._hoverlayer);if(i)for(var c,u=0;u<i.length;u++)c=i[u],n(c.x0)&&n(c.y0)&&Y.push(I(c,L))}else o.log("Unrecognized trace type in hover:",N);if("closest"===L&&Y.length>X&&(Y.splice(0,X),ne=Y[0].distance),g&&0!==W&&0===Y.length){Z.distance=W,Z.index=!1;var d=N._module.hoverPoints(Z,G,q,"closest",s._hoverlayer);if(d&&(d=d.filter(function(e){return e.spikeDistance<=W})),d&&d.length){var f,h=d.filter(function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap});if(h.length){var v=h[0];n(v.x0)&&n(v.y0)&&(f=le(v),(!J.vLinePoint||J.vLinePoint.spikeDistance>f.spikeDistance)&&(J.vLinePoint=f))}var y=d.filter(function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap});if(y.length){var x=y[0];n(x.x0)&&n(x.y0)&&(f=le(x),(!J.hLinePoint||J.hLinePoint.spikeDistance>f.spikeDistance)&&(J.hLinePoint=f))}}}}}function oe(e,t){for(var r,a=null,n=1/0,i=0;i<e.length;i++)(r=e[i].spikeDistance)<=n&&r<=t&&(a=e[i],n=r);return a}function le(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}ie();var se={fullLayout:s,container:s._hoverlayer,outerContainer:s._paperdiv,event:t},ce=e._spikepoints,ue={vLinePoint:J.vLinePoint,hLinePoint:J.hLinePoint};if(e._spikepoints=ue,g&&0!==W&&0!==Y.length){var de=Y.filter(function(e){return e.ya.showspikes}),fe=oe(de,W);J.hLinePoint=le(fe);var pe=Y.filter(function(e){return e.xa.showspikes}),he=oe(pe,W);J.vLinePoint=le(he)}if(0===Y.length){var ge=h.unhoverRaw(e,t);return!g||null===J.hLinePoint&&null===J.vLinePoint||D(ce)&&R(e,J,se),ge}g&&D(ce)&&R(e,J,se);if(Y.sort(function(e,t){return e.distance-t.distance}),m.isXYhover(V)&&0!==Y[0].length&&"splom"!==Y[0].trace.type){var ve=Y[0],me=ve.cd[ve.index],ye="group"===s.boxmode||"group"===s.violinmode,xe=ve.xVal,be=ve.xa;"category"===be.type&&(xe=be._categoriesMap[xe]),"date"===be.type&&(xe=be.d2c(xe)),me&&me.t&&me.t.posLetter===be._id&&ye&&(xe+=me.t.dPos);var _e=ve.yVal;"category"===(be=ve.ya).type&&(_e=be._categoriesMap[_e]),"date"===be.type&&(_e=be.d2c(_e)),me&&me.t&&me.t.posLetter===be._id&&ye&&(_e+=me.t.dPos),ie(xe,_e);var we={};Y=Y.filter(function(e){var t=C(e);if(!we[t])return we[t]=!0,we[t]})}var ke=e._hoverdata,Ae=[];for(E=0;E<Y.length;E++){var Te=Y[E],Me=m.makeEventData(Te,Te.trace,Te.cd);if(!1!==Te.hovertemplate){var Le=!1;Te.cd[Te.index]&&Te.cd[Te.index].ht&&(Le=Te.cd[Te.index].ht),Te.hovertemplate=Le||Te.trace.hovertemplate||!1}Te.eventData=[Me],Ae.push(Me)}e._hoverdata=Ae;var Ce="y"===L&&(Q.length>1||Y.length>1)||"closest"===L&&$&&Y.length>1,Se=p.combine(s.plot_bgcolor||p.background,s.paper_bgcolor),ze={hovermode:L,rotateLabels:Ce,bgColor:Se,container:s._hoverlayer,outerContainer:s._paperdiv,commonLabelOpts:s.hoverlabel,hoverdistance:s.hoverdistance},Pe=z(Y,ze,e);m.isUnifiedHover(L)||(!function(e,t,r){var a,n,i,o,l,s,c,u=0,d=1,f=e.size(),p=new Array(f),h=0;function g(e){var t=e[0],r=e[e.length-1];if(n=t.pmin-t.pos-t.dp+t.size,i=r.pos+r.dp+r.size-t.pmax,n>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=n;a=!1}if(!(i<.01)){if(n<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;a=!1}if(a){var c=0;for(o=0;o<e.length;o++)(s=e[o]).pos+s.dp+s.size>t.pmax&&c++;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos>t.pmax-1&&(s.del=!0,c--);for(o=0;o<e.length&&!(c<=0);o++)if((s=e[o]).pos<t.pmin+1)for(s.del=!0,c--,i=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}e.each(function(e){var a=e[t],n="x"===a._id.charAt(0),i=a.range;0===h&&i&&i[0]>i[1]!==n&&(d=-1),p[h++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(n?k:1)/2,pmin:0,pmax:n?r.width:r.height}]}),p.sort(function(e,t){return e[0].posref-t[0].posref||d*(t[0].traceIndex-e[0].traceIndex)});for(;!a&&u<=f;){for(u++,a=!0,o=0;o<p.length-1;){var v=p[o],m=p[o+1],y=v[v.length-1],x=m[0];if((n=y.pos+y.dp+y.size-x.pos-x.dp+x.size)>.01&&y.pmin===x.pmin&&y.pmax===x.pmax){for(l=m.length-1;l>=0;l--)m[l].dp+=n;for(v.push.apply(v,m),p.splice(o+1,1),c=0,l=v.length-1;l>=0;l--)c+=v[l].dp;for(i=c/v.length,l=v.length-1;l>=0;l--)v[l].dp-=i;a=!1}else o++}p.forEach(g)}for(o=p.length-1;o>=0;o--){var b=p[o];for(l=b.length-1;l>=0;l--){var _=b[l],w=_.datum;w.offset=_.dp,w.del=_.del}}}(Pe,Ce?"xa":"ya",s),O(Pe,Ce,s._invScaleX,s._invScaleY));if(t.target&&t.target.tagName){var Oe=v.getComponentMethod("annotations","hasClickToShow")(e,Ae);d(a.select(t.target),Oe?"pointer":"")}if(!t.target||i||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var a=r.length-1;a>=0;a--){var n=r[a],i=e._hoverdata[a];if(n.curveNumber!==i.curveNumber||String(n.pointNumber)!==String(i.pointNumber)||String(n.pointNumbers)!==String(i.pointNumbers))return!0}return!1}(e,0,ke))return;ke&&e.emit("plotly_unhover",{event:t,points:ke});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:b,yaxes:_,xvals:S,yvals:P})}(e,t,r,i)})},t.loneHover=function(e,t){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var n=e.map(function(e){return{color:e.color||p.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}}),i=a.select(t.container),o=t.outerContainer?a.select(t.outerContainer):i,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||p.background,container:i,outerContainer:o},s=z(n,l,t.gd),c=0,u=0;s.sort(function(e,t){return e.y0-t.y0}).each(function(e,r){var a=e.y0-e.by/2;e.offset=a-5<c?c-a+5:0,c=a+e.by+e.offset,r===t.anchorIndex&&(u=e.offset)}).each(function(e){e.offset-=u});var d=t.gd._fullLayout._invScaleX,f=t.gd._fullLayout._invScaleY;return O(s,l.rotateLabels,d,f),r?s:s.node()};var S=/<extra>([\s\S]*)<\/extra>/;function z(e,t,r){var n=r._fullLayout,i=t.hovermode,c=t.rotateLabels,d=t.bgColor,h=t.container,g=t.outerContainer,v=t.commonLabelOpts||{},w=t.fontFamily||y.HOVERFONT,k=t.fontSize||y.HOVERFONTSIZE,A=e[0],T=A.xa,S=A.ya,z="y"===i.charAt(0)?"yLabel":"xLabel",O=A[z],I=(String(O)||"").split(" ")[0],R=g.node().getBoundingClientRect(),D=R.top,E=R.width,F=R.height,B=void 0!==O&&A.distance<=t.hoverdistance&&("x"===i||"y"===i);if(B){var N,H,j=!0;for(N=0;N<e.length;N++)if(j&&void 0===e[N].zLabel&&(j=!1),H=e[N].hoverinfo||e[N].trace.hoverinfo){var V=Array.isArray(H)?H:H.split("+");if(-1===V.indexOf("all")&&-1===V.indexOf(i)){B=!1;break}}j&&(B=!1)}var G=h.selectAll("g.axistext").data(B?[0]:[]);function q(e){return e.filter(function(e){return void 0!==e.zLabelVal||(e[z]||"").split(" ")[0]===I})}if(G.enter().append("g").classed("axistext",!0),G.exit().remove(),G.each(function(){var t=a.select(this),s=o.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),c=o.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),d=v.bgcolor||p.defaultLine,h=v.bordercolor||p.contrast(d),g=p.contrast(d),m={family:v.font.family||w,size:v.font.size||k,color:v.font.color||g};s.style({fill:d,stroke:h}),c.text(O).call(f.font,m).call(u.positionText,0,0).call(u.convertToTspans,r),t.attr("transform","");var y,x,b=c.node().getBoundingClientRect();if("x"===i){var _="top"===T.side?"-":"";c.attr("text-anchor","middle").call(u.positionText,0,"top"===T.side?D-b.bottom-M-L:D-b.top+M+L),y=T._offset+(A.x0+A.x1)/2,x=S._offset+("top"===T.side?0:S._length);var C=b.width/2+L;y<C?(y=C,s.attr("d","M-"+(C-M)+",0L-"+(C-2*M)+","+_+M+"H"+(L+b.width/2)+"v"+_+(2*L+b.height)+"H-"+C+"V"+_+M+"Z")):y>n.width-C?(y=n.width-C,s.attr("d","M"+(C-M)+",0L"+C+","+_+M+"v"+_+(2*L+b.height)+"H-"+C+"V"+_+M+"H"+(C-2*M)+"Z")):s.attr("d","M0,0L"+M+","+_+M+"H"+(L+b.width/2)+"v"+_+(2*L+b.height)+"H-"+(L+b.width/2)+"V"+_+M+"H-"+M+"Z")}else{var z,P,I;"right"===S.side?(z="start",P=1,I="",y=T._offset+T._length):(z="end",P=-1,I="-",y=T._offset),x=S._offset+(A.y0+A.y1)/2,c.attr("text-anchor",z),s.attr("d","M0,0L"+I+M+","+M+"V"+(L+b.height/2)+"h"+I+(2*L+b.width)+"V-"+(L+b.height/2)+"H"+I+M+"V-"+M+"Z");var R,E=b.height/2,F=D-b.top-E,B="clip"+n._uid+"commonlabel"+S._id;if(y<b.width+2*L+M){R="M-"+(M+L)+"-"+E+"h-"+(b.width-L)+"V"+E+"h"+(b.width-L)+"Z";var N=b.width-y+L;u.positionText(c,N,F),"end"===z&&c.selectAll("tspan").each(function(){var e=a.select(this),t=f.tester.append("text").text(e.text()).call(f.font,m),r=t.node().getBoundingClientRect();Math.round(r.width)<Math.round(b.width)&&e.attr("x",N-r.width),t.remove()})}else u.positionText(c,P*(L+M),F),R=null;var H=n._topclips.selectAll("#"+B).data(R?[0]:[]);H.enter().append("clipPath").attr("id",B).append("path"),H.exit().remove(),H.select("path").attr("d",R),f.setClipUrl(c,R?B:null,r)}t.attr("transform",l(y,x)),e=q(e)}),m.isUnifiedHover(i)){if(h.selectAll("g.hovertext").remove(),void 0!==O&&A.distance<=t.hoverdistance&&(e=q(e)),0===e.length)return;var Z={showlegend:!0,legend:{title:{text:O,font:n.hoverlabel.font},font:n.hoverlabel.font,bgcolor:n.hoverlabel.bgcolor,bordercolor:n.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},X={};x(Z,X,r._fullData);var U=X.legend;U.entries=[];for(var W=0;W<e.length;W++){var Y=P(e[W],!0,i,n,O),Q=Y[0],J=Y[1],$=e[W];$.name=J,$.text=""!==J?J+" : "+Q:Q;var K=$.cd[$.index];K&&(K.mc&&($.mc=K.mc),K.mcc&&($.mc=K.mcc),K.mlc&&($.mlc=K.mlc),K.mlcc&&($.mlc=K.mlcc),K.mlw&&($.mlw=K.mlw),K.mrc&&($.mrc=K.mrc),K.dir&&($.dir=K.dir)),$._distinct=!0,U.entries.push([$])}U.entries.sort(function(e,t){return e[0].trace.index-t[0].trace.index}),U.layer=h,b(r,U);var ee=o.mean(e.map(function(e){return(e.y0+e.y1)/2})),te=o.mean(e.map(function(e){return(e.x0+e.x1)/2})),re=h.select("g.legend"),ae=re.node().getBoundingClientRect();te+=T._offset,ee+=S._offset-ae.height/2;var ne=ae.width+2*L;!(te+ne<=E)&&te-ne>=0?te-=ne:te+=2*L;var ie=ae.height+2*L,oe=ee+ie>=F;return ie<=F&&(ee<=D?ee=S._offset+2*L:oe&&(ee=F-ie)),re.attr("transform",l(te,ee)),re}var le=h.selectAll("g.hovertext").data(e,function(e){return C(e)});return le.enter().append("g").classed("hovertext",!0).each(function(){var e=a.select(this);e.append("rect").call(p.fill,p.addOpacity(d,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(f.font,w,k)}),le.exit().remove(),le.each(function(e){var t=a.select(this).attr("transform",""),o=e.color;Array.isArray(o)&&(o=o[e.eventData[0].pointNumber]);var h=e.bgcolor||o,g=p.combine(p.opacity(h)?h:p.defaultLine,d),v=p.combine(p.opacity(o)?o:p.defaultLine,d),m=e.borderColor||p.contrast(g),y=P(e,B,i,n,O,t),x=y[0],b=y[1],A=t.select("text.nums").call(f.font,e.fontFamily||w,e.fontSize||k,e.fontColor||m).text(x).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r),T=t.select("text.name"),C=0,S=0;if(b&&b!==x){T.call(f.font,e.fontFamily||w,e.fontSize||k,v).text(b).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r);var z=T.node().getBoundingClientRect();C=z.width+2*L,S=z.height+2*L}else T.remove(),t.select("rect").remove();t.select("path").style({fill:g,stroke:m});var I,R,N=A.node().getBoundingClientRect(),H=e.xa._offset+(e.x0+e.x1)/2,j=e.ya._offset+(e.y0+e.y1)/2,V=Math.abs(e.x1-e.x0),G=Math.abs(e.y1-e.y0),q=N.width+M+L+C;if(e.ty0=D-N.top,e.bx=N.width+2*L,e.by=Math.max(N.height+2*L,S),e.anchor="start",e.txwidth=N.width,e.tx2width=C,e.offset=0,c)e.pos=H,I=j+G/2+q<=F,R=j-G/2-q>=0,"top"!==e.idealAlign&&I||!R?I?(j+=G/2,e.anchor="start"):e.anchor="middle":(j-=G/2,e.anchor="end");else if(e.pos=j,I=H+V/2+q<=E,R=H-V/2-q>=0,"left"!==e.idealAlign&&I||!R)if(I)H+=V/2,e.anchor="start";else{e.anchor="middle";var Z=q/2,X=H+Z-E,U=H-Z;X>0&&(H-=X),U<0&&(H+=-U)}else H-=V/2,e.anchor="end";A.attr("text-anchor",e.anchor),C&&T.attr("text-anchor",e.anchor),t.attr("transform",l(H,j)+(c?s(_):""))}),le}function P(e,t,r,a,n,i){var l="",s="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=o.templateString(e.name,e.trace._meta)),l=E(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(s+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(s+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[r.charAt(0)+"Label"]===n?s=e[("x"===r.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(s=e.yLabel):s=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(s+=(s?"<br>":"")+e.text),void 0!==e.extraText&&(s+=(s?"<br>":"")+e.extraText),i&&""===s&&!e.hovertemplate&&(""===l&&i.remove(),s=l);var c=a._d3locale,u=e.hovertemplate||!1,d=e.hovertemplateLabels||e,f=e.eventData[0]||{};return u&&(s=(s=o.hovertemplateString(u,d,c,f,e.trace._meta)).replace(S,function(t,r){return l=E(r,e.nameLength),""})),[s,l]}function O(e,t,r,n){var i=function(e){return e*r},o=function(e){return e*n};e.each(function(e){var r=a.select(this);if(e.del)return r.remove();var n=r.select("text.nums"),l=e.anchor,s="end"===l?-1:1,c={start:1,end:-1,middle:0}[l],d=c*(M+L),p=d+c*(e.txwidth+L),h=0,g=e.offset,v="middle"===l;v&&(d-=e.tx2width/2,p+=e.txwidth/2+L),t&&(g*=-T,h=e.offset*A),r.select("path").attr("d",v?"M-"+i(e.bx/2+e.tx2width/2)+","+o(g-e.by/2)+"h"+i(e.bx)+"v"+o(e.by)+"h-"+i(e.bx)+"Z":"M0,0L"+i(s*M+h)+","+o(M+g)+"v"+o(e.by/2-M)+"h"+i(s*e.bx)+"v-"+o(e.by)+"H"+i(s*M+h)+"V"+o(g-M)+"Z");var m=h+d,y=g+e.ty0-e.by/2+L,x=e.textAlign||"auto";"auto"!==x&&("left"===x&&"start"!==l?(n.attr("text-anchor","start"),m=v?-e.bx/2-e.tx2width/2+L:-e.bx-L):"right"===x&&"end"!==l&&(n.attr("text-anchor","end"),m=v?e.bx/2-e.tx2width/2-L:e.bx+L)),n.call(u.positionText,i(m),o(y)),e.tx2width&&(r.select("text.name").call(u.positionText,i(p+c*L+h),o(g+e.ty0-e.by/2+L)),r.select("rect").call(f.setRect,i(p+(c-1)*e.tx2width/2+h),o(g-e.by/2-1),i(e.tx2width),o(e.by+2)))})}function I(e,t){var r=e.index,a=e.trace||{},i=e.cd[0],l=e.cd[r]||{};function s(e){return e||n(e)&&0===e}var c=Array.isArray(r)?function(e,t){var n=o.castOption(i,r,e);return s(n)?n:o.extractOption({},a,"",t)}:function(e,t){return o.extractOption(l,a,e,t)};function u(t,r,a){var n=c(r,a);s(n)&&(e[t]=n)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===a.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:g.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:g.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var d=g.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+d+" / -"+g.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+d,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var f=g.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+f+" / -"+g.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+f,"y"===t&&(e.distance+=1)}var p=e.hoverinfo||e.trace.hoverinfo;return p&&"all"!==p&&(-1===(p=Array.isArray(p)?p:p.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===p.indexOf("y")&&(e.yLabel=void 0),-1===p.indexOf("z")&&(e.zLabel=void 0),-1===p.indexOf("text")&&(e.text=void 0),-1===p.indexOf("name")&&(e.name=void 0)),e}function R(e,t,r){var a,n,o=r.container,l=r.fullLayout,s=l._size,c=r.event,u=!!t.hLinePoint,d=!!t.vLinePoint;if(o.selectAll(".spikeline").remove(),d||u){var h=p.combine(l.plot_bgcolor,l.paper_bgcolor);if(u){var v,m,y=t.hLinePoint;a=y&&y.xa,"cursor"===(n=y&&y.ya).spikesnap?(v=c.pointerX,m=c.pointerY):(v=a._offset+y.x,m=n._offset+y.y);var x,b,_=i.readability(y.color,h)<1.5?p.contrast(h):y.color,w=n.spikemode,k=n.spikethickness,A=n.spikecolor||_,T=g.getPxPosition(e,n);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(x=T,b=v),-1!==w.indexOf("across")){var M=n._counterDomainMin,L=n._counterDomainMax;"free"===n.anchor&&(M=Math.min(M,n.position),L=Math.max(L,n.position)),x=s.l+M*s.w,b=s.l+L*s.w}o.insert("line",":first-child").attr({x1:x,x2:b,y1:m,y2:m,"stroke-width":k,stroke:A,"stroke-dasharray":f.dashStyle(n.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:x,x2:b,y1:m,y2:m,"stroke-width":k+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:T+("right"!==n.side?k:-k),cy:m,r:k,fill:A}).classed("spikeline",!0)}if(d){var C,S,z=t.vLinePoint;a=z&&z.xa,n=z&&z.ya,"cursor"===a.spikesnap?(C=c.pointerX,S=c.pointerY):(C=a._offset+z.x,S=n._offset+z.y);var P,O,I=i.readability(z.color,h)<1.5?p.contrast(h):z.color,R=a.spikemode,D=a.spikethickness,E=a.spikecolor||I,F=g.getPxPosition(e,a);if(-1!==R.indexOf("toaxis")||-1!==R.indexOf("across")){if(-1!==R.indexOf("toaxis")&&(P=F,O=S),-1!==R.indexOf("across")){var B=a._counterDomainMin,N=a._counterDomainMax;"free"===a.anchor&&(B=Math.min(B,a.position),N=Math.max(N,a.position)),P=s.t+(1-N)*s.h,O=s.t+(1-B)*s.h}o.insert("line",":first-child").attr({x1:C,x2:C,y1:P,y2:O,"stroke-width":D,stroke:E,"stroke-dasharray":f.dashStyle(a.spikedash,D)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:C,x2:C,y1:P,y2:O,"stroke-width":D+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)}-1!==R.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:C,cy:F-("top"!==a.side?D:-D),r:D,fill:E}).classed("spikeline",!0)}}}function D(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function E(e,t){return u.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},function(e,t,r){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},function(e,t,r){"use strict";var a=r(342);e.exports=a&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},function(e,t,r){"use strict";var a=r(0),n=r(102);e.exports=function(e,t,r){function i(r,i){return void 0!==t[r]?t[r]:a.coerce(e,t,n,r,i)}var o,l=i("clickmode");return t._has("cartesian")?l.indexOf("select")>-1?o="closest":(t._isHoriz=function(e,t){for(var r=t._scatterStackOpts||{},a=0;a<e.length;a++){var n=e[a],i=n.xaxis+n.yaxis,o=r[i]||{},l=o[n.stackgroup]||{};if("h"!==n.orientation&&"h"!==l.orientation)return!1}return!0}(r,t),o=t._isHoriz?"y":"x"):o="closest",i("hovermode",o)}},function(e,t,r){"use strict";var a=r(28).FROM_BL;e.exports=function(e,t,r){void 0===r&&(r=a[e.constraintoward||"center"]);var n=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=n[0]+(n[1]-n[0])*r;e.range=e._input.range=[e.l2r(i+(n[0]-i)*t),e.l2r(i+(n[1]-i)*t)],e.setScale()}},function(e,t,r){"use strict";var a=r(4),n=r(3),i=r(57),o=r(0),l=r(338),s=r(14),c=r(38),u=r(111),d=r(387),f=r(99),p=r(28),h=r(341),g=h.enforce,v=h.clean,m=r(107).doAutoRange,y="start",x="middle",b="end";function _(e,t,r){for(var a=0;a<r.length;a++){var n=r[a][0],i=r[a][1];if(!(n[0]>=e[1]||n[1]<=e[0])&&(i[0]<t[1]&&i[1]>t[0]))return!0}return!1}function w(e){var r,n,l,u,h,g,v=e._fullLayout,m=v._size,y=m.p,x=f.list(e,"",!0);if(v._paperdiv.style({width:e._context.responsive&&v.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":v.width+"px",height:e._context.responsive&&v.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":v.height+"px"}).selectAll(".main-svg").call(c.setSize,v.width,v.height),e._context.setBackground(e,v.paper_bgcolor),t.drawMainTitle(e),d.manage(e),!v._has("cartesian"))return i.previousPromises(e);function b(e,t,r){var a=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===r?t._offset-y-a:t._offset+t._length+y+a:m.t+m.h*(1-(e.position||0))+a%1:t?"right"===r?t._offset+t._length+y+a:t._offset-y-a:m.l+m.w*(e.position||0)+a%1}for(r=0;r<x.length;r++){var w=(u=x[r])._anchorAxis;u._linepositions={},u._lw=c.crispRound(e,u.linewidth,1),u._mainLinePosition=b(u,w,u.side),u._mainMirrorPosition=u.mirror&&w?b(u,w,p.OPPOSITE_SIDE[u.side]):null}var A=[],M=[],L=[],C=1===s.opacity(v.paper_bgcolor)&&1===s.opacity(v.plot_bgcolor)&&v.paper_bgcolor===v.plot_bgcolor;for(n in v._plots)if((l=v._plots[n]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var S=l.xaxis.domain,z=l.yaxis.domain,P=l.plotgroup;if(_(S,z,L)){var O=P.node(),I=l.bg=o.ensureSingle(P,"rect","bg");O.insertBefore(I.node(),O.childNodes[0]),M.push(n)}else P.select("rect.bg").remove(),L.push([S,z]),C||(A.push(n),M.push(n))}var R,D,E,F,B,N,H,j,V,G,q,Z,X,U=v._bgLayer.selectAll(".bg").data(A);for(U.enter().append("rect").classed("bg",!0),U.exit().remove(),U.each(function(e){v._plots[e].bg=a.select(this)}),r=0;r<M.length;r++)l=v._plots[M[r]],h=l.xaxis,g=l.yaxis,l.bg&&void 0!==h._offset&&void 0!==g._offset&&l.bg.call(c.setRect,h._offset-y,g._offset-y,h._length+2*y,g._length+2*y).call(s.fill,v.plot_bgcolor).style("stroke-width",0);if(!v._hasOnlyLargeSploms)for(n in v._plots){l=v._plots[n],h=l.xaxis,g=l.yaxis;var W,Y,Q=l.clipId="clip"+v._uid+n+"plot",J=o.ensureSingleById(v._clips,"clipPath",Q,function(e){e.classed("plotclip",!0).append("rect")});l.clipRect=J.select("rect").attr({width:h._length,height:g._length}),c.setTranslate(l.plot,h._offset,g._offset),l._hasClipOnAxisFalse?(W=null,Y=Q):(W=Q,Y=null),c.setClipUrl(l.plot,W,e),l.layerClipId=Y}function $(e){return"M"+R+","+e+"H"+D}function K(e){return"M"+h._offset+","+e+"h"+h._length}function ee(e){return"M"+e+","+j+"V"+H}function te(e){return"M"+e+","+g._offset+"v"+g._length}function re(e,t,r){if(!e.showline||n!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var a=t(e._mainLinePosition);return e.mirror&&(a+=t(e._mainMirrorPosition)),a}for(n in v._plots){l=v._plots[n],h=l.xaxis,g=l.yaxis;var ae="M0,0";k(h,n)&&(B=T(h,"left",g,x),R=h._offset-(B?y+B:0),N=T(h,"right",g,x),D=h._offset+h._length+(N?y+N:0),E=b(h,g,"bottom"),F=b(h,g,"top"),!(X=!h._anchorAxis||n!==h._mainSubplot)||"allticks"!==h.mirror&&"all"!==h.mirror||(h._linepositions[n]=[E,F]),ae=re(h,$,K),X&&h.showline&&("all"===h.mirror||"allticks"===h.mirror)&&(ae+=$(E)+$(F)),l.xlines.style("stroke-width",h._lw+"px").call(s.stroke,h.showline?h.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",ae);var ne="M0,0";k(g,n)&&(q=T(g,"bottom",h,x),H=g._offset+g._length+(q?y:0),Z=T(g,"top",h,x),j=g._offset-(Z?y:0),V=b(g,h,"left"),G=b(g,h,"right"),!(X=!g._anchorAxis||n!==g._mainSubplot)||"allticks"!==g.mirror&&"all"!==g.mirror||(g._linepositions[n]=[V,G]),ne=re(g,ee,te),X&&g.showline&&("all"===g.mirror||"allticks"===g.mirror)&&(ne+=ee(V)+ee(G)),l.ylines.style("stroke-width",g._lw+"px").call(s.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",ne)}return f.makeClipPaths(e),i.previousPromises(e)}function k(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function A(e,t,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var a=r._anchorAxis;if(!a)return!1;var n=p.FROM_BL[t];return r.side===t?a.domain[n]===e.domain[n]:r.mirror&&a.domain[1-n]===e.domain[1-n]}function T(e,t,r,a){if(A(e,t,r))return r._lw;for(var n=0;n<a.length;n++){var i=a[n];if(i._mainAxis===r._mainAxis&&A(e,t,i))return i._lw}return 0}t.layoutStyles=function(e){return o.syncOrAsync([i.doAutoMargin,w],e)},t.drawMainTitle=function(e){var t=e._fullLayout,r=function(e){var t=e.title,r=x;o.isRightAnchor(t)?r=b:o.isLeftAnchor(t)&&(r=y);return r}(t),a=function(e){var t=e.title,r="0em";o.isTopAnchor(t)?r=p.CAP_SHIFT+"em":o.isMiddleAnchor(t)&&(r=p.MID_SHIFT+"em");return r}(t);u.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:function(e,t){var r=e.title,a=e._size,n=0;t===y?n=r.pad.l:t===b&&(n=-r.pad.r);switch(r.xref){case"paper":return a.l+a.w*r.x+n;case"container":default:return e.width*r.x+n}}(t,r),y:function(e,t){var r=e.title,a=e._size,n=0;"0em"!==t&&t?t===p.CAP_SHIFT+"em"&&(n=r.pad.t):n=-r.pad.b;if("auto"===r.y)return a.t/2;switch(r.yref){case"paper":return a.t+a.h-a.h*r.y+n;case"container":default:return e.height-e.height*r.y+n}}(t,a),"text-anchor":r,dy:a}})},t.doTraceStyle=function(e){var r,a=e.calcdata,o=[];for(r=0;r<a.length;r++){var s=a[r],c=s[0]||{},u=c.trace||{},d=u._module||{},f=d.arraysToCalcdata;f&&f(s,u);var p=d.editStyle;p&&o.push({fn:p,cd0:c})}if(o.length){for(r=0;r<o.length;r++){var h=o[r];h.fn(e,h.cd0)}l(e),t.redrawReglTraces(e)}return i.style(e),n.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doColorBars=function(e){return n.getComponentMethod("colorbar","draw")(e),i.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,n.call("plot",e,"",t)},t.doLegend=function(e){return n.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doTicksRelayout=function(e){return f.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(n.subplotsRegistry.splom.updateGrid(e),l(e),t.redrawReglTraces(e)),t.drawMainTitle(e),i.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;d.manage(e);for(var r=0;r<t._basePlotModules.length;r++){var a=t._basePlotModules[r].updateFx;a&&a(e)}return i.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,r=t._subplots.gl3d,a=0;a<r.length;a++){var n=t[r[a]];n._scene.setViewport(n)}},t.drawData=function(e){var r=e._fullLayout;l(e);for(var a=r._basePlotModules,o=0;o<a.length;o++)a[o].plot(e);return t.redrawReglTraces(e),i.style(e),n.getComponentMethod("shapes","draw")(e),n.getComponentMethod("annotations","draw")(e),n.getComponentMethod("images","draw")(e),r._replotting=!1,i.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var r,a,n=e._fullData,i=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),r=0;r<n.length;r++){var s=n[r];!0===s.visible&&0!==s._length&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?o.pushUnique(i,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&o.pushUnique(l,s.subplot))}for(r=0;r<i.length;r++)(a=t._plots[i[r]])._scene&&a._scene.draw();for(r=0;r<l.length;r++)(a=t[l[r]]._subplot)._scene&&a._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t,r=f.list(e,"",!0),a={},n=0;n<r.length;n++)if(!a[(t=r[n])._id]){a[t._id]=1,v(e,t),m(e,t);var i=t._matchGroup;if(i)for(var o in i){var l=f.getFromId(e,o);m(e,l,t.range),a[o]=1}}g(e)},t.finalDraw=function(e){n.getComponentMethod("rangeslider","draw")(e),n.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){n.getComponentMethod("legend","draw")(e),n.getComponentMethod("rangeselector","draw")(e),n.getComponentMethod("sliders","draw")(e),n.getComponentMethod("updatemenus","draw")(e),n.getComponentMethod("colorbar","draw")(e)}},function(e,t,r){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},function(e,t,r){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},,function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(r=this._events[e]))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),r.apply(this,l)}else if(n(r))for(l=Array.prototype.slice.call(arguments,1),o=(c=r.slice()).length,s=0;s<o;s++)c[s].apply(this,l);return!0},r.prototype.addListener=function(e,t){var o;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?n(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,n(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var r,i,o,l;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,i=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(r)){for(l=o;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){i=l;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";var a=r(14),n=r(337).castOption;e.exports=function(e,t,r){var i=r.marker.line,o=n(i.color,t.pts)||a.defaultLine,l=n(i.width,t.pts)||0;e.style("stroke-width",l).call(a.fill,t.color).call(a.stroke,o)}},function(e,t,r){"use strict";var a=r(328),n=r(334).drawMode,i=r(3),o=r(339),l=o.i000,s=o.i090,c=o.i180,u=o.i270,d=r(103).clearOutlineControllers,f=r(335),p=f.pointsShapeRectangle,h=f.pointsShapeEllipse,g=f.writePaths,v=r(355);e.exports=function e(t,r,o,f){f||(f=0);var m=o.gd;function y(){e(t,r,o,f++),h(t[0])&&x({redrawing:!0})}function x(e){o.isActiveShape=!1;var t=v(r,o);Object.keys(t).length&&i.call((e||{}).redrawing?"relayout":"_guiRelayout",m,t)}var b,_,w,k,A,T=o.isActiveShape,M=m._fullLayout._zoomlayer,L=o.dragmode;(n(L)?m._fullLayout._drawing=!0:m._fullLayout._activeShapeIndex>=0&&d(m),r.attr("d",g(t)),T&&!f)&&(A=function(e,t){for(var r=0;r<t.length;r++){var a=t[r];e[r]=[];for(var n=0;n<a.length;n++){e[r][n]=[];for(var i=0;i<a[n].length;i++)e[r][n][i]=a[n][i]}}return e}([],t),function(e){b=[];for(var r=0;r<t.length;r++){var n=t[r],i=p(n),o=!i&&h(n);b[r]=[];for(var d=0;d<n.length;d++)if("Z"!==n[d][0]&&(!o||d===l||d===s||d===c||d===u)){var f=n[d][1],g=n[d][2],v=e.append("circle").classed("cursor-grab",!0).attr("data-i",r).attr("data-j",d).attr("cx",f).attr("cy",g).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});b[r][d]={element:v.node(),gd:m,prepFn:C,doneFn:z,clickFn:P},a.init(b[r][d])}}}(M.append("g").attr("class","outline-controllers")),function(){if(_=[],!t.length)return;_[0]={element:r[0][0],gd:m,prepFn:I,doneFn:R},a.init(_[0])}());function C(e){w=+e.srcElement.getAttribute("data-i"),k=+e.srcElement.getAttribute("data-j"),b[w][k].moveFn=S}function S(e,r){if(t.length){var a=A[w][k][1],n=A[w][k][2],i=t[w],o=i.length;if(p(i)){for(var l=0;l<o;l++)if(l!==k){var s=i[l];s[1]===i[k][1]&&(s[1]=a+e),s[2]===i[k][2]&&(s[2]=n+r)}if(i[k][1]=a+e,i[k][2]=n+r,!p(i))for(var c=0;c<o;c++)for(var u=0;u<i[c].length;u++)i[c][u]=A[w][c][u]}else i[k][1]=a+e,i[k][2]=n+r;y()}}function z(){x()}function P(e,r){if(2===e){w=+r.srcElement.getAttribute("data-i"),k=+r.srcElement.getAttribute("data-j");var a=t[w];p(a)||h(a)||function(){if(t.length&&t[w]&&t[w].length){for(var e=[],r=0;r<t[w].length;r++)r!==k&&e.push(t[w][r]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===k&&(e[0][0]="M"),t[w]=e,y(),x())}}()}}function O(e,r){!function(e,r){if(t.length)for(var a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++)for(var i=0;i+2<t[a][n].length;i+=2)t[a][n][i+1]=A[a][n][i+1]+e,t[a][n][i+2]=A[a][n][i+2]+r}(e,r),y()}function I(e){(w=+e.srcElement.getAttribute("data-i"))||(w=0),_[w].moveFn=O}function R(){x()}}},function(e,t,r){"use strict";var a=r(334),n=a.drawMode,i=a.openMode,o=r(339),l=o.i000,s=o.i090,c=o.i180,u=o.i270,d=o.cos45,f=o.sin45,p=r(340),h=p.p2r,g=p.r2p,v=r(103).clearSelect,m=r(335),y=m.readPaths,x=m.writePaths,b=m.ellipseOver;e.exports=function(e,t){if(e.length){var r=e[0][0];if(r){var a=r.getAttribute("d"),o=t.gd,p=o._fullLayout.newshape,m=t.plotinfo,_=m.xaxis,w=m.yaxis,k=!!m.domain||!m.xaxis,A=!!m.domain||!m.yaxis,T=t.isActiveShape,M=t.dragmode,L=(o.layout||{}).shapes||[];if(!n(M)&&void 0!==T){var C=o._fullLayout._activeShapeIndex;if(C<L.length)switch(o._fullLayout.shapes[C].type){case"rect":M="drawrect";break;case"circle":M="drawcircle";break;case"line":M="drawline";break;case"path":var S=L[C].path||"";M="Z"===S[S.length-1]?"drawclosedpath":"drawopenpath"}}var z,P=i(M),O=y(a,o,m,T),I={editable:!0,xref:k?"paper":_._id,yref:A?"paper":w._id,layer:p.layer,opacity:p.opacity,line:{color:p.line.color,width:p.line.width,dash:p.line.dash}};if(P||(I.fillcolor=p.fillcolor,I.fillrule=p.fillrule),1===O.length&&(z=O[0]),z&&"drawrect"===M)I.type="rect",I.x0=z[0][1],I.y0=z[0][2],I.x1=z[2][1],I.y1=z[2][2];else if(z&&"drawline"===M)I.type="line",I.x0=z[0][1],I.y0=z[0][2],I.x1=z[1][1],I.y1=z[1][2];else if(z&&"drawcircle"===M){I.type="circle";var R=z[l][1],D=z[s][1],E=z[c][1],F=z[u][1],B=z[l][2],N=z[s][2],H=z[c][2],j=z[u][2],V=m.xaxis&&("date"===m.xaxis.type||"log"===m.xaxis.type),G=m.yaxis&&("date"===m.yaxis.type||"log"===m.yaxis.type);V&&(R=g(m.xaxis,R),D=g(m.xaxis,D),E=g(m.xaxis,E),F=g(m.xaxis,F)),G&&(B=g(m.yaxis,B),N=g(m.yaxis,N),H=g(m.yaxis,H),j=g(m.yaxis,j));var q=(D+F)/2,Z=(B+H)/2,X=b({x0:q,y0:Z,x1:q+(F-D+E-R)/2*d,y1:Z+(j-N+H-B)/2*f});V&&(X.x0=h(m.xaxis,X.x0),X.x1=h(m.xaxis,X.x1)),G&&(X.y0=h(m.yaxis,X.y0),X.y1=h(m.yaxis,X.y1)),I.x0=X.x0,I.y0=X.y0,I.x1=X.x1,I.y1=X.y1}else I.type="path",_&&w&&function(e,t,r){var a="date"===t.type,n="date"===r.type;if(!a&&!n)return e;for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)for(var l=0;l+2<e[i][o].length;l+=2)a&&(e[i][o][l+1]=e[i][o][l+1].replace(" ","_")),n&&(e[i][o][l+2]=e[i][o][l+2].replace(" ","_"))}(O,_,w),I.path=x(O),z=null;v(o);for(var U=t.editHelpers,W=(U||{}).modifyItem,Y=[],Q=0;Q<L.length;Q++){var J=o._fullLayout.shapes[Q];if(Y[Q]=J._input,void 0!==T&&Q===o._fullLayout._activeShapeIndex){var $=I;switch(J.type){case"line":case"rect":case"circle":W("x0",$.x0),W("x1",$.x1),W("y0",$.y0),W("y1",$.y1);break;case"path":W("path",$.path)}}}return void 0===T?(Y.push(I),Y):U?U.getUpdateObj():{}}}}},function(e,t,r){"use strict";(function(t){var a,n=r(342);a="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:n,e.exports=a}).call(t,r(10))},function(e,t,r){"use strict";var a=r(3),n=r(0),i=r(17),o=r(358),l=r(41),s=r(332);e.exports=function(e,t,r){for(var c=e.legend||{},u=0,d=!1,f="normal",p=0;p<r.length;p++){var h=r[p];h.visible&&((h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&!1===h._module.attributes.showlegend.dflt))&&(u++,h.showlegend&&(d=!0,(a.traceIs(h,"pie-like")||!0===h._input.showlegend)&&u++)),(a.traceIs(h,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(h.fill))&&(f=s.isGrouped({traceorder:f})?"grouped+reversed":"reversed"),void 0!==h.legendgroup&&""!==h.legendgroup&&(f=s.isReversed({traceorder:f})?"reversed+grouped":"grouped"))}var g=n.coerce(e,t,l,"showlegend",d&&u>1);if(!1!==g||c.uirevision){var v=i.newContainer(t,"legend");if(_("uirevision",t.uirevision),!1!==g){_("bgcolor",t.paper_bgcolor),_("bordercolor"),_("borderwidth"),n.coerceFont(_,"font",t.font);var m,y,x,b=_("orientation");"h"===b?(m=0,a.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(y=1.1,x="bottom"):(y=-.1,x="top")):(m=1.02,y=1,x="auto"),_("traceorder",f),s.isGrouped(t.legend)&&_("tracegroupgap"),_("itemsizing"),_("itemwidth"),_("itemclick"),_("itemdoubleclick"),_("x",m),_("xanchor"),_("y",y),_("yanchor",x),_("valign"),n.noneOrAll(c,v,["x","y"]),_("title.text")&&(_("title.side","h"===b?"left":"top"),n.coerceFont(_,"title.font",t.font))}}function _(e,t){return n.coerce(c,v,o,e,t)}}},function(e,t,r){"use strict";var a=r(11),n=r(40);e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:a({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:a({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},function(e,t,r){"use strict";var a=r(4),n=r(0),i=r(57),o=r(3),l=r(331),s=r(328),c=r(38),u=r(14),d=r(39),f=r(368),p=r(344),h=r(28),g=h.LINE_SPACING,v=h.FROM_TL,m=h.FROM_BR,y=r(369),x=r(360),b=r(332);function _(e,t,r,a,n){var i=r.data()[0][0].trace,s={event:n,node:r.node(),curveNumber:i.index,expandedIndex:i._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(i._group&&(s.group=i._group),o.traceIs(i,"pie-like")&&(s.label=r.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",s))if(1===a)t._clickTimeout=setTimeout(function(){f(r,e,a)},e._context.doubleClickDelay);else if(2===a){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",s)&&f(r,e,a)}}function w(e,t,r){var a,i=e.data()[0][0],l=i.trace,s=o.traceIs(l,"pie-like"),u=l.index,f=r._main&&t._context.edits.legendText&&!s,h=r._maxNameLength;r.entries?a=i.text:(a=s?i.label:l.name,l._meta&&(a=n.templateString(a,l._meta)));var g=n.ensureSingle(e,"text","legendtext");g.attr("text-anchor","start").call(c.font,r.font).text(f?k(a,h):a);var v=r.itemwidth+2*p.itemGap;d.positionText(g,v,0),f?g.call(d.makeEditable,{gd:t,text:a}).call(T,e,t,r).on("edit",function(a){this.text(k(a,h)).call(T,e,t,r);var l=i.trace._fullInput||{},s={};if(o.hasTransform(l,"groupby")){var c=o.getTransformIndices(l,"groupby"),d=c[c.length-1],f=n.keyedContainer(l,"transforms["+d+"].styles","target","value.name");f.set(i.trace._group,a),s=f.constructUpdate()}else s.name=a;return o.call("_guiRestyle",t,s,u)}):T(g,e,t,r)}function k(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;for(var a=r-(e=e||"").length;a>0;a--)e+=" ";return e}function A(e,t){var r,i=t._context.doubleClickDelay,o=1,l=n.ensureSingle(e,"rect","legendtoggle",function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(u.fill,"rgba(0,0,0,0)")});t._context.staticPlot||(l.on("mousedown",function(){(r=(new Date).getTime())-t._legendMouseDownTime<i?o+=1:(o=1,t._legendMouseDownTime=r)}),l.on("mouseup",function(){if(!t._dragged&&!t._editing){var r=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>i&&(o=Math.max(o-1,1)),_(t,r,e,o,a.event)}}))}function T(e,t,r,a){a._main||e.attr("data-notex",!0),d.convertToTspans(e,r,function(){!function(e,t,r){var a=e.data()[0][0];if(r._main&&a&&!a.trace.showlegend)return void e.remove();var n=e.select("g[class*=math-group]"),i=n.node();r||(r=t._fullLayout.legend);var o,l,s=r.borderwidth,u=(a?r:r.title).font.size*g;if(i){var f=c.bBox(i);o=f.height,l=f.width,a?c.setTranslate(n,0,.25*o):c.setTranslate(n,s,.75*o+s)}else{var h=e.select(a?".legendtext":".legendtitletext"),v=d.lineCount(h),m=h.node();o=u*v,l=m?c.bBox(m).width:0;var y=u*((v-1)/2-.3);if(a){var x=r.itemwidth+2*p.itemGap;d.positionText(h,x,-y)}else d.positionText(h,p.titlePad+s,u+s)}a?(a.lineHeight=u,a.height=Math.max(o,16)+3,a.width=l):(r._titleWidth=l,r._titleHeight=o)}(t,r,a)})}function M(e){return n.isRightAnchor(e)?"right":n.isCenterAnchor(e)?"center":"left"}function L(e){return n.isBottomAnchor(e)?"bottom":n.isMiddleAnchor(e)?"middle":"top"}e.exports=function(e,t){var r,l=e._fullLayout,d="legend"+l._uid;if(t?(r=t.layer,d+="-hover"):((t=l.legend||{})._main=!0,r=l._infolayer),r){var f;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;f=l.showlegend&&y(e.calcdata,t)}else{if(!t.entries)return;f=y(t.entries,t)}var h=l.hiddenlabels||[];if(t._main&&(!l.showlegend||!f.length))return r.selectAll(".legend").remove(),l._topdefs.select("#"+d).remove(),i.autoMargin(e,"legend");var g=n.ensureSingle(r,"g","legend",function(e){t._main&&e.attr("pointer-events","all")}),k=n.ensureSingleById(l._topdefs,"clipPath",d,function(e){e.append("rect")}),C=n.ensureSingle(g,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});C.call(u.stroke,t.bordercolor).call(u.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var S=n.ensureSingle(g,"g","scrollbox"),z=t.title;if(t._titleWidth=0,t._titleHeight=0,z.text){var P=n.ensureSingle(S,"text","legendtitletext");P.attr("text-anchor","start").call(c.font,z.font).text(z.text),T(P,S,e,t)}else S.selectAll(".legendtitletext").remove();var O=n.ensureSingle(g,"rect","scrollbar",function(e){e.attr(p.scrollBarEnterAttrs).call(u.fill,p.scrollBarColor)}),I=S.selectAll("g.groups").data(f);I.enter().append("g").attr("class","groups"),I.exit().remove();var R=I.selectAll("g.traces").data(n.identity);R.enter().append("g").attr("class","traces"),R.exit().remove(),R.style("opacity",function(e){var t=e[0].trace;return o.traceIs(t,"pie-like")?-1!==h.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){a.select(this).call(w,e,t)}).call(x,e,t).each(function(){t._main&&a.select(this).call(A,e)}),n.syncOrAsync([i.previousPromises,function(){return function(e,t,r,n){var i=e._fullLayout;n||(n=i.legend);var o=i._size,l=b.isVertical(n),s=b.isGrouped(n),u=n.borderwidth,d=2*u,f=p.itemGap,h=n.itemwidth+2*f,g=2*(u+f),v=L(n),m=n.y<0||0===n.y&&"top"===v,y=n.y>1||1===n.y&&"bottom"===v;n._maxHeight=Math.max(m||y?i.height/2:o.h,30);var x=0;n._width=0,n._height=0;var _=function(e){var t=0,r=0,a=e.title.side;a&&(-1!==a.indexOf("left")&&(t=e._titleWidth),-1!==a.indexOf("top")&&(r=e._titleHeight));return[t,r]}(n);if(l)r.each(function(e){var t=e[0].height;c.setTranslate(this,u+_[0],u+_[1]+n._height+t/2+f),n._height+=t,n._width=Math.max(n._width,e[0].width)}),x=h+n._width,n._width+=f+h+d,n._height+=g,s&&(t.each(function(e,t){c.setTranslate(this,0,t*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var w=M(n),k=n.x<0||0===n.x&&"right"===w,A=n.x>1||1===n.x&&"left"===w,T=y||m,C=i.width/2;n._maxWidth=Math.max(k?T&&"left"===w?o.l+o.w:C:A?T&&"right"===w?o.r+o.w:C:o.w,2*h);var S=0,z=0;r.each(function(e){var t=e[0].width+h;S=Math.max(S,t),z+=t}),x=null;var P=0;if(s){var O=0,I=0,R=0;t.each(function(){var e=0,t=0;a.select(this).selectAll("g.traces").each(function(r){var a=r[0].height;c.setTranslate(this,_[0],_[1]+u+f+a/2+t),t+=a,e=Math.max(e,h+r[0].width)}),O=Math.max(O,t);var r=e+f;r+u+I>n._maxWidth&&(P=Math.max(P,I),I=0,R+=O+n.tracegroupgap,O=t),c.setTranslate(this,I,R),I+=r}),n._width=Math.max(P,I)+u,n._height=R+O+g}else{var D=r.size(),E=z+d+(D-1)*f<n._maxWidth,F=0,B=0,N=0,H=0;r.each(function(e){var t=e[0].height,r=h+e[0].width,a=(E?r:S)+f;a+u+B-f>=n._maxWidth&&(P=Math.max(P,H),B=0,N+=F,n._height+=F,F=0),c.setTranslate(this,_[0]+u+B,_[1]+u+N+t/2+f),H=B+r+f,B+=a,F=Math.max(F,t)}),E?(n._width=B+d,n._height=F+g):(n._width=Math.max(P,H)+d,n._height+=F+g)}}n._width=Math.ceil(Math.max(n._width+_[0],n._titleWidth+2*(u+p.titlePad))),n._height=Math.ceil(Math.max(n._height+_[1],n._titleHeight+2*(u+p.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var j=e._context.edits,V=j.legendText||j.legendPosition;r.each(function(e){var t=a.select(this).select(".legendtoggle"),r=e[0].height,n=V?h:x||h+e[0].width;l||(n+=f/2),c.setRect(t,0,-r/2,n,r)})}(e,I,R,t)},function(){if(!t._main||!function(e){var t=e._fullLayout.legend,r=M(t),a=L(t);return i.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*v[r],r:t._width*m[r],b:t._effHeight*m[a],t:t._effHeight*v[a]})}(e)){var u,f,h,y,x=l._size,b=t.borderwidth,w=x.l+x.w*t.x-v[M(t)]*t._width,A=x.t+x.h*(1-t.y)-v[L(t)]*t._effHeight;if(t._main&&l.margin.autoexpand){var T=w,z=A;w=n.constrain(w,0,l.width-t._width),A=n.constrain(A,0,l.height-t._effHeight),w!==T&&n.log("Constrain legend.x to make legend fit inside graph"),A!==z&&n.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&c.setTranslate(g,w,A),O.on(".drag",null),g.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var P=t._effHeight;t._main||(P=t._height),C.attr({width:t._width-b,height:P-b,x:b/2,y:b/2}),c.setTranslate(S,0,0),k.select("rect").attr({width:t._width-2*b,height:P-2*b,x:b,y:b}),c.setClipUrl(S,d,e),c.setRect(O,0,0,0,0),delete t._scrollY}else{var I,R,D,E=Math.max(p.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),F=t._effHeight-E-2*p.scrollBarMargin,B=t._height-t._effHeight,N=F/B,H=Math.min(t._scrollY||0,B);C.attr({width:t._width-2*b+p.scrollBarWidth+p.scrollBarMargin,height:t._effHeight-b,x:b/2,y:b/2}),k.select("rect").attr({width:t._width-2*b+p.scrollBarWidth+p.scrollBarMargin,height:t._effHeight-2*b,x:b,y:b+H}),c.setClipUrl(S,d,e),G(H,E,N),g.on("wheel",function(){G(H=n.constrain(t._scrollY+a.event.deltaY/F*B,0,B),E,N),0!==H&&H!==B&&a.event.preventDefault()});var j=a.behavior.drag().on("dragstart",function(){var e=a.event.sourceEvent;I="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,D=H}).on("drag",function(){var e=a.event.sourceEvent;2===e.buttons||e.ctrlKey||(R="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,G(H=function(e,t,r){var a=(r-t)/N+e;return n.constrain(a,0,B)}(D,I,R),E,N))});O.call(j);var V=a.behavior.drag().on("dragstart",function(){var e=a.event.sourceEvent;"touchstart"===e.type&&(I=e.changedTouches[0].clientY,D=H)}).on("drag",function(){var e=a.event.sourceEvent;"touchmove"===e.type&&(R=e.changedTouches[0].clientY,G(H=function(e,t,r){var a=(t-r)/N+e;return n.constrain(a,0,B)}(D,I,R),E,N))});S.call(V)}if(e._context.edits.legendPosition)g.classed("cursor-move",!0),s.init({element:g.node(),gd:e,prepFn:function(){var e=c.getTranslate(g);h=e.x,y=e.y},moveFn:function(e,r){var a=h+e,n=y+r;c.setTranslate(g,a,n),u=s.align(a,0,x.l,x.l+x.w,t.xanchor),f=s.align(n,0,x.t+x.h,x.t,t.yanchor)},doneFn:function(){void 0!==u&&void 0!==f&&o.call("_guiRelayout",e,{"legend.x":u,"legend.y":f})},clickFn:function(t,a){var n=r.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return a.clientX>=e.left&&a.clientX<=e.right&&a.clientY>=e.top&&a.clientY<=e.bottom});n.size()>0&&_(e,g,n,t,a)}})}function G(r,a,n){t._scrollY=e._fullLayout.legend._scrollY=r,c.setTranslate(S,0,-r),c.setRect(O,t._width,p.scrollBarMargin+r*n,p.scrollBarWidth,a),k.select("rect").attr("y",b+r)}}],e)}}},function(e,t,r){"use strict";var a=r(4),n=r(3),i=r(0),o=i.strTranslate,l=r(38),s=r(14),c=r(29).extractOpts,u=r(101),d=r(353),f=r(337).castOption,p=r(344),h=12,g=5,v=2,m=10,y=5;function x(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}e.exports=function(e,t,r){var b=t._fullLayout;r||(r=b.legend);var _="constant"===r.itemsizing,w=r.itemwidth,k=(w+2*p.itemGap)/2,A=o(k,0),T=function(e,t,r,a){var n;if(e+1)n=e;else{if(!(t&&t.width>0))return 0;n=t.width}return _?a:Math.min(n,r)};function M(e,t,r){var i=e[0].trace,o=i.marker||{},l=o.line||{},c=r?i.visible&&i.type===r:n.traceIs(i,"bar"),u=a.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(c?[e]:[]);u.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",A),u.exit().remove(),u.each(function(e){var t=a.select(this),r=e[0],n=T(r.mlw,o.line,y,v);t.style("stroke-width",n+"px").call(s.fill,r.mc||o.color),n&&s.stroke(t,r.mlc||l.color)})}function L(e,t,r){var o=e[0],l=o.trace,s=r?l.visible&&l.type===r:n.traceIs(l,r),c=a.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(s?[e]:[]);if(c.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",A),c.exit().remove(),c.size()){var u=(l.marker||{}).line,p=T(f(u.width,o.pts),u,y,v),h=i.minExtend(l,{marker:{line:{width:p}}});h.marker.line.color=u.color;var g=i.minExtend(o,{trace:h});d(c,g,h)}}e.each(function(e){var t=a.select(this),n=i.ensureSingle(t,"g","layers");n.style("opacity",e[0].trace.opacity);var l=r.valign,s=e[0].lineHeight,c=e[0].height;if("middle"!==l&&s&&c){var u={top:1,bottom:-1}[l]*(.5*(s-c+3));n.attr("transform",o(0,u))}else n.attr("transform",null);n.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),n.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var d=n.selectAll("g.legendsymbols").data([e]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var r,n=e[0].trace,o=[];if(n.visible)switch(n.type){case"histogram2d":case"heatmap":o=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":o=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":o=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":o=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":o=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":o=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var u=a.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(o);u.enter().append("path").classed("legend3dandfriends",!0).attr("transform",A).style("stroke-miterlimit",1),u.exit().remove(),u.each(function(e,o){var u,d=a.select(this),f=c(n),p=f.colorscale,h=f.reversescale;if(p){if(!r){var g=p.length;u=0===o?p[h?g-1:0][1]:1===o?p[h?0:g-1][1]:p[Math.floor((g-1)/2)][1]}}else{var v=n.vertexcolor||n.facecolor||n.color;u=i.isArrayOrTypedArray(v)?v[o]||v[0]:v}d.attr("d",e[0]),u?d.call(s.fill,u):d.call(function(e){if(e.size()){var a="legendfill-"+n.uid;l.gradient(e,t,a,x(h,"radial"===r),p,"fill")}})})}).each(function(e){var t=e[0].trace,r="waterfall"===t.type;if(e[0]._distinct&&r){var n=e[0].trace[e[0].dir].marker;return e[0].mc=n.color,e[0].mlw=n.line.width,e[0].mlc=n.line.color,M(e,this,"waterfall")}var i=[];t.visible&&r&&(i=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var o=a.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(i);o.enter().append("path").classed("legendwaterfall",!0).attr("transform",A).style("stroke-miterlimit",1),o.exit().remove(),o.each(function(e){var r=a.select(this),n=t[e[0]].marker,i=T(void 0,n.line,y,v);r.attr("d",e[1]).style("stroke-width",i+"px").call(s.fill,n.color),i&&r.call(s.stroke,n.line.color)})}).each(function(e){M(e,this,"funnel")}).each(function(e){M(e,this)}).each(function(e){var r=e[0].trace,o=a.select(this).select("g.legendpoints").selectAll("path.legendbox").data(r.visible&&n.traceIs(r,"box-violin")?[e]:[]);o.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",A),o.exit().remove(),o.each(function(){var e=a.select(this);if("all"!==r.boxpoints&&"all"!==r.points||0!==s.opacity(r.fillcolor)||0!==s.opacity((r.line||{}).color)){var n=T(void 0,r.line,y,v);e.style("stroke-width",n+"px").call(s.fill,r.fillcolor),n&&s.stroke(e,r.line.color)}else{var c=i.minExtend(r,{marker:{size:_?h:i.constrain(r.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});o.call(l.pointStyle,c,t)}})}).each(function(e){L(e,this,"funnelarea")}).each(function(e){L(e,this,"pie")}).each(function(e){var r,n,o=e[0],s=o.trace,d=s.visible&&s.fill&&"none"!==s.fill,f=u.hasLines(s),p=s.contours,h=!1,v=!1,y=c(s),b=y.colorscale,_=y.reversescale;if(p){var k=p.coloring;"lines"===k?h=!0:f="none"===k||"heatmap"===k||p.showlines,"constraint"===p.type?d="="!==p._operation:"fill"!==k&&"heatmap"!==k||(v=!0)}var A=u.hasMarkers(s)||u.hasText(s)||!d&&!v?"M5,0":f||h?"M5,-2":"M5,-3",M=a.select(this),L=M.select(".legendfill").selectAll("path").data(d||v?[e]:[]);if(L.enter().append("path").classed("js-fill",!0),L.exit().remove(),L.attr("d",A+"h"+w+"v6h-"+w+"z").call(d?l.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+s.uid;l.gradient(e,t,r,x(_),b,"fill")}}),f||h){var C=T(void 0,s.line,m,g);n=i.minExtend(s,{line:{width:C}}),r=[i.minExtend(o,{trace:n})]}var S=M.select(".legendlines").selectAll("path").data(f||h?[r]:[]);S.enter().append("path").classed("js-line",!0),S.exit().remove(),S.attr("d",A+(h?"l"+w+",0.0001":"h"+w)).call(f?l.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+s.uid;l.lineGroupStyle(e),l.gradient(e,t,r,x(_),b,"stroke")}})}).each(function(e){var r,n,o=e[0],s=o.trace,c=u.hasMarkers(s),d=u.hasText(s),f=u.hasLines(s);function p(e,t,r,a){var n=i.nestedProperty(s,e).get(),o=i.isArrayOrTypedArray(n)&&t?t(n):n;if(_&&o&&void 0!==a&&(o=a),r){if(o<r[0])return r[0];if(o>r[1])return r[1]}return o}function m(e){return o._distinct&&o.index&&e[o.index]?e[o.index]:e[0]}if(c||d||f){var y={},x={};if(c){y.mc=p("marker.color",m),y.mx=p("marker.symbol",m),y.mo=p("marker.opacity",i.mean,[.2,1]),y.mlc=p("marker.line.color",m),y.mlw=p("marker.line.width",i.mean,[0,5],v),x.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var b=p("marker.size",i.mean,[2,16],h);y.ms=b,x.marker.size=b}f&&(x.line={width:p("line.width",m,[0,10],g)}),d&&(y.tx="Aa",y.tp=p("textposition",m),y.ts=10,y.tc=p("textfont.color",m),y.tf=p("textfont.family",m)),r=[i.minExtend(o,y)],(n=i.minExtend(s,x)).selectedpoints=null,n.texttemplate=null}var w=a.select(this).select("g.legendpoints"),k=w.selectAll("path.scatterpts").data(c?r:[]);k.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",A),k.exit().remove(),k.call(l.pointStyle,n,t),c&&(r[0].mrc=3);var T=w.selectAll("g.pointtext").data(d?r:[]);T.enter().append("g").classed("pointtext",!0).append("text").attr("transform",A),T.exit().remove(),T.selectAll("text").call(l.textPointStyle,n,t)}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",A).style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var n=a.select(this),i=t[r?"increasing":"decreasing"],o=T(void 0,i.line,y,v);n.style("stroke-width",o+"px").call(s.fill,i.fillcolor),o&&s.stroke(n,i.line.color)})}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",A).style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var n=a.select(this),i=t[r?"increasing":"decreasing"],o=T(void 0,i.line,y,v);n.style("fill","none").call(l.dashLine,i.line.dash,o),o&&s.stroke(n,i.line.color)})})}},,,function(e,t){var r={left:0,top:0};e.exports=function(e,t,a){t=t||e.currentTarget||e.srcElement,Array.isArray(a)||(a=[0,0]);var n=e.clientX||0,i=e.clientY||0,o=(l=t,l===window||l===document||l===document.body?r:l.getBoundingClientRect());var l;return a[0]=n-o.left,a[1]=i-o.top,a}},function(e,t,r){"use strict";e.exports=function(e,t,r,a,n){var i=(e-r)/(a-r),o=i+t/(a-r),l=(i+o)/2;return"left"===n||"bottom"===n?i:"center"===n||"middle"===n?l:"right"===n||"top"===n?o:i<2/3-l?i:o>4/3-l?o:l}},function(e,t,r){"use strict";var a=r(0),n=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,r,i){return e="left"===r?0:"center"===r?1:"right"===r?2:a.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:a.constrain(Math.floor(3*t),0,2),n[t][e]}},function(e,t,r){"use strict";var a=r(331),n=r(108),i=r(62).getGraphDiv,o=r(104),l=e.exports={};l.wrapped=function(e,t,r){(e=i(e))._fullLayout&&n.clear(e._fullLayout._uid+o.HOVERID),l.raw(e,t,r)},l.raw=function(e,t){var r=e._fullLayout,n=e._hoverdata;t||(t={}),t.target&&!1===a.triggerHandler(e,"plotly_beforehover",t)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&n&&e.emit("plotly_unhover",{event:t,points:n}))}},function(e,t,r){"use strict";var a=r(330),n="data-savedcursor";e.exports=function(e,t){var r=e.attr(n);if(t){if(!r){for(var i=(e.attr("class")||"").split(" "),o=0;o<i.length;o++){var l=i[o];0===l.indexOf("cursor-")&&e.attr(n,l.substr(7)).classed(l,!1)}e.attr(n)||e.attr(n,"!!")}a(e,t)}else r&&(e.attr(n,null),"!!"===r?a(e):a(e,r))}},function(e,t,r){"use strict";var a=r(0),n=r(3),i=!0;e.exports=function(e,t,r){var o=t._fullLayout;if(!t._dragged&&!t._editing){var l,s=o.legend.itemclick,c=o.legend.itemdoubleclick;if(1===r&&"toggle"===s&&"toggleothers"===c&&i&&t.data&&t._context.showTips?(a.notifier(a._(t,"Double-click on legend to isolate one trace"),"long"),i=!1):i=!1,1===r?l=s:2===r&&(l=c),l){var u,d,f,p,h,g=o.hiddenlabels?o.hiddenlabels.slice():[],v=e.data()[0][0],m=t._fullData,y=v.trace,x=y.legendgroup,b={},_=[],w=[],k=[];if(n.traceIs(y,"pie-like")){var A=v.label,T=g.indexOf(A);"toggle"===l?-1===T?g.push(A):g.splice(T,1):"toggleothers"===l&&(g=[],t.calcdata[0].forEach(function(e){A!==e.label&&g.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===g.length&&-1===T&&(g=[])),n.call("_guiRelayout",t,"hiddenlabels",g)}else{var M,L=x&&x.length,C=[];if(L)for(u=0;u<m.length;u++)(M=m[u]).visible&&M.legendgroup===x&&C.push(u);if("toggle"===l){var S;switch(y.visible){case!0:S="legendonly";break;case!1:S=!1;break;case"legendonly":S=!0}if(L)for(u=0;u<m.length;u++)!1!==m[u].visible&&m[u].legendgroup===x&&B(m[u],S);else B(y,S)}else if("toggleothers"===l){var z,P,O,I,R=!0;for(u=0;u<m.length;u++)if(z=m[u]===y,O=!0!==m[u].showlegend,!(z||O||(P=L&&m[u].legendgroup===x)||!0!==m[u].visible||n.traceIs(m[u],"notLegendIsolatable"))){R=!1;break}for(u=0;u<m.length;u++)if(!1!==m[u].visible&&!n.traceIs(m[u],"notLegendIsolatable"))switch(y.visible){case"legendonly":B(m[u],!0);break;case!0:I=!!R||"legendonly",z=m[u]===y,O=!0!==m[u].showlegend&&!m[u].legendgroup,P=z||L&&m[u].legendgroup===x,B(m[u],!(!P&&!O)||I)}}for(u=0;u<w.length;u++)if(f=w[u]){var D=f.constructUpdate(),E=Object.keys(D);for(d=0;d<E.length;d++)p=E[d],(b[p]=b[p]||[])[k[u]]=D[p]}for(h=Object.keys(b),u=0;u<h.length;u++)for(p=h[u],d=0;d<_.length;d++)b[p].hasOwnProperty(d)||(b[p][d]=void 0);n.call("_guiRestyle",t,b,_)}}}function F(e,t,r){var a=_.indexOf(e),n=b[t];return n||(n=b[t]=[]),-1===_.indexOf(e)&&(_.push(e),a=_.length-1),n[a]=r,a}function B(e,t){var r=e._fullInput;if(n.hasTransform(r,"groupby")){var i=w[r.index];if(!i){var o=n.getTransformIndices(r,"groupby"),l=o[o.length-1];i=a.keyedContainer(r,"transforms["+l+"].styles","target","value.visible"),w[r.index]=i}var s=i.get(e._group);void 0===s&&(s=!0),!1!==s&&i.set(e._group,t),k[r.index]=F(r.index,"visible",!1!==r.visible)}else{var c=!1!==r.visible&&t;F(r.index,"visible",c)}}}},function(e,t,r){"use strict";var a=r(3),n=r(332);e.exports=function(e,t){var r,i,o={},l=[],s=!1,c={},u=0,d=0,f=t._main;function p(e,r){if(""!==e&&n.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,o[e]=[[r]]):o[e].push([r]);else{var a="~~i"+u;l.push(a),o[a]=[[r]],u++}}for(r=0;r<e.length;r++){var h=e[r],g=h[0],v=g.trace,m=v.legendgroup;if(!f||v.visible&&v.showlegend)if(a.traceIs(v,"pie-like"))for(c[m]||(c[m]={}),i=0;i<h.length;i++){var y=h[i].label;c[m][y]||(p(m,{label:y,color:h[i].color,i:h[i].i,trace:v,pts:h[i].pts}),c[m][y]=!0,d=Math.max(d,(y||"").length))}else p(m,g),d=Math.max(d,(v.name||"").length)}if(!l.length)return[];var x,b,_=l.length;if(s&&n.isGrouped(t))for(b=new Array(_),r=0;r<_;r++)x=o[l[r]],b[r]=n.isReversed(t)?x.reverse():x;else{for(b=[new Array(_)],r=0;r<_;r++)x=o[l[r]][0],b[0][n.isReversed(t)?_-r-1:r]=x;_=1}return t._lgroupsLength=_,t._maxNameLength=d,b}},function(e,t,r){"use strict";var a=r(0),n=r(333),i=r(102);e.exports=function(e,t){n(e,t,function(r,n){return a.coerce(e,t,i,r,n)})}},function(e,t,r){"use strict";var a=r(0),n=r(106),i=r(333);e.exports=function(e,t,r,o){var l=a.extendFlat({},o.hoverlabel);t.hovertemplate&&(l.namelength=-1),i(e,t,function(r,i){return a.coerce(e,t,n,r,i)},l)}},function(e,t,r){"use strict";var a=r(0),n=r(100).isUnifiedHover,i=r(102),o=r(346),l=r(333);e.exports=function(e,t,r){function s(r,n){return a.coerce(e,t,i,r,n)}var c=o(e,t,r);c&&(s("hoverdistance"),s("spikedistance",n(c)?-1:void 0)),"select"===s("dragmode")&&s("selectdirection");var u=t._has("mapbox"),d=t._has("geo"),f=t._basePlotModules.length;"zoom"===t.dragmode&&((u||d)&&1===f||u&&d&&2===f)&&(t.dragmode="pan"),l(e,t,s)}},function(e,t,r){"use strict";var a=r(0),n=r(3);function i(e,t,r,n){n=n||a.identity,Array.isArray(e)&&(t[0][r]=n(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function o(e){return function(t){return a.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!n.traceIs(c,"pie-like")){var u=n.traceIs(c,"2dMap")?i:a.fillArray;u(c.hoverinfo,s,"hi",o(c)),c.hovertemplate&&u(c.hovertemplate,s,"ht"),c.hoverlabel&&(u(c.hoverlabel.bgcolor,s,"hbg"),u(c.hoverlabel.bordercolor,s,"hbc"),u(c.hoverlabel.font.size,s,"hts"),u(c.hoverlabel.font.color,s,"htc"),u(c.hoverlabel.font.family,s,"htf"),u(c.hoverlabel.namelength,s,"hnl"),u(c.hoverlabel.align,s,"hta"))}}}},function(e,t,r){"use strict";var a=r(3),n=r(343).hover;e.exports=function(e,t,r){var i=a.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&n(e,t,r,!0),e._hoverdata&&t&&t.target&&(i&&i.then?i.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},function(e,t,r){"use strict";var a=r(350),n=r(0);t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.extractPathCoords=function(e,t){var r=[];return e.match(a.segmentRE).forEach(function(e){var i=t[e.charAt(0)].drawn;if(void 0!==i){var o=e.substr(1).match(a.paramRE);!o||o.length<i||r.push(n.cleanNumber(o[i]))}}),r},t.getDataToPixel=function(e,r,a,n){var i,o=e._fullLayout._size;if(r)if("domain"===n)i=function(e){return r._length*(a?1-e:e)+r._offset};else{var l=t.shapePositionToRange(r);i=function(e){return r._offset+r.r2p(l(e,!0))},"date"===r.type&&(i=t.decodeDate(i))}else i=a?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return i},t.getPixelToData=function(e,r,a,n){var i,o=e._fullLayout._size;if(r)if("domain"===n)i=function(e){var t=(e-r._offset)/r._length;return a?1-t:t};else{var l=t.rangeToShapePosition(r);i=function(e){return l(r.p2r(e-r._offset))}}else i=a?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return i},t.roundPositionForSharpStrokeRendering=function(e,t){var r=1===Math.round(t%2),a=Math.round(e);return r?a+.5:a},t.makeOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.shapes[t]||{},a=e._fullLayout._plots[r.xref+r.yref];return!!a?a._hadPlotinfo=!0:(a={},r.xref&&"paper"!==r.xref&&(a.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&"paper"!==r.yref&&(a.yaxis=e._fullLayout[r.yref+"axis"])),a.xsizemode=r.xsizemode,a.ysizemode=r.ysizemode,a.xanchor=r.xanchor,a.yanchor=r.yanchor,{options:r,plotinfo:a}}},function(e,t,r){"use strict";var a=r(64).dot,n=r(5).BADNUM,i=e.exports={};i.tester=function(e){var t,r=e.slice(),a=r[0][0],i=a,o=r[0][1],l=o;for(r.push(r[0]),t=1;t<r.length;t++)a=Math.min(a,r[t][0]),i=Math.max(i,r[t][0]),o=Math.min(o,r[t][1]),l=Math.max(l,r[t][1]);var s,c=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,s=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,s=function(e){return e[1]===r[0][1]}));var u=!0,d=r[0];for(t=1;t<r.length;t++)if(d[0]!==r[t][0]||d[1]!==r[t][1]){u=!1;break}return{xmin:a,xmax:i,ymin:o,ymax:l,pts:r,contains:c?function(e,t){var r=e[0],c=e[1];return!(r===n||r<a||r>i||c===n||c<o||c>l||t&&s(e))}:function(e,t){var s=e[0],c=e[1];if(s===n||s<a||s>i||c===n||c<o||c>l)return!1;var u,d,f,p,h,g=r.length,v=r[0][0],m=r[0][1],y=0;for(u=1;u<g;u++)if(d=v,f=m,v=r[u][0],m=r[u][1],!(s<(p=Math.min(d,v))||s>Math.max(d,v)||c>Math.max(f,m)))if(c<Math.min(f,m))s!==p&&y++;else{if(c===(h=v===d?c:f+(s-d)*(m-f)/(v-d)))return 1!==u||!t;c<=h&&s!==p&&y++}return y%2==1},isRect:c,degenerate:u}},i.isSegmentBent=function(e,t,r,n){var i,o,l,s=e[t],c=[e[r][0]-s[0],e[r][1]-s[1]],u=a(c,c),d=Math.sqrt(u),f=[-c[1]/d,c[0]/d];for(i=t+1;i<r;i++)if(o=[e[i][0]-s[0],e[i][1]-s[1]],(l=a(o,c))<0||l>u||Math.abs(a(o,f))>n)return!0;return!1},i.filter=function(e,t){var r=[e[0]],a=0,n=0;function o(o){e.push(o);var l=r.length,s=a;r.splice(n+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||i.isSegmentBent(e,s,c+1,t))&&(r.push(e[c]),r.length<l-2&&(a=c,n=r.length-1),s=c)}e.length>1&&o(e.pop());return{addPt:o,raw:e,filtered:r}}},function(e,t,r){"use strict";var a=r(0).dateTick0,n=r(5).ONEWEEK;function i(e,t){return a(t,e%n==0?1:0)}e.exports=function(e,t,r,a,n){if(n||(n={x:!0,y:!0}),n.x){var o=a("xperiod");o&&(a("xperiod0",i(o,t.xcalendar)),a("xperiodalignment"))}if(n.y){var l=a("yperiod");l&&(a("yperiod0",i(l,t.ycalendar)),a("yperiodalignment"))}}},function(e,t,r){"use strict";var a=r(4),n=r(329),i=r(328),o=r(330),l=r(386).makeDragBox,s=r(26).DRAGGERSIZE;t.initInteractions=function(e){var r=e._fullLayout;if(e._context.staticPlot)a.select(e).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort(function(e,t){if((r._plots[e].mainplot&&!0)===(r._plots[t].mainplot&&!0)){var a=e.split("y"),n=t.split("y");return a[0]===n[0]?Number(a[1]||1)-Number(n[1]||1):Number(a[0]||1)-Number(n[0]||1)}return r._plots[e].mainplot?1:-1}).forEach(function(t){var a=r._plots[t],o=a.xaxis,c=a.yaxis;if(!a.mainplot){var u=l(e,a,o._offset,c._offset,o._length,c._length,"ns","ew");u.onmousemove=function(r){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===t&&e._fullLayout._plots[t]&&n.hover(e,r,t)},n.hover(e,r,t),e._fullLayout._lasthover=u,e._fullLayout._hoversubplot=t},u.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,t))},e._context.showAxisDragHandles&&(l(e,a,o._offset-s,c._offset-s,s,s,"n","w"),l(e,a,o._offset+o._length,c._offset-s,s,s,"n","e"),l(e,a,o._offset-s,c._offset+c._length,s,s,"s","w"),l(e,a,o._offset+o._length,c._offset+c._length,s,s,"s","e"))}if(e._context.showAxisDragHandles){if(t===o._mainSubplot){var d=o._mainLinePosition;"top"===o.side&&(d-=s),l(e,a,o._offset+.1*o._length,d,.8*o._length,s,"","ew"),l(e,a,o._offset,d,.1*o._length,s,"","w"),l(e,a,o._offset+.9*o._length,d,.1*o._length,s,"","e")}if(t===c._mainSubplot){var f=c._mainLinePosition;"right"!==c.side&&(f-=s),l(e,a,f,c._offset+.1*c._length,s,.8*c._length,"ns",""),l(e,a,f,c._offset+.9*c._length,s,.1*c._length,"s",""),l(e,a,f,c._offset,s,.1*c._length,"n","")}}});var o=r._hoverlayer.node();o.onmousemove=function(t){t.target=e._fullLayout._lasthover,n.hover(e,t,r._hoversubplot)},o.onclick=function(t){t.target=e._fullLayout._lasthover,n.click(e,t)},o.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},t.updateFx(e)}},t.updateFx=function(e){var t=e._fullLayout,r="pan"===t.dragmode?"move":"crosshair";o(t._draggers,r)}},function(e,t,r){"use strict";var a=r(3),n=r(0),i=r(99),o=r(335).readPaths,l=r(354),s=r(103).clearOutlineControllers,c=r(14),u=r(38),d=r(17).arrayEditor,f=r(328),p=r(330),h=r(350),g=r(375);function v(e){var t=e._fullLayout;for(var r in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var a=t._plots[r].shapelayer;a&&a.selectAll("path").remove()}for(var n=0;n<t.shapes.length;n++)t.shapes[n].visible&&x(e,n)}function m(e){return!!e._fullLayout._drawing}function y(e){return!e._context.edits.shapePosition}function x(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=g.makeOptionsAndPlotinfo(e,t),s=r.options,x=r.plotinfo;if(s._input&&!1!==s.visible)if("below"!==s.layer)A(e._fullLayout._shapeUpperLayer);else if("paper"===s.xref||"paper"===s.yref)A(e._fullLayout._shapeLowerLayer);else{if(x._hadPlotinfo)A((x.mainplotinfo||x).shapelayer);else A(e._fullLayout._shapeLowerLayer)}function A(r){var A=_(e,s),T={"data-index":t,"fill-rule":s.fillrule,d:A},M=s.opacity,L=s.fillcolor,C=s.line.width?s.line.color:"rgba(0,0,0,0)",S=s.line.width,z=s.line.dash;S||!0!==s.editable||(S=5,z="solid");var P="Z"!==A[A.length-1],O=y(e)&&s.editable&&e._fullLayout._activeShapeIndex===t;O&&(L=P?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,M=e._fullLayout.activeshape.opacity);var I,R=r.append("path").attr(T).style("opacity",M).call(c.stroke,C).call(c.fill,L).call(u.dashLine,z,S);if(b(R,e,s),(O||e._context.edits.shapePosition)&&(I=d(e.layout,"shapes",s)),O){R.style({cursor:"move"});var D={element:R.node(),plotinfo:x,gd:e,editHelpers:I,isActiveShape:!0},E=o(A,e);l(E,R,D)}else e._context.edits.shapePosition?function(e,t,r,o,l,s){var c,d,v,y,x,k,A,T,M,L,C,S,z,P,O,I,R=10,D=10,E="pixel"===r.xsizemode,F="pixel"===r.ysizemode,B="line"===r.type,N="path"===r.type,H=s.modifyItem,j=i.getFromId(e,r.xref),V=i.getRefType(r.xref),G=i.getFromId(e,r.yref),q=i.getRefType(r.yref),Z=g.getDataToPixel(e,j,!1,V),X=g.getDataToPixel(e,G,!0,q),U=g.getPixelToData(e,j,!1,V),W=g.getPixelToData(e,G,!0,q),Y=B?function(){var e=Math.max(r.line.width,10),a=l.append("g").attr("data-index",o);a.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var n={"fill-opacity":"0"},i=Math.max(e/2,10);return a.append("circle").attr({"data-line-point":"start-point",cx:E?Z(r.xanchor)+r.x0:Z(r.x0),cy:F?X(r.yanchor)-r.y0:X(r.y0),r:i}).style(n).classed("cursor-grab",!0),a.append("circle").attr({"data-line-point":"end-point",cx:E?Z(r.xanchor)+r.x1:Z(r.x1),cy:F?X(r.yanchor)-r.y1:X(r.y1),r:i}).style(n).classed("cursor-grab",!0),a}():t,Q={element:Y.node(),gd:e,prepFn:function(a){if(m(e))return;E&&(x=Z(r.xanchor));F&&(k=X(r.yanchor));"path"===r.type?O=r.path:(c=E?r.x0:Z(r.x0),d=F?r.y0:X(r.y0),v=E?r.x1:Z(r.x1),y=F?r.y1:X(r.y1));c<v?(M=c,z="x0",L=v,P="x1"):(M=v,z="x1",L=c,P="x0");!F&&d<y||F&&d>y?(A=d,C="y0",T=y,S="y1"):(A=y,C="y1",T=d,S="y0");J(a),ee(l,r),function(e,t,r){var a=t.xref,n=t.yref,o=i.getFromId(r,a),l=i.getFromId(r,n),s="";"paper"===a||o.autorange||(s+=a);"paper"===n||l.autorange||(s+=n);u.setClipUrl(e,s?"clip"+r._fullLayout._uid+s:null,r)}(t,r,e),Q.moveFn="move"===I?$:K,Q.altKey=a.altKey},doneFn:function(){if(m(e))return;p(t),te(l),b(t,e,r),a.call("_guiRelayout",e,s.getUpdateObj())},clickFn:function(){if(m(e))return;te(l)}};function J(r){if(m(e))I=null;else if(B)I="path"===r.target.tagName?"move":"start-point"===r.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var a=Q.element.getBoundingClientRect(),n=a.right-a.left,i=a.bottom-a.top,o=r.clientX-a.left,l=r.clientY-a.top,s=!N&&n>R&&i>D&&!r.shiftKey?f.getCursor(o/n,1-l/i):"move";p(t,s),I=s.split("-")[0]}}function $(a,n){if("path"===r.type){var i=function(e){return e},o=i,s=i;E?H("xanchor",r.xanchor=U(x+a)):(o=function(e){return U(Z(e)+a)},j&&"date"===j.type&&(o=g.encodeDate(o))),F?H("yanchor",r.yanchor=W(k+n)):(s=function(e){return W(X(e)+n)},G&&"date"===G.type&&(s=g.encodeDate(s))),H("path",r.path=w(O,o,s))}else E?H("xanchor",r.xanchor=U(x+a)):(H("x0",r.x0=U(c+a)),H("x1",r.x1=U(v+a))),F?H("yanchor",r.yanchor=W(k+n)):(H("y0",r.y0=W(d+n)),H("y1",r.y1=W(y+n)));t.attr("d",_(e,r)),ee(l,r)}function K(a,n){if(N){var i=function(e){return e},o=i,s=i;E?H("xanchor",r.xanchor=U(x+a)):(o=function(e){return U(Z(e)+a)},j&&"date"===j.type&&(o=g.encodeDate(o))),F?H("yanchor",r.yanchor=W(k+n)):(s=function(e){return W(X(e)+n)},G&&"date"===G.type&&(s=g.encodeDate(s))),H("path",r.path=w(O,o,s))}else if(B){if("resize-over-start-point"===I){var u=c+a,f=F?d-n:d+n;H("x0",r.x0=E?u:U(u)),H("y0",r.y0=F?f:W(f))}else if("resize-over-end-point"===I){var p=v+a,h=F?y-n:y+n;H("x1",r.x1=E?p:U(p)),H("y1",r.y1=F?h:W(h))}}else{var m=function(e){return-1!==I.indexOf(e)},b=m("n"),V=m("s"),q=m("w"),Y=m("e"),Q=b?A+n:A,J=V?T+n:T,$=q?M+a:M,K=Y?L+a:L;F&&(b&&(Q=A-n),V&&(J=T-n)),(!F&&J-Q>D||F&&Q-J>D)&&(H(C,r[C]=F?Q:W(Q)),H(S,r[S]=F?J:W(J))),K-$>R&&(H(z,r[z]=E?$:U($)),H(P,r[P]=E?K:U(K)))}t.attr("d",_(e,r)),ee(l,r)}function ee(e,t){(E||F)&&function(){var r="path"!==t.type,a=e.selectAll(".visual-cue").data([0]);a.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var i=Z(E?t.xanchor:n.midRange(r?[t.x0,t.x1]:g.extractPathCoords(t.path,h.paramIsX))),o=X(F?t.yanchor:n.midRange(r?[t.y0,t.y1]:g.extractPathCoords(t.path,h.paramIsY)));if(i=g.roundPositionForSharpStrokeRendering(i,1),o=g.roundPositionForSharpStrokeRendering(o,1),E&&F){var l="M"+(i-1-1)+","+(o-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";a.attr("d",l)}else if(E){var s="M"+(i-1-1)+","+(o-9-1)+"v18 h2 v-18 Z";a.attr("d",s)}else{var c="M"+(i-9-1)+","+(o-1-1)+"h18 v2 h-18 Z";a.attr("d",c)}}()}function te(e){e.selectAll(".visual-cue").remove()}f.init(Q),Y.node().onmousemove=J}(e,R,s,t,r,I):!0===s.editable&&R.style("pointer-events",P||c.opacity(L)*M<=.5?"stroke":"all");R.node().addEventListener("click",function(){return function(e,t){if(!y(e))return;var r=+t.node().getAttribute("data-index");if(r>=0){if(r===e._fullLayout._activeShapeIndex)return void k(e);e._fullLayout._activeShapeIndex=r,e._fullLayout._deactivateShape=k,v(e)}}(e,R)})}}function b(e,t,r){var a=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(e,a?"clip"+t._fullLayout._uid+a:null,t)}function _(e,t){var r,a,o,l,s,c,u,d,f=t.type,p=i.getRefType(t.xref),v=i.getRefType(t.yref),m=i.getFromId(e,t.xref),y=i.getFromId(e,t.yref),x=e._fullLayout._size;if(m?"domain"===p?a=function(e){return m._offset+m._length*e}:(r=g.shapePositionToRange(m),a=function(e){return m._offset+m.r2p(r(e,!0))}):a=function(e){return x.l+x.w*e},y?"domain"===v?l=function(e){return y._offset+y._length*(1-e)}:(o=g.shapePositionToRange(y),l=function(e){return y._offset+y.r2p(o(e,!0))}):l=function(e){return x.t+x.h*(1-e)},"path"===f)return m&&"date"===m.type&&(a=g.decodeDate(a)),y&&"date"===y.type&&(l=g.decodeDate(l)),function(e,t,r){var a=e.path,i=e.xsizemode,o=e.ysizemode,l=e.xanchor,s=e.yanchor;return a.replace(h.segmentRE,function(e){var a=0,c=e.charAt(0),u=h.paramIsX[c],d=h.paramIsY[c],f=h.numParams[c],p=e.substr(1).replace(h.paramRE,function(e){return u[a]?e="pixel"===i?t(l)+Number(e):t(e):d[a]&&(e="pixel"===o?r(s)-Number(e):r(e)),++a>f&&(e="X"),e});return a>f&&(p=p.replace(/[\s,]*X.*/,""),n.log("Ignoring extra params in segment "+e)),c+p})}(t,a,l);if("pixel"===t.xsizemode){var b=a(t.xanchor);s=b+t.x0,c=b+t.x1}else s=a(t.x0),c=a(t.x1);if("pixel"===t.ysizemode){var _=l(t.yanchor);u=_-t.y0,d=_-t.y1}else u=l(t.y0),d=l(t.y1);if("line"===f)return"M"+s+","+u+"L"+c+","+d;if("rect"===f)return"M"+s+","+u+"H"+c+"V"+d+"H"+s+"Z";var w=(s+c)/2,k=(u+d)/2,A=Math.abs(w-s),T=Math.abs(k-u),M="A"+A+","+T,L=w+A+","+k;return"M"+L+M+" 0 1,1 "+(w+","+(k-T))+M+" 0 0,1 "+L+"Z"}function w(e,t,r){return e.replace(h.segmentRE,function(e){var a=0,n=e.charAt(0),i=h.paramIsX[n],o=h.paramIsY[n],l=h.numParams[n];return n+e.substr(1).replace(h.paramRE,function(e){return a>=l?e:(i[a]?e=t(e):o[a]&&(e=r(e)),a++,e)})})}function k(e){y(e)&&(e._fullLayout._activeShapeIndex>=0&&(s(e),delete e._fullLayout._activeShapeIndex,v(e)))}e.exports={draw:v,drawOne:x,eraseActiveShape:function(e){if(!y(e))return;s(e);var t=e._fullLayout._activeShapeIndex,r=(e.layout||{}).shapes||[];if(t<r.length){for(var n=[],i=0;i<r.length;i++)i!==t&&n.push(r[i]);delete e._fullLayout._activeShapeIndex,a.call("_guiRelayout",e,{shapes:n})}}}},function(e,t,r){"use strict";var a=r(1),n=r(0),i=n.dateTime2ms,o=n.incrementMonth,l=r(5).ONEAVGMONTH;e.exports=function(e,t,r,n){if("date"!==t.type)return n;var s=e[r+"periodalignment"];if(!s)return n;var c,u=e[r+"period"];if(a(u)){if((u=+u)<=0)return n}else if("string"==typeof u&&"M"===u.charAt(0)){var d=+u.substring(1);if(!(d>0&&Math.round(d)===d))return n;c=d}for(var f=t.calendar,p="start"===s,h="end"===s,g=e[r+"period0"],v=i(g,f)||0,m=[],y=n.length,x=0;x<y;x++){var b,_,w,k=n[x];if(c){for(b=Math.round((k-v)/(c*l)),w=o(v,c*b,f);w>k;)w=o(w,-c,f);for(;w<=k;)w=o(w,c,f);_=o(w,-c,f)}else{for(w=v+(b=Math.round((k-v)/u))*u;w>k;)w-=u;for(;w<=k;)w+=u;_=w-u}m[x]=p?_:h?w:(_+w)/2}return m}},function(e,t,r){"use strict";var a=r(4),n=r(3),i=r(0),o=r(57),l=r(38),s=r(119).getModuleCalcData,c=r(27),u=r(26),d=r(59),f=i.ensureSingle;function p(e,t,r){return i.ensureSingle(e,t,r,function(e){e.datum(r)})}function h(e,t,r,i,o){for(var c,d,f,p=u.traceLayerClasses,h=e._fullLayout,g=h._modules,v=[],m=[],y=0;y<g.length;y++){var x=(c=g[y]).name,b=n.modules[x].categories;if(b.svg){var _=c.layerName||x+"layer",w=c.plot;f=(d=s(r,w))[0],r=d[1],f.length&&v.push({i:p.indexOf(_),className:_,plotMethod:w,cdModule:f}),b.zoomScale&&m.push("."+_)}}v.sort(function(e,t){return e.i-t.i});var k=t.plot.selectAll("g.mlayer").data(v,function(e){return e.className});if(k.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),k.exit().remove(),k.order(),k.each(function(r){var n=a.select(this),s=r.className;r.plotMethod(e,t,r.cdModule,n,i,o),-1===u.clipOnAxisFalseQuery.indexOf("."+s)&&l.setClipUrl(n,t.layerClipId,e)}),h._has("scattergl")&&(c=n.getModule("scattergl"),f=s(r,c)[0],c.plot(e,t,f)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(u.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var A=t.plot.selectAll(m.join(",")).selectAll(".trace");t.zoomScalePts=A.selectAll("path.point"),t.zoomScaleTxt=A.selectAll(".textpoint")}}function g(e,t){var r=t.plotgroup,a=t.id,n=u.layerValue2layerClass[t.xaxis.layer],i=u.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var l=t.mainplotinfo,s=l.plotgroup,d=a+"-x",h=a+"-y";t.gridlayer=l.gridlayer,t.zerolinelayer=l.zerolinelayer,f(l.overlinesBelow,"path",d),f(l.overlinesBelow,"path",h),f(l.overaxesBelow,"g",d),f(l.overaxesBelow,"g",h),t.plot=f(l.overplot,"g",a),f(l.overlinesAbove,"path",d),f(l.overlinesAbove,"path",h),f(l.overaxesAbove,"g",d),f(l.overaxesAbove,"g",h),t.xlines=s.select(".overlines-"+n).select("."+d),t.ylines=s.select(".overlines-"+i).select("."+h),t.xaxislayer=s.select(".overaxes-"+n).select("."+d),t.yaxislayer=s.select(".overaxes-"+i).select("."+h)}else if(o)t.xlines=f(r,"path","xlines-above"),t.ylines=f(r,"path","ylines-above"),t.xaxislayer=f(r,"g","xaxislayer-above"),t.yaxislayer=f(r,"g","yaxislayer-above");else{var g=f(r,"g","layer-subplot");t.shapelayer=f(g,"g","shapelayer"),t.imagelayer=f(g,"g","imagelayer"),t.gridlayer=f(r,"g","gridlayer"),t.zerolinelayer=f(r,"g","zerolinelayer"),f(r,"path","xlines-below"),f(r,"path","ylines-below"),t.overlinesBelow=f(r,"g","overlines-below"),f(r,"g","xaxislayer-below"),f(r,"g","yaxislayer-below"),t.overaxesBelow=f(r,"g","overaxes-below"),t.plot=f(r,"g","plot"),t.overplot=f(r,"g","overplot"),t.xlines=f(r,"path","xlines-above"),t.ylines=f(r,"path","ylines-above"),t.overlinesAbove=f(r,"g","overlines-above"),f(r,"g","xaxislayer-above"),f(r,"g","yaxislayer-above"),t.overaxesAbove=f(r,"g","overaxes-above"),t.xlines=r.select(".xlines-"+n),t.ylines=r.select(".ylines-"+i),t.xaxislayer=r.select(".xaxislayer-"+n),t.yaxislayer=r.select(".yaxislayer-"+i)}o||(p(t.gridlayer,"g",t.xaxis._id),p(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(c.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function v(e,t){if(e){var r={};for(var n in e.each(function(e){var n=e[0];a.select(this).remove(),m(n,t),r[n]=!0}),t._plots)for(var i=t._plots[n].overlays||[],o=0;o<i.length;o++){var l=i[o];r[l.id]&&l.plot.selectAll(".trace").remove()}}}function m(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=u.idRegex,t.attrRegex=u.attrRegex,t.attributes=r(401),t.layoutAttributes=r(18),t.supplyLayoutDefaults=r(402),t.transitionAxes=r(406),t.finalizeSubplots=function(e,t){var r,a,n,o=t._subplots,l=o.xaxis,s=o.yaxis,d=o.cartesian,f=d.concat(o.gl2d||[]),p={},h={};for(r=0;r<f.length;r++){var g=f[r].split("y");p[g[0]]=1,h["y"+g[1]]=1}for(r=0;r<l.length;r++)p[a=l[r]]||(n=(e[c.id2name(a)]||{}).anchor,u.idRegex.y.test(n)||(n="y"),d.push(a+n),f.push(a+n),h[n]||(h[n]=1,i.pushUnique(s,n)));for(r=0;r<s.length;r++)h[n=s[r]]||(a=(e[c.id2name(n)]||{}).anchor,u.idRegex.x.test(a)||(a="x"),d.push(a+n),f.push(a+n),p[a]||(p[a]=1,i.pushUnique(l,a)));if(!f.length){for(var v in a="",n="",e){if(u.attrRegex.test(v))"x"===v.charAt(0)?(!a||+v.substr(5)<+a.substr(5))&&(a=v):(!n||+v.substr(5)<+n.substr(5))&&(n=v)}a=a?c.name2id(a):"x",n=n?c.name2id(n):"y",l.push(a),s.push(n),d.push(a+n)}},t.plot=function(e,t,r,a){var n,i=e._fullLayout,o=i._subplots.cartesian,l=e.calcdata;if(!Array.isArray(t))for(t=[],n=0;n<l.length;n++)t.push(n);for(n=0;n<o.length;n++){for(var s,c=o[n],u=i._plots[c],d=[],f=0;f<l.length;f++){var p=l[f],g=p[0].trace;g.xaxis+g.yaxis===c&&((-1!==t.indexOf(g.index)||g.carpet)&&(s&&s[0].trace.xaxis+s[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(g.fill)&&-1===d.indexOf(s)&&d.push(s),d.push(p)),s=p)}h(e,u,d,r,a)}},t.clean=function(e,t,r,a){var n,i,o,l=a._plots||{},s=t._plots||{},u=a._subplots||{};if(a._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(o in l)(n=l[o]).plotgroup&&n.plotgroup.remove();var d=a._has&&a._has("gl"),f=t._has&&t._has("gl");if(d&&!f)for(o in l)(n=l[o])._scene&&n._scene.destroy();if(u.xaxis&&u.yaxis){var p=c.listIds({_fullLayout:a});for(i=0;i<p.length;i++){var h=p[i];t[c.id2name(h)]||a._infolayer.selectAll(".g-"+h+"title").remove()}}var g=a._has&&a._has("cartesian"),y=t._has&&t._has("cartesian");if(g&&!y)v(a._cartesianlayer.selectAll(".subplot"),a),a._defs.selectAll(".axesclip").remove(),delete a._axisConstraintGroups,delete a._axisMatchGroups;else if(u.cartesian)for(i=0;i<u.cartesian.length;i++){var x=u.cartesian[i];if(!s[x]){var b="."+x+",."+x+"-x,."+x+"-y";a._cartesianlayer.selectAll(b).remove(),m(x,a)}}},t.drawFramework=function(e){var t=e._fullLayout,r=function(e){var t,r,a,n,i,o,l=e._fullLayout,s=l._subplots.cartesian,c=s.length,u=[],d=[];for(t=0;t<c;t++){a=s[t],n=l._plots[a],i=n.xaxis,o=n.yaxis;var f=i._mainAxis,p=o._mainAxis,h=f._id+p._id,g=l._plots[h];n.overlays=[],h!==a&&g?(n.mainplot=h,n.mainplotinfo=g,d.push(a)):(n.mainplot=void 0,n.mainplotinfo=void 0,u.push(a))}for(t=0;t<d.length;t++)a=d[t],(n=l._plots[a]).mainplotinfo.overlays.push(n);var v=u.concat(d),m=new Array(c);for(t=0;t<c;t++){a=v[t],n=l._plots[a],i=n.xaxis,o=n.yaxis;var y=[a,i.layer,o.layer,i.overlaying||"",o.overlaying||""];for(r=0;r<n.overlays.length;r++)y.push(n.overlays[r].id);m[t]=y}return m}(e),n=t._cartesianlayer.selectAll(".subplot").data(r,String);n.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),n.order(),n.exit().call(v,t),n.each(function(r){var n=r[0],i=t._plots[n];i.plotgroup=a.select(this),g(e,i),i.draglayer=f(t._draggers,"g",n)})},t.rangePlot=function(e,t,r){g(e,t),h(e,t,r),o.style(e)},t.toSVG=function(e){var t=e._fullLayout._glimages,r=a.select(e).selectAll(".svg-container");r.filter(function(e,t){return t===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:d.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},t.updateFx=r(378).updateFx},function(e,t,r){"use strict";var a=r(1),n=r(3),i=r(0),o=r(105),l=r(18),s=r(114),c=r(115),u=r(116),d=r(404),f=r(405),p=r(109),h=r(26).WEEKDAY_PATTERN,g=r(26).HOUR_PATTERN;function v(e,t,r){function n(r,a){return i.coerce(e,t,l.rangebreaks,r,a)}if(n("enabled")){var o=n("bounds");if(o&&o.length>=2){var s,c,u="";if(2===o.length)for(s=0;s<2;s++)if(c=y(o[s])){u=h;break}var d=n("pattern",u);if(d===h)for(s=0;s<2;s++)(c=y(o[s]))&&(t.bounds[s]=o[s]=c-1);if(d)for(s=0;s<2;s++)switch(c=o[s],d){case h:if(!a(c))return void(t.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(t.enabled=!1);t.bounds[s]=o[s]=c;break;case g:if(!a(c))return void(t.enabled=!1);if((c=+c)<0||c>24)return void(t.enabled=!1);t.bounds[s]=o[s]=c}if(!1===r.autorange){var f=r.range;if(f[0]<f[1]){if(o[0]<f[0]&&o[1]>f[1])return void(t.enabled=!1)}else if(o[0]>f[0]&&o[1]<f[1])return void(t.enabled=!1)}}else{var p=n("values");if(!p||!p.length)return void(t.enabled=!1);n("dvalue")}}}e.exports=function(e,t,r,a,g){var m,y=a.letter,x=a.font||{},b=a.splomStash||{},_=r("visible",!a.visibleDflt),w=t._template||{},k=t.type||w.type||"-";"date"===k&&(n.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",a.calendar),a.noTicklabelmode||(m=r("ticklabelmode")));a.noTicklabelposition&&"multicategory"!==k||i.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===m?["outside","inside"]:"x"===y?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),p(t,g);var A=!t.isValidRange(e.range);A&&a.reverseDflt&&(A="reversed"),!r("autorange",A)||"linear"!==k&&"-"!==k||r("rangemode"),r("range"),t.cleanRange(),d(e,t,r,a),"category"===k||a.noHover||r("hoverformat");var T=r("color"),M=T!==l.color.dflt?T:x.color,L=b.label||g._dfltTitle[y];if(u(e,t,r,k,a,{pass:1}),!_)return t;r("title.text",L),i.coerceFont(r,"title.font",{family:x.family,size:Math.round(1.2*x.size),color:M}),s(e,t,r,k),u(e,t,r,k,a,{pass:2}),c(e,t,r,a),f(e,t,r,{dfltColor:T,bgColor:a.bgColor,showGrid:a.showGrid,attributes:l}),(t.showline||t.ticks)&&r("mirror"),a.automargin&&r("automargin");var C,S="multicategory"===k;a.noTickson||"category"!==k&&!S||!t.ticks&&!t.showgrid||(S&&(C="boundaries"),"boundaries"===r("tickson",C)&&delete t.ticklabelposition);S&&(r("showdividers")&&(r("dividercolor"),r("dividerwidth")));if("date"===k)if(o(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:v}),t.rangebreaks.length){for(var z=0;z<t.rangebreaks.length;z++)if(t.rangebreaks[z].pattern===h){t._hasDayOfWeekBreaks=!0;break}if(p(t,g),g._has("scattergl")||g._has("splom"))for(var P=0;P<a.data.length;P++){var O=a.data[P];"scattergl"!==O.type&&"splom"!==O.type||(O.visible=!1,i.warn(O.type+" traces do not work on axes with rangebreaks. Setting trace "+O.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function y(e){if("string"==typeof e)return m[e.substr(0,3).toLowerCase()]}},function(e,t,r){"use strict";var a=r(1),n=r(0);e.exports=function(e,t,r,i){var o,l,s,c,u=i.counterAxes||[],d=i.overlayableAxes||[],f=i.letter,p=i.grid;p&&(l=p._domains[f][p._axisMap[t._id]],o=p._anchors[t._id],l&&(s=p[f+"side"].split(" ")[0],c=p.domain[f]["right"===s||"top"===s?1:0])),l=l||[0,1],o=o||(a(e.position)?"free":u[0]||"free"),s=s||("x"===f?"bottom":"left"),c=c||0,"free"===n.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:o}},"anchor")&&r("position",c),n.coerce(e,t,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:s}},"side");var h=!1;if(d.length&&(h=n.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!h){var g=r("domain",l);g[0]>g[1]-1/4096&&(t.domain=l),n.noneOrAll(e.domain,t.domain,l)}return r("layer"),t}},,,function(e,t,r){"use strict";var a=r(4),n=r(19),i=r(345),o=r(3),l=r(0),s=l.strTranslate,c=r(39),u=r(14),d=r(38),f=r(329),p=r(99),h=r(330),g=r(328),v=r(334),m=v.selectingOrDrawing,y=v.freeMode,x=r(28).FROM_TL,b=r(338),_=r(348).redrawReglTraces,w=r(57),k=r(27).getFromId,A=r(336).prepSelect,T=r(336).clearSelect,M=r(336).selectOnClick,L=r(347),C=r(26),S=C.MINDRAG,z=C.MINZOOM,P=!0;function O(e,t,r,a){var n=l.ensureSingle(e.draglayer,t,r,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return n.call(h,a),n.node()}function I(e,t,r,n,i,o,l){var s=O(e,"rect",t,r);return a.select(s).call(d.setRect,n,i,o,l),s}function R(e,t){for(var r=0;r<e.length;r++)if(!e[r].fixedrange)return t;return""}function D(e,t,r,a,n){for(var i=0;i<e.length;i++){var o=e[i];if(!o.fixedrange)if(o.rangebreaks){var l="y"===o._id.charAt(0),s=l?1-t:t,c=l?1-r:r;a[o._name+".range[0]"]=o.l2r(o.p2l(s*o._length)),a[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0],d=o._rl[1]-u;a[o._name+".range[0]"]=o.l2r(u+d*t),a[o._name+".range[1]"]=o.l2r(u+d*r)}}if(n&&n.length){var f=(t+(1-r))/2;D(n,f,1-f,a,[])}}function E(e,t){for(var r=0;r<e.length;r++){var a=e[r];if(!a.fixedrange)if(a.rangebreaks){var n=a._length,i=(a.p2l(0+t)-a.p2l(0)+(a.p2l(n+t)-a.p2l(n)))/2;a.range=[a.l2r(a._rl[0]-i),a.l2r(a._rl[1]-i)]}else a.range=[a.l2r(a._rl[0]-t/a._m),a.l2r(a._rl[1]-t/a._m)]}}function F(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function B(e,t,r,a,n){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(r,a)).attr("d",n+"Z")}function N(e,t,r){return e.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(t,r)).attr("d","M0,0Z")}function H(e,t,r,a,n,i){e.attr("d",a+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),j(e,t,n,i)}function j(e,t,r,a){r||(e.transition().style("fill",a>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function V(e){a.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function G(e){P&&e.data&&e._context.showTips&&(l.notifier(l._(e,"Double-click to zoom back out"),"long"),P=!1)}function q(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,z)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function Z(e,t,r,a,n){for(var i,o,s,c,u=!1,d={},f={},p=(n||{}).xaHash,h=(n||{}).yaHash,g=0;g<t.length;g++){var v=t[g];for(i in r)if(v[i]){for(s in v)n&&(p[s]||h[s])||("x"===s.charAt(0)?r:a)[s]||(d[s]=i);for(o in a)n&&(p[o]||h[o])||!v[o]||(u=!0)}for(o in a)if(v[o])for(c in v)n&&(p[c]||h[c])||("x"===c.charAt(0)?r:a)[c]||(f[c]=o)}u&&(l.extendFlat(d,f),f={});var m={},y=[];for(s in d){var x=k(e,s);y.push(x),m[x._id]=x}var b={},_=[];for(c in f){var w=k(e,c);_.push(w),b[w._id]=w}return{xaHash:m,yaHash:b,xaxes:y,yaxes:_,xLinks:d,yLinks:f,isSubplotConstrained:u}}function X(e,t){if(i){var r=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(r,e._onwheel),e._onwheel=t,e.addEventListener(r,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function U(e){var t=[];for(var r in e)t.push(e[r]);return t}e.exports={makeDragBox:function(e,t,r,i,s,u,h,v){var P,O,j,W,Y,Q,J,$,K,ee,te,re,ae,ne,ie,oe,le,se,ce,ue,de,fe,pe,he=e._fullLayout._zoomlayer,ge=h+v==="nsew",ve=1===(h+v).length;function me(){if(P=t.xaxis,O=t.yaxis,K=P._length,ee=O._length,J=P._offset,$=O._offset,(j={})[P._id]=P,(W={})[O._id]=O,h&&v)for(var r=t.overlays,a=0;a<r.length;a++){var n=r[a].xaxis;j[n._id]=n;var i=r[a].yaxis;W[i._id]=i}Y=U(j),Q=U(W),ae=R(Y,v),ne=R(Q,h),ie=!ne&&!ae,re=Z(e,e._fullLayout._axisMatchGroups,j,W);var o=(te=Z(e,e._fullLayout._axisConstraintGroups,j,W,re)).isSubplotConstrained||re.isSubplotConstrained;oe=v||o,le=h||o;var l=e._fullLayout;se=l._has("scattergl"),ce=l._has("splom"),ue=l._has("svg")}me();var ye=function(e,t,r){return e?"nsew"===e?r?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(ne+ae,e._fullLayout.dragmode,ge),xe=I(t,h+v+"drag",ye,r,i,s,u);if(ie&&!ge)return xe.onmousedown=null,xe.style.pointerEvents="none",xe;var be,_e,we,ke,Ae,Te,Me,Le,Ce,Se,ze={element:xe,gd:e,plotinfo:t};function Pe(){ze.plotinfo.selection=!1,T(e)}function Oe(e,r){var n=ze.gd;if(n._fullLayout._activeShapeIndex>=0)n._fullLayout._deactivateShape(n);else{var i=n._fullLayout.clickmode;if(V(n),2!==e||ve||Ge(),ge)i.indexOf("select")>-1&&M(r,n,Y,Q,t.id,ze),i.indexOf("event")>-1&&f.click(n,r,t.id);else if(1===e&&ve){var l=h?O:P,s="s"===h||"w"===v?0:1,u=l._name+".range["+s+"]",d=function(e,t){var r,n=e.range[t],i=Math.abs(n-e.range[1-t]);return"date"===e.type?n:"log"===e.type?(r=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,a.format("."+r+"g")(Math.pow(10,n))):(r=Math.floor(Math.log(Math.abs(n))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,a.format("."+String(r)+"g")(n))}(l,s),p="left",g="middle";if(l.fixedrange)return;h?(g="n"===h?"top":"bottom","right"===l.side&&(p="right")):"e"===v&&(p="right"),n._context.showAxisRangeEntryBoxes&&a.select(xe).call(c.makeEditable,{gd:n,immediate:!0,background:n._fullLayout.paper_bgcolor,text:String(d),fill:l.tickfont?l.tickfont.color:"#444",horizontalAlign:p,verticalAlign:g}).on("edit",function(e){var t=l.d2r(e);void 0!==t&&o.call("_guiRelayout",n,u,t)})}}}function Ie(t,r){if(e._transitioningWithDuration)return!1;var a=Math.max(0,Math.min(K,fe*t+be)),n=Math.max(0,Math.min(ee,pe*r+_e)),i=Math.abs(a-be),o=Math.abs(n-_e);function l(){Me="",we.r=we.l,we.t=we.b,Ce.attr("d","M0,0Z")}if(we.l=Math.min(be,a),we.r=Math.max(be,a),we.t=Math.min(_e,n),we.b=Math.max(_e,n),te.isSubplotConstrained)i>z||o>z?(Me="xy",i/K>o/ee?(o=i*ee/K,_e>n?we.t=_e-o:we.b=_e+o):(i=o*K/ee,be>a?we.l=be-i:we.r=be+i),Ce.attr("d",q(we))):l();else if(re.isSubplotConstrained)if(i>z||o>z){Me="xy";var s=Math.min(we.l/K,(ee-we.b)/ee),c=Math.max(we.r/K,(ee-we.t)/ee);we.l=s*K,we.r=c*K,we.b=(1-s)*ee,we.t=(1-c)*ee,Ce.attr("d",q(we))}else l();else!ne||o<Math.min(Math.max(.6*i,S),z)?i<S||!ae?l():(we.t=0,we.b=ee,Me="x",Ce.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-z-.5)+"h-3v"+(2*z+1)+"h3ZM"+(e.r+.5)+","+(t-z-.5)+"h3v"+(2*z+1)+"h-3Z"}(we,_e))):!ae||i<Math.min(.6*o,z)?(we.l=0,we.r=K,Me="y",Ce.attr("d",function(e,t){return"M"+(t-z-.5)+","+(e.t-.5)+"v-3h"+(2*z+1)+"v3ZM"+(t-z-.5)+","+(e.b+.5)+"v3h"+(2*z+1)+"v-3Z"}(we,be))):(Me="xy",Ce.attr("d",q(we)));we.w=we.r-we.l,we.h=we.b-we.t,Me&&(Se=!0),e._dragged=Se,H(Le,Ce,we,Ae,Te,ke),Re(),e.emit("plotly_relayouting",de),Te=!0}function Re(){de={},"xy"!==Me&&"x"!==Me||(D(Y,we.l/K,we.r/K,de,te.xaxes),je("x",de)),"xy"!==Me&&"y"!==Me||(D(Q,(ee-we.b)/ee,(ee-we.t)/ee,de,te.yaxes),je("y",de))}function De(){Re(),V(e),qe(),G(e)}ze.prepFn=function(t,r,a){var i=ze.dragmode,o=e._fullLayout.dragmode;o!==i&&(ze.dragmode=o),me(),fe=e._fullLayout._invScaleX,pe=e._fullLayout._invScaleY,ie||(ge?t.shiftKey?"pan"===o?o="zoom":m(o)||(o="pan"):t.ctrlKey&&(o="pan"):o="pan"),y(o)?ze.minDrag=1:ze.minDrag=void 0,m(o)?(ze.xaxes=Y,ze.yaxes=Q,A(t,r,a,ze,o)):(ze.clickFn=Oe,m(i)&&Pe(),ie||("zoom"===o?(ze.moveFn=Ie,ze.doneFn=De,ze.minDrag=1,function(t,r,a){var i=xe.getBoundingClientRect();be=r-i.left,_e=a-i.top,e._fullLayout._calcInverseTransform(e);var o=l.apply3DTransform(e._fullLayout._invTransform)(be,_e);be=o[0],_e=o[1],we={l:be,r:be,w:0,t:_e,b:_e,h:0},ke=e._hmpixcount?e._hmlumcount/e._hmpixcount:n(e._fullLayout.plot_bgcolor).getLuminance(),Te=!1,Me="xy",Se=!1,Le=B(he,ke,J,$,Ae="M0,0H"+K+"V"+ee+"H0V0"),Ce=N(he,J,$)}(0,r,a)):"pan"===o&&(ze.moveFn=He,ze.doneFn=qe))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===xe){var r=e._fullLayout.dragmode;m(r)||(me(),Ze([0,0,K,ee]),ze.moveFn(t.dx,t.dy))}}},g.init(ze);var Ee=[0,0,K,ee],Fe=null,Be=C.REDRAWDELAY,Ne=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function He(t,r){if(t*=fe,r*=pe,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===ae||"ns"===ne){var a=ae?-t:0,n=ne?-r:0;if(re.isSubplotConstrained){if(ae&&ne){var i=(t/K-r/ee)/2;a=-(t=i*K),n=-(r=-i*ee)}ne?a=-n*K/ee:n=-a*ee/K}return ae&&(E(Y,t),je("x")),ne&&(E(Q,r),je("y")),Ze([a,n,K,ee]),Ve(),void e.emit("plotly_relayouting",de)}var o,l,s="w"===ae==("n"===ne)?1:-1;if(ae&&ne&&(te.isSubplotConstrained||re.isSubplotConstrained)){var c=(t/K+s*r/ee)/2;t=c*K,r=s*c*ee}if("w"===ae?t=p(Y,0,t):"e"===ae?t=p(Y,1,-t):ae||(t=0),"n"===ne?r=p(Q,1,r):"s"===ne?r=p(Q,0,-r):ne||(r=0),o="w"===ae?t:0,l="n"===ne?r:0,te.isSubplotConstrained&&!re.isSubplotConstrained||re.isSubplotConstrained&&ae&&ne&&s>0){var u;if(re.isSubplotConstrained||!ae&&1===ne.length){for(u=0;u<Y.length;u++)Y[u].range=Y[u]._r.slice(),L(Y[u],1-r/ee);o=(t=r*K/ee)/2}if(re.isSubplotConstrained||!ne&&1===ae.length){for(u=0;u<Q.length;u++)Q[u].range=Q[u]._r.slice(),L(Q[u],1-t/K);l=(r=t*ee/K)/2}}re.isSubplotConstrained&&ne||je("x"),re.isSubplotConstrained&&ae||je("y");var d=K-t,f=ee-r;!re.isSubplotConstrained||ae&&ne||(ae?(l=o?0:t*ee/K,f=d*ee/K):(o=l?0:r*K/ee,d=f*K/ee)),Ze([o,l,d,f]),Ve(),e.emit("plotly_relayouting",de)}function p(e,t,r){for(var a,n,i=1-t,o=0;o<e.length;o++){var l=e[o];if(!l.fixedrange){a=l,n=l._rl[i]+(l._rl[t]-l._rl[i])/F(r/l._length);var s=l.l2r(n);!1!==s&&void 0!==s&&(l.range[t]=s)}}return a._length*(a._rl[t]-n)/(a._rl[t]-a._rl[i])}}function je(e,t){for(var r=re.isSubplotConstrained?{x:Q,y:Y}[e]:re[e+"axes"],a=re.isSubplotConstrained?{x:Y,y:Q}[e]:[],n=0;n<r.length;n++){var i=r[n],o=i._id,l=re.xLinks[o]||re.yLinks[o],s=a[0]||j[l]||W[l];s&&(t?(t[i._name+".range[0]"]=t[s._name+".range[0]"],t[i._name+".range[1]"]=t[s._name+".range[1]"]):i.range=s.range.slice())}}function Ve(){var t,r=[];function a(e){for(t=0;t<e.length;t++)e[t].fixedrange||r.push(e[t]._id)}for(oe&&(a(Y),a(te.xaxes),a(re.xaxes)),le&&(a(Q),a(te.yaxes),a(re.yaxes)),de={},t=0;t<r.length;t++){var n=r[t],i=k(e,n);p.drawOne(e,i,{skipTitle:!0}),de[i._name+".range[0]"]=i.range[0],de[i._name+".range[1]"]=i.range[1]}p.redrawComponents(e,r)}function Ge(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,r=[];ae&&(r=r.concat(Y)),ne&&(r=r.concat(Q)),re.xaxes&&(r=r.concat(re.xaxes)),re.yaxes&&(r=r.concat(re.yaxes));var a,n,i,l={};if("reset+autosize"===t)for(t="autosize",n=0;n<r.length;n++)if((a=r[n])._rangeInitial&&(a.range[0]!==a._rangeInitial[0]||a.range[1]!==a._rangeInitial[1])||!a._rangeInitial&&!a.autorange){t="reset";break}if("autosize"===t)for(n=0;n<r.length;n++)(a=r[n]).fixedrange||(l[a._name+".autorange"]=!0);else if("reset"===t)for((ae||te.isSubplotConstrained)&&(r=r.concat(te.xaxes)),ne&&!te.isSubplotConstrained&&(r=r.concat(te.yaxes)),te.isSubplotConstrained&&(ae?ne||(r=r.concat(Q)):r=r.concat(Y)),n=0;n<r.length;n++)(a=r[n]).fixedrange||(a._rangeInitial?(i=a._rangeInitial,l[a._name+".range[0]"]=i[0],l[a._name+".range[1]"]=i[1]):l[a._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),o.call("_guiRelayout",e,l)}}function qe(){Ze([0,0,K,ee]),l.syncOrAsync([w.previousPromises,function(){e._fullLayout._replotting=!1,o.call("_guiRelayout",e,de)}],e)}function Ze(t){var r,a,n,i,s=e._fullLayout,c=s._plots,u=s._subplots.cartesian;if(ce&&o.subplotsRegistry.splom.drag(e),se)for(r=0;r<u.length;r++)if(n=(a=c[u[r]]).xaxis,i=a.yaxis,a._scene){var f=l.simpleMap(n.range,n.r2l),p=l.simpleMap(i.range,i.r2l);a._scene.update({range:[f[0],p[0],f[1],p[1]]})}if((ce||se)&&(b(e),_(e)),ue){var g=t[2]/P._length,m=t[3]/O._length;for(r=0;r<u.length;r++){n=(a=c[u[r]]).xaxis,i=a.yaxis;var y,x,w,k,A=(oe||re.isSubplotConstrained)&&!n.fixedrange&&j[n._id],T=(le||re.isSubplotConstrained)&&!i.fixedrange&&W[i._id];if(A?(y=g,w=v||re.isSubplotConstrained?t[0]:We(n,y)):re.xaHash[n._id]?(y=g,w=t[0]*n._length/P._length):re.yaHash[n._id]?(y=m,w="ns"===ne?-t[1]*n._length/O._length:We(n,y,{n:"top",s:"bottom"}[ne])):w=Ue(n,y=Xe(n,g,m)),T?(x=m,k=h||re.isSubplotConstrained?t[1]:We(i,x)):re.yaHash[i._id]?(x=m,k=t[1]*i._length/O._length):re.xaHash[i._id]?(x=g,k="ew"===ae?-t[0]*i._length/P._length:We(i,x,{e:"right",w:"left"}[ae])):k=Ue(i,x=Xe(i,g,m)),y||x){y||(y=1),x||(x=1);var M=n._offset-w/y,L=i._offset-k/x;a.clipRect.call(d.setTranslate,w,k).call(d.setScale,y,x),a.plot.call(d.setTranslate,M,L).call(d.setScale,1/y,1/x),y===a.xScaleFactor&&x===a.yScaleFactor||(d.setPointGroupScale(a.zoomScalePts,y,x),d.setTextPointsScale(a.zoomScaleTxt,y,x)),d.hideOutsideRangePoints(a.clipOnAxisFalseTraces,a),a.xScaleFactor=y,a.yScaleFactor=x}}}}function Xe(e,t,r){return e.fixedrange?0:oe&&te.xaHash[e._id]?t:le&&(te.isSubplotConstrained?te.xaHash:te.yaHash)[e._id]?r:0}function Ue(e,t){return t?(e.range=e._r.slice(),L(e,t),We(e,t)):0}function We(e,t,r){return e._length*(1-t)*x[r||e.constraintoward||"middle"]}return h.length*v.length!=1&&X(xe,function(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(Pe(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();me(),clearTimeout(Fe);var r=-t.deltaY;if(isFinite(r)||(r=t.wheelDelta/10),isFinite(r)){var a,n=Math.exp(-Math.min(Math.max(r,-20),20)/200),i=Ne.draglayer.select(".nsewdrag").node().getBoundingClientRect(),o=(t.clientX-i.left)/i.width,s=(i.bottom-t.clientY)/i.height;if(oe){for(v||(o=.5),a=0;a<Y.length;a++)c(Y[a],o,n);je("x"),Ee[2]*=n,Ee[0]+=Ee[2]*o*(1/n-1)}if(le){for(h||(s=.5),a=0;a<Q.length;a++)c(Q[a],s,n);je("y"),Ee[3]*=n,Ee[1]+=Ee[3]*(1-s)*(1/n-1)}Ze(Ee),Ve(),e.emit("plotly_relayouting",de),Fe=setTimeout(function(){Ee=[0,0,K,ee],qe()},Be),t.preventDefault()}else l.log("Did not find wheel motion attributes: ",t)}function c(e,t,r){if(!e.fixedrange){var a=l.simpleMap(e.range,e.r2l),n=a[0]+(a[1]-a[0])*t;e.range=a.map(function(t){return e.l2r(n+(t-n)*r)})}}}),xe},makeDragger:O,makeRectDragger:I,makeZoombox:B,makeCorners:N,updateZoombox:H,xyCorners:q,transitionZoombox:j,removeZoombox:V,showDoubleClickNotifier:G,attachWheelEventHandler:X}},function(e,t,r){"use strict";t.manage=r(388)},function(e,t,r){"use strict";var a=r(27),n=r(101),i=r(3),o=r(100).isUnifiedHover,l=r(389),s=r(390);e.exports=function(e){var t=e._fullLayout,r=e._context,u=t._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d,f=r.modeBarButtons;d=Array.isArray(f)&&f.length?function(e){for(var t=0;t<e.length;t++)for(var r=e[t],a=0;a<r.length;a++){var n=r[a];if("string"==typeof n){if(void 0===s[n])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][a]=s[n]}}return e}(f):!r.displayModeBar&&r.watermark?[]:function(e){var t=e._fullLayout,r=e._fullData,l=e._context,u=l.modeBarButtonsToRemove,d=l.modeBarButtonsToAdd,f=t._has("cartesian"),p=t._has("gl3d"),h=t._has("geo"),g=t._has("pie"),v=t._has("funnelarea"),m=t._has("gl2d"),y=t._has("ternary"),x=t._has("mapbox"),b=t._has("polar"),_=t._has("sankey"),w=function(e){for(var t=a.list({_fullLayout:e},null,!0),r=0;r<t.length;r++)if(!t[r].fixedrange)return!1;return!0}(t),k=o(t.hovermode),A=[];function T(e){if(e.length){for(var t=[],r=0;r<e.length;r++){var a=e[r];-1===u.indexOf(a)&&t.push(s[a])}A.push(t)}}var M=["toImage"];l.showEditInChartStudio?M.push("editInChartStudio"):l.showSendToCloud&&M.push("sendDataToCloud");T(M);var L=[],C=[],S=[],z=[];(f||m||g||v||y)+h+p+x+b>1?(C=["toggleHover"],S=["resetViews"]):h?(L=["zoomInGeo","zoomOutGeo"],C=["hoverClosestGeo"],S=["resetGeo"]):p?(C=["hoverClosest3d"],S=["resetCameraDefault3d","resetCameraLastSave3d"]):x?(L=["zoomInMapbox","zoomOutMapbox"],C=["toggleHover"],S=["resetViewMapbox"]):m?C=["hoverClosestGl2d"]:g?C=["hoverClosestPie"]:_?(C=["hoverClosestCartesian","hoverCompareCartesian"],S=["resetViewSankey"]):C=["toggleHover"];f&&(C=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);((function(e){for(var t=0;t<e.length;t++)if(!i.traceIs(e[t],"noHover"))return!1;return!0})(r)||k)&&(C=[]);!f&&!m||w||(L=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==S[0]&&(S=["resetScale2d"]));p?z=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||m)&&!w||y?z=["zoom2d","pan2d"]:x||h?z=["pan2d"]:b&&(z=["zoom2d"]);(function(e){for(var t=!1,r=0;r<e.length&&!t;r++){var a=e[r];a._module&&a._module.selectPoints&&(i.traceIs(a,"scatter-like")?(n.hasMarkers(a)||n.hasText(a))&&(t=!0):i.traceIs(a,"box-violin")&&"all"!==a.boxpoints&&"all"!==a.points||(t=!0))}return t})(r)&&z.push("select2d","lasso2d");if(Array.isArray(d)){for(var P=[],O=0;O<d.length;O++){var I=d[O];"string"==typeof I?-1!==c.indexOf(I)&&(t._has("mapbox")||t._has("cartesian"))&&z.push(I):P.push(I)}d=P}return T(z),T(L.concat(S)),T(C),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t);return e}(A,d)}(e),u?u.update(e,d):t._modeBar=l(e,d)}else u&&(u.destroy(),delete t._modeBar)};var c=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},function(e,t,r){"use strict";var a=r(4),n=r(1),i=r(0),o=r(349),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=s.prototype;c.update=function(e,t){this.graphInfo=e;var r=this.graphInfo._context,a=this.graphInfo._fullLayout,n="modebar-"+a._uid;this.element.setAttribute("id",n),this._uid=n,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===a.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var o=a.modebar,l="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(n),i.addRelatedStyleRule(n,l+"#"+n+" .modebar-group","background-color: "+o.bgcolor),i.addRelatedStyleRule(n,"#"+n+" .modebar-btn .icon path","fill: "+o.color),i.addRelatedStyleRule(n,"#"+n+" .modebar-btn:hover .icon path","fill: "+o.activecolor),i.addRelatedStyleRule(n,"#"+n+" .modebar-btn.active .icon path","fill: "+o.activecolor);var s=!this.hasButtons(t),c=this.hasLogo!==r.displaylogo,u=this.locale!==r.locale;if(this.locale=r.locale,(s||c||u)&&(this.removeAllButtons(),this.updateButtons(t),r.watermark||r.displaylogo)){var d=this.getLogo();r.watermark&&(d.className=d.className+" watermark"),"v"===a.modebar.orientation?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},c.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var r=t.createGroup();e.forEach(function(e){var a=e.name;if(!a)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(a))throw new Error("button name '"+a+"' is taken");t.buttonsNames.push(a);var n=t.createButton(e);t.buttonElements.push(n),r.appendChild(n)}),t.element.appendChild(r)})},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var t=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var n=e.title;void 0===n?n=e.name:"function"==typeof n&&(n=n(this.graphInfo)),(n||0===n)&&r.setAttribute("data-title",n),void 0!==e.attr&&r.setAttribute("data-attr",e.attr);var i=e.val;if(void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),r.setAttribute("data-val",i)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(r){e.click(t.graphInfo,r),t.updateActiveButton(r.currentTarget)}),r.setAttribute("data-toggle",e.toggle||!1),e.toggle&&a.select(r).classed("active",!0);var l=e.icon;return"function"==typeof l?r.appendChild(l()):r.appendChild(this.createIcon(l||o.question)),r.setAttribute("data-gravity",e.gravity||"n"),r},c.createIcon=function(e){var t,r=n(e.height)?Number(e.height):e.ascent-e.descent,a="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(a,"svg")).setAttribute("viewBox",[0,0,e.width,r].join(" ")),t.setAttribute("class","icon");var i=document.createElementNS(a,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):void 0!==e.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(i)}e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]);return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},c.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,r=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var n=e.getAttribute("data-val")||!0,o=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=a.select(e);if(l)o===r&&s.classed("active",!s.classed("active"));else{var c=null===o?o:i.nestedProperty(t,o).get();s.classed("active",c===n)}})},c.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return!1;for(var a=0;a<e[r].length;a++)if(e[r][a].name!==t[r][a].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(o.newplotlylogo)),e.appendChild(t),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},e.exports=function(e,t){var r=e._fullLayout,n=new s({graphInfo:e,container:r._modebardiv.node(),buttons:t});return r._privateplot&&a.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}},function(e,t,r){"use strict";var a=r(3),n=r(57),i=r(27),o=r(349),l=r(379).eraseActiveShape,s=r(0),c=s._,u=e.exports={};function d(e,t){var r,n,o=t.currentTarget,l=o.getAttribute("data-attr"),s=o.getAttribute("data-val")||!0,c=e._fullLayout,u={},d=i.list(e,null,!0),f=c._cartesianSpikesEnabled;if("zoom"===l){var p,h="in"===s?.5:2,g=(1+h)/2,v=(1-h)/2;for(n=0;n<d.length;n++)if(!(r=d[n]).fixedrange)if(p=r._name,"auto"===s)u[p+".autorange"]=!0;else if("reset"===s){if(void 0===r._rangeInitial)u[p+".autorange"]=!0;else{var m=r._rangeInitial.slice();u[p+".range[0]"]=m[0],u[p+".range[1]"]=m[1]}void 0!==r._showSpikeInitial&&(u[p+".showspikes"]=r._showSpikeInitial,"on"!==f||r._showSpikeInitial||(f="off"))}else{var y=[r.r2l(r.range[0]),r.r2l(r.range[1])],x=[g*y[0]+v*y[1],g*y[1]+v*y[0]];u[p+".range[0]"]=r.l2r(x[0]),u[p+".range[1]"]=r.l2r(x[1])}}else"hovermode"!==l||"x"!==s&&"y"!==s||(s=c._isHoriz?"y":"x",o.setAttribute("data-val",s)),u[l]=s;c._cartesianSpikesEnabled=f,a.call("_guiRelayout",e,u)}function f(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],l={},s=n.split("."),c=0;c<o.length;c++)l[o[c]+"."+s[1]]=i;var u="pan"===i?i:"zoom";l.dragmode=u,a.call("_guiRelayout",e,l)}function p(e,t){for(var r=t.currentTarget.getAttribute("data-attr"),n="resetLastSave"===r,i="resetDefault"===r,o=e._fullLayout,l=o._subplots.gl3d||[],s={},c=0;c<l.length;c++){var u,d=l[c],f=d+".camera",p=d+".aspectratio",h=d+".aspectmode",g=o[d]._scene;n?(s[f+".up"]=g.viewInitial.up,s[f+".eye"]=g.viewInitial.eye,s[f+".center"]=g.viewInitial.center,u=!0):i&&(s[f+".up"]=null,s[f+".eye"]=null,s[f+".center"]=null,u=!0),u&&(s[p+".x"]=g.viewInitial.aspectratio.x,s[p+".y"]=g.viewInitial.aspectratio.y,s[p+".z"]=g.viewInitial.aspectratio.z,s[h]=g.viewInitial.aspectmode)}a.call("_guiRelayout",e,s)}function h(e,t){var r=t.currentTarget,a=r._previousVal,n=e._fullLayout,i=n._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],l={},s={};if(a)s=a,r._previousVal=null;else{for(var c=0;c<i.length;c++){var u=i[c],d=n[u],f=u+".hovermode";l[f]=d.hovermode,s[f]=!1;for(var p=0;p<3;p++){var h=o[p],g=u+"."+h+".showspikes";s[g]=!1,l[g]=d[h].showspikes}}r._previousVal=l}return s}function g(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,o=e._fullLayout,l=o._subplots.geo||[],s=0;s<l.length;s++){var c=l[s],u=o[c];if("zoom"===n){var d=u.projection.scale,f="in"===i?2*d:.5*d;a.call("_guiRelayout",e,c+".projection.scale",f)}}"reset"===n&&x(e,"geo")}function v(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function m(e){var t=v(e);a.call("_guiRelayout",e,"hovermode",t)}function y(e,t){for(var r=t.currentTarget.getAttribute("data-val"),n=e._fullLayout,i=n._subplots.mapbox||[],o={},l=0;l<i.length;l++){var s=i[l],c=n[s].zoom,u="in"===r?1.05*c:c/1.05;o[s+".zoom"]=u}a.call("_guiRelayout",e,o)}function x(e,t){for(var r=e._fullLayout,n=r._subplots[t]||[],i={},o=0;o<n.length;o++)for(var l=n[o],s=r[l]._subplot.viewInitial,c=Object.keys(s),u=0;u<c.length;u++){var d=c[u];i[l+"."+d]=s[d]}a.call("_guiRelayout",e,i)}u.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return c(e,"png"===t?"Download plot as a png":"Download plot")},icon:o.camera,click:function(e){var t=e._context.toImageButtonOptions,r={format:t.format||"png"};s.notifier(c(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&s.isIE()&&(s.notifier(c(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach(function(e){e in t&&(r[e]=t[e])}),a.call("downloadImage",e,r).then(function(t){s.notifier(c(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){s.notifier(c(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return c(e,"Edit in Chart Studio")},icon:o.disk,click:function(e){n.sendDataToCloud(e)}},u.editInChartStudio={name:"editInChartStudio",title:function(e){return c(e,"Edit in Chart Studio")},icon:o.pencil,click:function(e){n.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return c(e,"Zoom")},attr:"dragmode",val:"zoom",icon:o.zoombox,click:d},u.pan2d={name:"pan2d",title:function(e){return c(e,"Pan")},attr:"dragmode",val:"pan",icon:o.pan,click:d},u.select2d={name:"select2d",title:function(e){return c(e,"Box Select")},attr:"dragmode",val:"select",icon:o.selectbox,click:d},u.lasso2d={name:"lasso2d",title:function(e){return c(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:o.lasso,click:d},u.drawclosedpath={name:"drawclosedpath",title:function(e){return c(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:o.drawclosedpath,click:d},u.drawopenpath={name:"drawopenpath",title:function(e){return c(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:o.drawopenpath,click:d},u.drawline={name:"drawline",title:function(e){return c(e,"Draw line")},attr:"dragmode",val:"drawline",icon:o.drawline,click:d},u.drawrect={name:"drawrect",title:function(e){return c(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:o.drawrect,click:d},u.drawcircle={name:"drawcircle",title:function(e){return c(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:o.drawcircle,click:d},u.eraseshape={name:"eraseshape",title:function(e){return c(e,"Erase active shape")},icon:o.eraseshape,click:l},u.zoomIn2d={name:"zoomIn2d",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:d},u.zoomOut2d={name:"zoomOut2d",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:d},u.autoScale2d={name:"autoScale2d",title:function(e){return c(e,"Autoscale")},attr:"zoom",val:"auto",icon:o.autoscale,click:d},u.resetScale2d={name:"resetScale2d",title:function(e){return c(e,"Reset axes")},attr:"zoom",val:"reset",icon:o.home,click:d},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return c(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:d},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return c(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:o.tooltip_compare,gravity:"ne",click:d},u.zoom3d={name:"zoom3d",title:function(e){return c(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:o.zoombox,click:f},u.pan3d={name:"pan3d",title:function(e){return c(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:o.pan,click:f},u.orbitRotation={name:"orbitRotation",title:function(e){return c(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:o["3d_rotate"],click:f},u.tableRotation={name:"tableRotation",title:function(e){return c(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:o["z-axis"],click:f},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return c(e,"Reset camera to default")},attr:"resetDefault",icon:o.home,click:p},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return c(e,"Reset camera to last save")},attr:"resetLastSave",icon:o.movie,click:p},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var r=h(e,t);a.call("_guiRelayout",e,r)}},u.zoomInGeo={name:"zoomInGeo",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:g},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:g},u.resetGeo={name:"resetGeo",title:function(e){return c(e,"Reset")},attr:"reset",val:null,icon:o.autoscale,click:g},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:m},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:m},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:m},u.resetViewSankey={name:"resetSankeyGroup",title:function(e){return c(e,"Reset view")},icon:o.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<e._fullData.length;r++){var n=e._fullData[r]._viewInitial;t["node.groups"].push(n.node.groups.slice()),t["node.x"].push(n.node.x.slice()),t["node.y"].push(n.node.y.slice())}a.call("restyle",e,t)}},u.toggleHover={name:"toggleHover",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var r=h(e,t);r.hovermode=v(e),a.call("_guiRelayout",e,r)}},u.resetViews={name:"resetViews",title:function(e){return c(e,"Reset views")},icon:o.home,click:function(e,t){var r=t.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),d(e,t),r.setAttribute("data-attr","resetLastSave"),p(e,t),x(e,"geo"),x(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return c(e,"Toggle Spike Lines")},icon:o.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,r=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===r?"off":"on",a.call("_guiRelayout",e,function(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,r=i.list(e,null,!0),a={},n=0;n<r.length;n++){var o=r[n];a[o._name+".showspikes"]=!!t||o._showSpikeInitial}return a}(e))}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return c(e,"Reset view")},attr:"reset",icon:o.home,click:function(e){x(e,"mapbox")}},u.zoomInMapbox={name:"zoomInMapbox",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:y},u.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:y}},function(e,t){e.exports=function(e){var t=[];return e.replace(a,function(e,a,i){var o=a.toLowerCase();for(i=function(e){var t=e.match(n);return t?t.map(Number):[]}(i),"m"==o&&i.length>2&&(t.push([a].concat(i.splice(0,2))),o="l",a="m"==a?"l":"L");;){if(i.length==r[o])return i.unshift(a),t.push(i);if(i.length<r[o])throw new Error("malformed path data");t.push([a].concat(i.splice(0,r[o])))}}),t};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var n=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(e,t,r){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var a,n=r(393),i=r(394),o=r(395),l=r(397),s=r(398),c=r(399),u=!1,d=i();function f(e,t,r){var n=a.segments(e),i=a.segments(t),o=r(a.combine(n,i));return a.polygon(o)}a={buildLog:function(e){return!0===e?u=n():!1===e&&(u=!1),!1!==u&&u.list},epsilon:function(e){return d.epsilon(e)},segments:function(e){var t=o(!0,d,u);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:o(!1,d,u).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,u),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,u),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,u),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,u),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,u),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,d,u),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(a,e)},polygonToGeoJSON:function(e){return c.fromPolygon(a,d,e)},union:function(e,t){return f(e,t,a.selectUnion)},intersect:function(e,t){return f(e,t,a.selectIntersect)},difference:function(e,t){return f(e,t,a.selectDifference)},differenceRev:function(e,t){return f(e,t,a.selectDifferenceRev)},xor:function(e,t){return f(e,t,a.selectXor)}},"object"==typeof window&&(window.PolyBool=a),e.exports=a},function(e,t){e.exports=function(){var e,t=0,r=!1;function a(t,r){return e.list.push({type:t,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return a("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return a("div_seg",{seg:e,pt:t}),a("chop",{seg:e,pt:t})},statusRemove:function(e){return a("pop_seg",{seg:e})},segmentUpdate:function(e){return a("seg_update",{seg:e})},segmentNew:function(e,t){return a("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return a("rem_seg",{seg:e})},tempStatus:function(e,t,r){return a("temp_status",{seg:e,above:t,below:r})},rewind:function(e){return a("rewind",{seg:e})},status:function(e,t,r){return a("status",{seg:e,above:t,below:r})},vert:function(t){return t===r?e:(r=t,a("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),a("log",{txt:e})},reset:function(){return a("reset")},selected:function(e){return a("selected",{segs:e})},chainStart:function(e){return a("chain_start",{seg:e})},chainRemoveHead:function(e,t){return a("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return a("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return a("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return a("chain_match",{index:e})},chainClose:function(e){return a("chain_close",{index:e})},chainAddHead:function(e,t){return a("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return a("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return a("chain_con",{index1:e,index2:t})},chainReverse:function(e){return a("chain_rev",{index:e})},chainJoin:function(e,t){return a("chain_join",{index1:e,index2:t})},done:function(){return a("done")}}}},function(e,t){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,r,a){var n=r[0],i=r[1],o=a[0],l=a[1],s=t[0];return(o-n)*(t[1]-i)-(l-i)*(s-n)>=-e},pointBetween:function(t,r,a){var n=t[1]-r[1],i=a[0]-r[0],o=t[0]-r[0],l=a[1]-r[1],s=o*i+n*l;return!(s<e||s-(i*i+l*l)>-e)},pointsSameX:function(t,r){return Math.abs(t[0]-r[0])<e},pointsSameY:function(t,r){return Math.abs(t[1]-r[1])<e},pointsSame:function(e,r){return t.pointsSameX(e,r)&&t.pointsSameY(e,r)},pointsCompare:function(e,r){return t.pointsSameX(e,r)?t.pointsSameY(e,r)?0:e[1]<r[1]?-1:1:e[0]<r[0]?-1:1},pointsCollinear:function(t,r,a){var n=t[0]-r[0],i=t[1]-r[1],o=r[0]-a[0],l=r[1]-a[1];return Math.abs(n*l-o*i)<e},linesIntersect:function(t,r,a,n){var i=r[0]-t[0],o=r[1]-t[1],l=n[0]-a[0],s=n[1]-a[1],c=i*s-o*l;if(Math.abs(c)<e)return!1;var u=t[0]-a[0],d=t[1]-a[1],f=(l*d-s*u)/c,p=(i*d-o*u)/c,h={alongA:0,alongB:0,pt:[t[0]+f*i,t[1]+f*o]};return h.alongA=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,h.alongB=p<=-e?-2:p<e?-1:p-1<=-e?0:p-1<e?1:2,h},pointInsideRegion:function(t,r){for(var a=t[0],n=t[1],i=r[r.length-1][0],o=r[r.length-1][1],l=!1,s=0;s<r.length;s++){var c=r[s][0],u=r[s][1];u-n>e!=o-n>e&&(i-c)*(n-u)/(o-u)+c-a>e&&(l=!l),i=c,o=u}return l}};return t}},function(e,t,r){var a=r(396);e.exports=function(e,t,r){function n(e,t,a){return{id:r?r.segmentId():-1,start:e,end:t,myFill:{above:a.myFill.above,below:a.myFill.below},otherFill:null}}var i=a.create();function o(e,r){i.insertBefore(e,function(a){return function(e,r,a,n,i,o){var l=t.pointsCompare(r,i);return 0!==l?l:t.pointsSame(a,o)?0:e!==n?e?1:-1:t.pointAboveOrOnLine(a,n?i:o,n?o:i)?1:-1}(e.isStart,e.pt,r,a.isStart,a.pt,a.other.pt)<0})}function l(e,t){var r=function(e,t){var r=a.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return o(r,e.end),r}(e,t);return function(e,t,r){var n=a.node({isStart:!1,pt:t.end,seg:t,primary:r,other:e,status:null});e.other=n,o(n,e.pt)}(r,e,t),r}function s(e,t){var a=n(t,e.seg.end,e.seg);return function(e,t){r&&r.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,o(e.other,e.pt)}(e,t),l(a,e.primary)}function c(n,o){var l=a.create();function c(e){return l.findTransition(function(r){var a,n,i,o,l,s;return a=e,n=r.ev,i=a.seg.start,o=a.seg.end,l=n.seg.start,s=n.seg.end,(t.pointsCollinear(i,l,s)?t.pointsCollinear(o,l,s)?1:t.pointAboveOrOnLine(o,l,s)?1:-1:t.pointAboveOrOnLine(i,l,s)?1:-1)>0})}function u(e,a){var n=e.seg,i=a.seg,o=n.start,l=n.end,c=i.start,u=i.end;r&&r.checkIntersection(n,i);var d=t.linesIntersect(o,l,c,u);if(!1===d){if(!t.pointsCollinear(o,l,c))return!1;if(t.pointsSame(o,u)||t.pointsSame(l,c))return!1;var f=t.pointsSame(o,c),p=t.pointsSame(l,u);if(f&&p)return a;var h=!f&&t.pointBetween(o,c,u),g=!p&&t.pointBetween(l,c,u);if(f)return g?s(a,l):s(e,u),a;h&&(p||(g?s(a,l):s(e,u)),s(a,o))}else 0===d.alongA&&(-1===d.alongB?s(e,c):0===d.alongB?s(e,d.pt):1===d.alongB&&s(e,u)),0===d.alongB&&(-1===d.alongA?s(a,o):0===d.alongA?s(a,d.pt):1===d.alongA&&s(a,l));return!1}for(var d=[];!i.isEmpty();){var f=i.getHead();if(r&&r.vert(f.pt[0]),f.isStart){r&&r.segmentNew(f.seg,f.primary);var p=c(f),h=p.before?p.before.ev:null,g=p.after?p.after.ev:null;function v(){if(h){var e=u(f,h);if(e)return e}return!!g&&u(f,g)}r&&r.tempStatus(f.seg,!!h&&h.seg,!!g&&g.seg);var m,y,x=v();if(x)e?(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(x.seg.myFill.above=!x.seg.myFill.above):x.seg.otherFill=f.seg.myFill,r&&r.segmentUpdate(x.seg),f.other.remove(),f.remove();if(i.getHead()!==f){r&&r.rewind(f.seg);continue}e?(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=g?g.seg.myFill.above:n,f.seg.myFill.above=y?!f.seg.myFill.below:f.seg.myFill.below):null===f.seg.otherFill&&(m=g?f.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:f.primary?o:n,f.seg.otherFill={above:m,below:m}),r&&r.status(f.seg,!!h&&h.seg,!!g&&g.seg),f.other.status=p.insert(a.node({ev:f}))}else{var b=f.status;if(null===b)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(b.prev)&&l.exists(b.next)&&u(b.prev.ev,b.next.ev),r&&r.statusRemove(b.ev.seg),b.remove(),!f.primary){var _=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=_}d.push(f.seg)}i.getHead().remove()}return r&&r.done(),d}return e?{addRegion:function(e){for(var a,n,i,o=e[e.length-1],s=0;s<e.length;s++){a=o,o=e[s];var c=t.pointsCompare(a,o);0!==c&&l((n=c<0?a:o,i=c<0?o:a,{id:r?r.segmentId():-1,start:n,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,r,a){return e.forEach(function(e){l(n(e.start,e.end,e),!0)}),r.forEach(function(e){l(n(e.start,e.end,e),!1)}),c(t,a)}}}},function(e,t){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,r){for(var a=e.root,n=e.root.next;null!==n;){if(r(n))return t.prev=n.prev,t.next=n,n.prev.next=t,void(n.prev=t);a=n,n=n.next}a.next=t,t.prev=a,t.next=null},findTransition:function(t){for(var r=e.root,a=e.root.next;null!==a&&!t(a);)r=a,a=a.next;return{before:r===e.root?null:r,after:a,insert:function(e){return e.prev=r,e.next=a,r.next=e,null!==a&&(a.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},function(e,t){e.exports=function(e,t,r){var a=[],n=[];return e.forEach(function(e){var i=e.start,o=e.end;if(t.pointsSame(i,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},c=l,u=0;u<a.length;u++){var d=(v=a[u])[0],f=(v[1],v[v.length-1]);if(v[v.length-2],t.pointsSame(d,i)){if(A(u,!0,!0))break}else if(t.pointsSame(d,o)){if(A(u,!0,!1))break}else if(t.pointsSame(f,i)){if(A(u,!1,!0))break}else if(t.pointsSame(f,o)&&A(u,!1,!1))break}if(c===l)return a.push([i,o]),void(r&&r.chainNew(i,o));if(c===s){r&&r.chainMatch(l.index);var p=l.index,h=l.matches_pt1?o:i,g=l.matches_head,v=a[p],m=g?v[0]:v[v.length-1],y=g?v[1]:v[v.length-2],x=g?v[v.length-1]:v[0],b=g?v[v.length-2]:v[1];return t.pointsCollinear(y,m,h)&&(g?(r&&r.chainRemoveHead(l.index,h),v.shift()):(r&&r.chainRemoveTail(l.index,h),v.pop()),m=y),t.pointsSame(x,h)?(a.splice(p,1),t.pointsCollinear(b,x,m)&&(g?(r&&r.chainRemoveTail(l.index,m),v.pop()):(r&&r.chainRemoveHead(l.index,m),v.shift())),r&&r.chainClose(l.index),void n.push(v)):void(g?(r&&r.chainAddHead(l.index,h),v.unshift(h)):(r&&r.chainAddTail(l.index,h),v.push(h)))}var _=l.index,w=s.index;r&&r.chainConnect(_,w);var k=a[_].length<a[w].length;l.matches_head?s.matches_head?k?(T(_),M(_,w)):(T(w),M(w,_)):M(w,_):s.matches_head?M(_,w):k?(T(_),M(w,_)):(T(w),M(_,w))}function A(e,t,r){return c.index=e,c.matches_head=t,c.matches_pt1=r,c===l?(c=s,!1):(c=null,!0)}function T(e){r&&r.chainReverse(e),a[e].reverse()}function M(e,n){var i=a[e],o=a[n],l=i[i.length-1],s=i[i.length-2],c=o[0],u=o[1];t.pointsCollinear(s,l,c)&&(r&&r.chainRemoveTail(e,l),i.pop(),l=s),t.pointsCollinear(l,c,u)&&(r&&r.chainRemoveHead(n,c),o.shift()),r&&r.chainJoin(e,n),a[e]=i.concat(o),a.splice(n,1)}}),n}},function(e,t){function r(e,t,r){var a=[];return e.forEach(function(e){var n=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[n]&&a.push({id:r?r.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[n],below:2===t[n]},otherFill:null})}),r&&r.selected(a),a}var a={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=a},function(e,t){var r={toPolygon:function(e,t){function r(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function r(t){var r=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[r]})}for(var a=r(t[0]),n=1;n<t.length;n++)a=e.selectDifference(e.combine(a,r(t[n])));return a}if("Polygon"===t.type)return e.polygon(r(t.coordinates));if("MultiPolygon"===t.type){for(var a=e.segments({inverted:!1,regions:[]}),n=0;n<t.coordinates.length;n++)a=e.selectUnion(e.combine(a,r(t.coordinates[n])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,r){function a(e,r){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],r)}function n(e){return{region:e,children:[]}}r=e.polygon(e.segments(r));var i=n(null);function o(e,t){for(var r=0;r<e.children.length;r++){if(a(t,(l=e.children[r]).region))return void o(l,t)}var i=n(t);for(r=0;r<e.children.length;r++){var l;a((l=e.children[r]).region,t)&&(i.children.push(l),e.children.splice(r,1),r--)}e.children.push(i)}for(var l=0;l<r.regions.length;l++){var s=r.regions[l];s.length<3||o(i,s)}function c(e,t){for(var r=0,a=e[e.length-1][0],n=e[e.length-1][1],i=[],o=0;o<e.length;o++){var l=e[o][0],s=e[o][1];i.push([l,s]),r+=s*a-l*n,a=l,n=s}return r<0!==t&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var u=[];function d(e){var t=[c(e.region,!1)];u.push(t);for(var r=0;r<e.children.length;r++)t.push(f(e.children[r]))}function f(e){for(var t=0;t<e.children.length;t++)d(e.children[t]);return c(e.region,!0)}for(l=0;l<i.children.length;l++)d(i.children[l]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};e.exports=r},function(e,t,r){"use strict";var a=r(0),n=r(3);e.exports=function(e,t,r,i){var o,l=i("x"),s=i("y");if(n.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],r),l){var c=a.minRowLength(l);s?o=Math.min(c,a.minRowLength(s)):(o=c,i("y0"),i("dy"))}else{if(!s)return 0;o=a.minRowLength(s),i("x0"),i("dx")}return t._length=o,o}},function(e,t,r){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},function(e,t,r){"use strict";var a=r(0),n=r(14),i=r(100).isUnifiedHover,o=r(346),l=r(17),s=r(41),c=r(18),u=r(403),d=r(382),f=r(341),p=r(383),h=r(27),g=h.id2name,v=h.name2id,m=r(26).AX_ID_PATTERN,y=r(3),x=y.traceIs,b=y.getComponentMethod;function _(e,t,r){Array.isArray(e[t])?e[t].push(r):e[t]=[r]}e.exports=function(e,t,r){var y,w,k=t.autotypenumbers,A={},T={},M={},L={},C={},S={},z={},P={},O={},I={};for(y=0;y<r.length;y++){var R=r[y];if(x(R,"cartesian")||x(R,"gl2d")){var D,E;if(R.xaxis)D=g(R.xaxis),_(A,D,R);else if(R.xaxes)for(w=0;w<R.xaxes.length;w++)_(A,g(R.xaxes[w]),R);if(R.yaxis)E=g(R.yaxis),_(A,E,R);else if(R.yaxes)for(w=0;w<R.yaxes.length;w++)_(A,g(R.yaxes[w]),R);if("funnel"===R.type?"h"===R.orientation?(D&&(T[D]=!0),E&&(z[E]=!0)):E&&(M[E]=!0):"image"===R.type?(E&&(P[E]=!0),D&&(P[D]=!0)):(E&&(C[E]=!0,S[E]=!0),x(R,"carpet")&&("carpet"!==R.type||R._cheater)||D&&(L[D]=!0)),"carpet"===R.type&&R._cheater&&D&&(T[D]=!0),x(R,"2dMap")&&(O[D]=!0,O[E]=!0),x(R,"oriented"))I["h"===R.orientation?E:D]=!0}}var F=t._subplots,B=F.xaxis,N=F.yaxis,H=a.simpleMap(B,g),j=a.simpleMap(N,g),V=H.concat(j),G=n.background;B.length&&N.length&&(G=a.coerce(e,t,s,"plot_bgcolor"));var q,Z,X,U,W,Y=n.combine(G,t.paper_bgcolor);function Q(){var e=A[q]||[];W._traceIndices=e.map(function(e){return e._expandedIndex}),W._annIndices=[],W._shapeIndices=[],W._imgIndices=[],W._subplotsWith=[],W._counterAxes=[],W._name=W._attr=q,W._id=Z}function J(e,t){return a.coerce(U,W,c,e,t)}function $(e,t){return a.coerce2(U,W,c,e,t)}function K(e){return"x"===e?N:B}function ee(t,r){for(var a="x"===t?H:j,n=[],i=0;i<a.length;i++){var o=a[i];o===r||(e[o]||{}).overlaying||n.push(v(o))}return n}var te={x:K("x"),y:K("y")},re=te.x.concat(te.y),ae={},ne=[];function ie(){var e=U.matches;m.test(e)&&-1===re.indexOf(e)&&(ae[e]=U.type,ne=Object.keys(ae))}var oe=o(e,t,r),le=i(oe);for(y=0;y<V.length;y++){q=V[y],Z=v(q),X=q.charAt(0),a.isPlainObject(e[q])||(e[q]={}),U=e[q],W=l.newContainer(t,q,X+"axis"),Q();var se="x"===X&&!L[q]&&T[q]||"y"===X&&!C[q]&&M[q],ce="y"===X&&(!S[q]&&z[q]||P[q]),ue={letter:X,font:t.font,outerTicks:O[q],showGrid:!I[q],data:A[q]||[],bgColor:Y,calendar:t.calendar,automargin:!0,visibleDflt:se,reverseDflt:ce,autotypenumbersDflt:k,splomStash:((t._splomAxes||{})[X]||{})[Z]};J("uirevision",t.uirevision),u(U,W,J,ue),d(U,W,J,ue,t);var de=le&&X===oe.charAt(0),fe=$("spikecolor",le?W.color:void 0),pe=$("spikethickness",le?1.5:void 0),he=$("spikedash",le?"dot":void 0),ge=$("spikemode",le?"across":void 0),ve=$("spikesnap",le?"hovered data":void 0);J("showspikes",!!(de||fe||pe||he||ge||ve))||(delete W.spikecolor,delete W.spikethickness,delete W.spikedash,delete W.spikemode,delete W.spikesnap),p(U,W,J,{letter:X,counterAxes:te[X],overlayableAxes:ee(X,q),grid:t.grid}),J("title.standoff"),ie(),W._input=U}for(y=0;y<ne.length;){Z=ne[y++],X=(q=g(Z)).charAt(0),a.isPlainObject(e[q])||(e[q]={}),U=e[q],W=l.newContainer(t,q,X+"axis"),Q();var me={letter:X,font:t.font,outerTicks:O[q],showGrid:!I[q],data:[],bgColor:Y,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:k,splomStash:((t._splomAxes||{})[X]||{})[Z]};J("uirevision",t.uirevision),W.type=ae[Z]||"linear",d(U,W,J,me,t),p(U,W,J,{letter:X,counterAxes:te[X],overlayableAxes:ee(X,q),grid:t.grid}),J("fixedrange"),ie(),W._input=U}var ye=b("rangeslider","handleDefaults"),xe=b("rangeselector","handleDefaults");for(y=0;y<H.length;y++)q=H[y],U=e[q],W=t[q],ye(e,t,q),"date"===W.type&&xe(U,W,t,j,W.calendar),J("fixedrange");for(y=0;y<j.length;y++){q=j[y],U=e[q],W=t[q];var be=t[g(W.anchor)];J("fixedrange",b("rangeslider","isVisible")(be))}f.handleDefaults(e,t,{axIds:re.concat(ne).sort(h.idSort),axHasImage:P})}},function(e,t,r){"use strict";var a=r(3).traceIs,n=r(120);function i(e){return{v:"x",h:"y"}[e.orientation||"v"]}function o(e,t){var r=i(e),n=a(e,"box-violin"),o=a(e._fullInput||{},"candlestick");return n&&!o&&t===r&&void 0===e[r]&&void 0===e[r+"0"]}e.exports=function(e,t,r,l){r("autotypenumbers",l.autotypenumbersDflt),"-"===r("type",(l.splomStash||{}).type)&&(!function(e,t){if("-"!==e.type)return;var r,l=e._id,s=l.charAt(0);-1!==l.indexOf("scene")&&(l=s);var c=function(e,t,r){for(var a=0;a<e.length;a++){var n=e[a];if("splom"===n.type&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(o(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}(t,l,s);if(!c)return;if("histogram"===c.type&&s==={v:"y",h:"x"}[c.orientation||"v"])return void(e.type="linear");var u=s+"calendar",d=c[u],f={noMultiCategory:!a(c,"cartesian")||a(c,"noMultiCategory")};"box"===c.type&&c._hasPreCompStats&&s==={h:"x",v:"y"}[c.orientation||"v"]&&(f.noMultiCategory=!0);if(f.autotypenumbers=e.autotypenumbers,o(c,s)){var p=i(c),h=[];for(r=0;r<t.length;r++){var g=t[r];a(g,"box-violin")&&(g[s+"axis"]||s)===l&&(void 0!==g[p]?h.push(g[p][0]):void 0!==g.name?h.push(g.name):h.push("text"),g[u]!==d&&(d=void 0))}e.type=n(h,d,f)}else if("splom"===c.type){var v=c.dimensions,m=v[c._axesDim[l]];m.visible&&(e.type=n(m.values,d,f))}else e.type=n(c[s]||[c[s+"0"]],d,f)}(t,l.data),"-"===t.type?t.type="linear":e.type=t.type)}},function(e,t,r){"use strict";e.exports=function(e,t,r,a){if("category"===t.type){var n,i=e.categoryarray,o=Array.isArray(i)&&i.length>0;o&&(n="array");var l,s=r("categoryorder",n);"array"===s&&(l=r("categoryarray")),o||"array"!==s||(s=t.categoryorder="trace"),"trace"===s?t._initialCategories=[]:"array"===s?t._initialCategories=l.slice():(l=function(e,t){var r,a,n,i=t.dataAttr||e._id.charAt(0),o={};if(t.axData)r=t.axData;else for(r=[],a=0;a<t.data.length;a++){var l=t.data[a];l[i+"axis"]===e._id&&r.push(l)}for(a=0;a<r.length;a++){var s=r[a][i];for(n=0;n<s.length;n++){var c=s[n];null!==c&&void 0!==c&&(o[c]=1)}}return Object.keys(o)}(t,a).sort(),"category ascending"===s?t._initialCategories=l:"category descending"===s&&(t._initialCategories=l.reverse()))}}},function(e,t,r){"use strict";var a=r(19).mix,n=r(40).lightFraction,i=r(0);e.exports=function(e,t,r,o){var l=(o=o||{}).dfltColor;function s(r,a){return i.coerce2(e,t,o.attributes,r,a)}var c=s("linecolor",l),u=s("linewidth");r("showline",o.showLine||!!c||!!u)||(delete t.linecolor,delete t.linewidth);var d=s("gridcolor",a(l,o.bgColor,o.blend||n).toRgbString()),f=s("gridwidth");if(r("showgrid",o.showGrid||!!d||!!f)||(delete t.gridcolor,delete t.gridwidth),!o.noZeroLine){var p=s("zerolinecolor",l),h=s("zerolinewidth");r("zeroline",o.showGrid||!!p||!!h)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},function(e,t,r){"use strict";var a=r(4),n=r(3),i=r(0),o=r(38),l=r(99);e.exports=function(e,t,r,s){var c=e._fullLayout;if(0!==t.length){var u,d,f,p;s&&(u=s());var h=a.ease(r.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(p),p=null,function(){for(var r={},a=0;a<t.length;a++){var i=t[a],o=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr0&&(r[o._name+".range"]=i.xr0.slice()),i.yr0&&(r[l._name+".range"]=i.yr0.slice())}return n.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)g(t[e].plotinfo)})}()}),d=Date.now(),p=window.requestAnimationFrame(function a(){f=Date.now();for(var i=Math.min(1,(f-d)/r.duration),o=h(i),l=0;l<t.length;l++)v(t[l],o);f-d>r.duration?(function(){for(var r={},a=0;a<t.length;a++){var i=t[a],o=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr1&&(r[o._name+".range"]=i.xr1.slice()),i.yr1&&(r[l._name+".range"]=i.yr1.slice())}u&&u(),n.call("relayout",e,r).then(function(){for(var e=0;e<t.length;e++)g(t[e].plotinfo)})}(),p=window.cancelAnimationFrame(a)):p=window.requestAnimationFrame(a)}),Promise.resolve()}function g(e){var t=e.xaxis,r=e.yaxis;c._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,r._offset).call(o.setScale,1,1);var a=e.plot.selectAll(".scatterlayer .trace");a.selectAll(".point").call(o.setPointGroupScale,1,1),a.selectAll(".textpoint").call(o.setTextPointsScale,1,1),a.call(o.hideOutsideRangePoints,e)}function v(t,r){var a=t.plotinfo,n=a.xaxis,s=a.yaxis,c=n._length,u=s._length,d=!!t.xr1,f=!!t.yr1,p=[];if(d){var h=i.simpleMap(t.xr0,n.r2l),g=i.simpleMap(t.xr1,n.r2l),v=h[1]-h[0],m=g[1]-g[0];p[0]=(h[0]*(1-r)+r*g[0]-h[0])/(h[1]-h[0])*c,p[2]=c*(1-r+r*m/v),n.range[0]=n.l2r(h[0]*(1-r)+r*g[0]),n.range[1]=n.l2r(h[1]*(1-r)+r*g[1])}else p[0]=0,p[2]=c;if(f){var y=i.simpleMap(t.yr0,s.r2l),x=i.simpleMap(t.yr1,s.r2l),b=y[1]-y[0],_=x[1]-x[0];p[1]=(y[1]*(1-r)+r*x[1]-y[1])/(y[0]-y[1])*u,p[3]=u*(1-r+r*_/b),s.range[0]=n.l2r(y[0]*(1-r)+r*x[0]),s.range[1]=s.l2r(y[1]*(1-r)+r*x[1])}else p[1]=0,p[3]=u;l.drawOne(e,n,{skipTitle:!0}),l.drawOne(e,s,{skipTitle:!0}),l.redrawComponents(e,[n._id,s._id]);var w=d?c/p[2]:1,k=f?u/p[3]:1,A=d?p[0]:0,T=f?p[1]:0,M=d?p[0]/p[2]*c:0,L=f?p[1]/p[3]*u:0,C=n._offset-M,S=s._offset-L;a.clipRect.call(o.setTranslate,A,T).call(o.setScale,1/w,1/k),a.plot.call(o.setTranslate,C,S).call(o.setScale,w,k),o.setPointGroupScale(a.zoomScalePts,1/w,1/k),o.setTextPointsScale(a.zoomScaleTxt,1/w,1/k)}l.redrawComponents(e)}},function(e,t,r){"use strict";var a=r(3);t.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},t.getRedrawFunc=function(e){return function(){var t=e._fullLayout||{};!(t._has&&t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r||a.getComponentMethod("colorbar","draw")(e)}},t.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},t.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var n=window.URL||window.webkitURL;t.createObjectURL=function(e){return n.createObjectURL(e)},t.revokeObjectURL=function(e){return n.revokeObjectURL(e)},t.createBlob=function(e,t){if("svg"===t)return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if("full-json"===t)return new window.Blob([e],{type:"application/json;charset=utf-8"});var r=function(e){for(var t=e.length,r=new ArrayBuffer(t),a=new Uint8Array(r),n=0;n<t;n++)a[n]=e.charCodeAt(n);return r}(window.atob(e));return new window.Blob([r],{type:"image/"+t})},t.octetStream=function(e){document.location.href="data:application/octet-stream"+e},t.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,t.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},,,,,,,function(e,t,r){"use strict";var a=r(1),n=r(0),i=r(99),o=r(380),l=r(5).BADNUM,s=r(101),c=r(456),u=r(415),d=r(416);function f(e,t,r,a,n,o,l){var c=t._length,u=e._fullLayout,d=r._id,f=a._id,p=u._firstScatter[g(t)]===t.uid,h=(v(t,u,r,a)||{}).orientation,m=t.fill;r._minDtick=0,a._minDtick=0;var y={padded:!0},x={padded:!0};l&&(y.ppad=x.ppad=l);var b=c<2||n[0]!==n[c-1]||o[0]!==o[c-1];b&&("tozerox"===m||"tonextx"===m&&(p||"h"===h))?y.tozero=!0:(t.error_y||{}).visible||"tonexty"!==m&&"tozeroy"!==m&&(s.hasMarkers(t)||s.hasText(t))||(y.padded=!1,y.ppad=0),b&&("tozeroy"===m||"tonexty"===m&&(p||"v"===h))?x.tozero=!0:"tonextx"!==m&&"tozerox"!==m||(x.padded=!1),d&&(t._extremes[d]=i.findExtremes(r,n,y)),f&&(t._extremes[f]=i.findExtremes(a,o,x))}function p(e,t){if(s.hasMarkers(e)){var r,a=e.marker,o=1.6*(e.marker.sizeref||1);if(r="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/o),3)}:function(e){return Math.max((e||0)/o,3)},n.isArrayOrTypedArray(a.size)){var l={type:"linear"};i.setConvert(l);for(var c=l.makeCalcdata(e.marker,"size"),u=new Array(t),d=0;d<t;d++)u[d]=r(c[d]);return u}return r(a.size)}}function h(e,t){var r=g(t),a=e._firstScatter;a[r]||(a[r]=t.uid)}function g(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function v(e,t,r,a){var n=e.stackgroup;if(n){var i=t._scatterStackOpts[r._id+a._id][n],o="v"===i.orientation?a:r;return"linear"===o.type||"log"===o.type?i:void 0}}e.exports={calc:function(e,t){var r,s,g,m,y,x,b=e._fullLayout,_=i.getFromId(e,t.xaxis||"x"),w=i.getFromId(e,t.yaxis||"y"),k=_.makeCalcdata(t,"x"),A=w.makeCalcdata(t,"y"),T=o(t,_,"x",k),M=o(t,w,"y",A),L=t._length,C=new Array(L),S=t.ids,z=v(t,b,_,w),P=!1;h(b,t);var O,I="x",R="y";z?(n.pushUnique(z.traceIndices,t._expandedIndex),(r="v"===z.orientation)?(R="s",O="x"):(I="s",O="y"),y="interpolate"===z.stackgaps):f(e,t,_,w,T,M,p(t,L));var D=!!t.xperiodalignment,E=!!t.yperiodalignment;for(s=0;s<L;s++){var F=C[s]={},B=a(T[s]),N=a(M[s]);B&&N?(F[I]=T[s],F[R]=M[s],D&&(F.orig_x=k[s]),E&&(F.orig_y=A[s])):z&&(r?B:N)?(F[O]=r?T[s]:M[s],F.gap=!0,y?(F.s=l,P=!0):F.s=0):F[I]=F[R]=l,S&&(F.id=String(S[s]))}if(u(C,t),c(e,t),d(C,t),z){for(s=0;s<C.length;)C[s][O]===l?C.splice(s,1):s++;if(n.sort(C,function(e,t){return e[O]-t[O]||e.i-t.i}),P){for(s=0;s<C.length-1&&C[s].gap;)s++;for((x=C[s].s)||(x=C[s].s=0),g=0;g<s;g++)C[g].s=x;for(m=C.length-1;m>s&&C[m].gap;)m--;for(x=C[m].s,g=C.length-1;g>m;g--)C[g].s=x;for(;s<m;)if(C[++s].gap){for(g=s+1;C[g].gap;)g++;for(var H=C[s-1][O],j=C[s-1].s,V=(C[g].s-j)/(C[g][O]-H);s<g;)C[s].s=j+(C[s][O]-H)*V,s++}}}return C},calcMarkerSize:p,calcAxisExpansion:f,setFirstScatter:h,getStackOpts:v}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;a.mergeArray(t.text,e,"tx"),a.mergeArray(t.texttemplate,e,"txt"),a.mergeArray(t.hovertext,e,"htx"),a.mergeArray(t.customdata,e,"data"),a.mergeArray(t.textposition,e,"tp"),t.textfont&&(a.mergeArrayCastPositive(t.textfont.size,e,"ts"),a.mergeArray(t.textfont.color,e,"tc"),a.mergeArray(t.textfont.family,e,"tf"));var n=t.marker;if(n){a.mergeArrayCastPositive(n.size,e,"ms"),a.mergeArrayCastPositive(n.opacity,e,"mo"),a.mergeArray(n.symbol,e,"mx"),a.mergeArray(n.color,e,"mc");var i=n.line;n.line&&(a.mergeArray(i.color,e,"mlc"),a.mergeArrayCastPositive(i.width,e,"mlw"));var o=n.gradient;o&&"none"!==o.type&&(a.mergeArray(o.type,e,"mgt"),a.mergeArray(o.color,e,"mgc"))}}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t){a.isArrayOrTypedArray(t.selectedpoints)&&a.tagSelected(e,t)}},function(e,t,r){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},function(e,t,r){"use strict";var a=r(4),n=r(38),i=r(3);function o(e,t,r){n.pointStyle(e.selectAll("path.point"),t,r)}function l(e,t,r){n.textPointStyle(e.selectAll("text"),t,r)}e.exports={style:function(e){var t=a.select(e).selectAll("g.trace.scatter");t.style("opacity",function(e){return e[0].trace.opacity}),t.selectAll("g.points").each(function(t){o(a.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.text").each(function(t){l(a.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.trace path.js-line").call(n.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(n.fillGroupStyle),i.getComponentMethod("errorbars","style")(t)},stylePoints:o,styleText:l,styleOnSelect:function(e,t,r){var a=t[0].trace;a.selectedpoints?(n.selectedPointStyle(r.selectAll("path.point"),a),n.selectedTextStyle(r.selectAll("text"),a)):(o(r,a,e),l(r,a,e))}}},,,,,,,function(e,t,r){"use strict";var a=r(496),n=r(11),i=r(26),o=r(17).templatedArray;r(466);e.exports=o("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:n({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:a.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:a.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:n({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},function(e,t,r){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},function(e,t,r){"use strict";var a=r(7).extendFlat;t.attributes=function(e,t){e=e||{},t=t||{};var r={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=(e.name&&e.name,e.trace,t.description&&t.description,{x:a({},r,{}),y:a({},r,{}),editType:e.editType});return e.noGridCell||(n.row={valType:"integer",min:0,dflt:0,editType:e.editType},n.column={valType:"integer",min:0,dflt:0,editType:e.editType}),n},t.defaults=function(e,t,r,a){var n=a&&a.x||[0,1],i=a&&a.y||[0,1],o=t.grid;if(o){var l=r("domain.column");void 0!==l&&(l<o.columns?n=o._domains.x[l]:delete e.domain.column);var s=r("domain.row");void 0!==s&&(s<o.rows?i=o._domains.y[s]:delete e.domain.row)}var c=r("domain.x",n),u=r("domain.y",i);c[0]<c[1]||(e.domain.x=n.slice()),u[0]<u[1]||(e.domain.y=i.slice())}},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var a=r(4),n=r(0),i=r(38),o=r(14),l=r(59),s=/"/g,c=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");e.exports=function(e,t,r){var u,d=e._fullLayout,f=d._paper,p=d._toppaper,h=d.width,g=d.height;f.insert("rect",":first-child").call(i.setRect,0,0,h,g).call(o.fill,d.paper_bgcolor);var v=d._basePlotModules||[];for(u=0;u<v.length;u++){var m=v[u];m.toSVG&&m.toSVG(e)}if(p){var y=p.node().childNodes,x=Array.prototype.slice.call(y);for(u=0;u<x.length;u++){var b=x[u];b.childNodes.length&&f.node().appendChild(b)}}if(d._draggers&&d._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var e=a.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(s,"TOBESTRIPPED"))}else e.remove()}),d._gradientUrlQueryParts){var _=[];for(var w in d._gradientUrlQueryParts)_.push(w);_.length&&f.selectAll(_.join(",")).each(function(){var e=a.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(s,"TOBESTRIPPED"));var r=this.style.stroke;r&&-1!==r.indexOf("url(")&&e.style("stroke",r.replace(s,"TOBESTRIPPED"))})}"pdf"!==t&&"eps"!==t||f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(l.xmlns,"xmlns",l.svg),f.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),"svg"===t&&r&&(f.attr("width",r*h),f.attr("height",r*g),f.attr("viewBox","0 0 "+h+" "+g));var k=(new window.XMLSerializer).serializeToString(f.node());return k=function(e){var t=a.select("body").append("div").style({display:"none"}).html(""),r=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()});return t.remove(),r}(k),k=(k=k.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(c,"'"),n.isIE()&&(k=(k=(k=k.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),k}},function(e,t,r){"use strict";var a=r(0),n=r(352).EventEmitter,i=r(407);e.exports=function(e){var t=e.emitter||new n,r=new Promise(function(n,o){var l=window.Image,s=e.svg,c=e.format||"png";if(a.isIE()&&"svg"!==c){var u=new Error(i.MSG_IE_BAD_FORMAT);return o(u),e.promise?r:t.emit("error",u)}var d,f,p=e.canvas,h=e.scale||1,g=h*(e.width||300),v=h*(e.height||150),m=p.getContext("2d"),y=new l;"svg"===c||a.isIE9orBelow()||a.isSafari()?f=i.encodeSVG(s):(d=i.createBlob(s,"svg"),f=i.createObjectURL(d)),p.width=g,p.height=v,y.onload=function(){var r;switch(d=null,i.revokeObjectURL(f),"svg"!==c&&m.drawImage(y,0,0,g,v),c){case"jpeg":r=p.toDataURL("image/jpeg");break;case"png":r=p.toDataURL("image/png");break;case"webp":r=p.toDataURL("image/webp");break;case"svg":r=f;break;default:var a="Image format is not jpeg, png, svg or webp.";if(o(new Error(a)),!e.promise)return t.emit("error",a)}n(r),e.promise||t.emit("success",r)},y.onerror=function(r){if(d=null,i.revokeObjectURL(f),o(r),!e.promise)return t.emit("error",r)},y.src=f});return e.promise?r:t}},function(e,t,r){"use strict";var a=r(101);e.exports={hasLines:a.hasLines,hasMarkers:a.hasMarkers,hasText:a.hasText,isBubble:a.isBubble,attributes:r(110),supplyDefaults:r(448),crossTraceDefaults:r(455),calc:r(414).calc,crossTraceCalc:r(457),arraysToCalcdata:r(415),plot:r(458),colorbar:r(417),formatLabels:r(461),style:r(418).style,styleOnSelect:r(418).styleOnSelect,hoverPoints:r(462),selectPoints:r(464),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(381),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},function(e,t,r){"use strict";var a=r(0),n=r(3),i=r(110),o=r(118),l=r(101),s=r(400),c=r(377),u=r(449),d=r(450),f=r(451),p=r(452),h=r(453),g=r(454);e.exports=function(e,t,r,v){function m(r,n){return a.coerce(e,t,i,r,n)}var y=s(e,t,v,m);if(y||(t.visible=!1),t.visible){c(e,t,v,m);var x=u(e,t,v,m),b=!x&&y<o.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("mode",b),l.hasLines(t)&&(f(e,t,r,v,m),p(e,t,m),m("connectgaps"),m("line.simplify")),l.hasMarkers(t)&&d(e,t,r,v,m,{gradient:!0}),l.hasText(t)&&(m("texttemplate"),h(e,t,v,m));var _=[];(l.hasMarkers(t)||l.hasText(t))&&(m("cliponaxis"),m("marker.maxdisplayed"),_.push("points")),m("fill",x?x.fillDflt:"none"),"none"!==t.fill&&(g(e,t,r,m),l.hasLines(t)||p(e,t,m));var w=(t.line||{}).color,k=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||_.push("fills"),m("hoveron",_.join("+")||"points"),"fills"!==t.hoveron&&m("hovertemplate");var A=n.getComponentMethod("errorbars","supplyDefaults");A(e,t,w||k||r,{axis:"y"}),A(e,t,w||k||r,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(t,m)}}},function(e,t,r){"use strict";var a=["orientation","groupnorm","stackgaps"];e.exports=function(e,t,r,n){var i=r._scatterStackOpts,o=n("stackgroup");if(o){var l=t.xaxis+t.yaxis,s=i[l];s||(s=i[l]={});var c=s[o],u=!1;c?c.traces.push(t):(c=s[o]={traceIndices:[],traces:[t]},u=!0);for(var d={orientation:t.x&&!t.y?"h":"v"},f=0;f<a.length;f++){var p=a[f],h=p+"Found";if(!c[h]){var g=void 0!==e[p],v="orientation"===p;if((g||u)&&(c[p]=n(p,d[p]),v&&(c.fillDflt="h"===c[p]?"tonextx":"tonexty"),g&&(c[h]=!0,!u&&(delete c.traces[0][p],v))))for(var m=0;m<c.traces.length-1;m++){var y=c.traces[m];y._input.fill!==y.fill&&(y.fill=c.fillDflt)}}}return c}}},function(e,t,r){"use strict";var a=r(14),n=r(29).hasColorscale,i=r(61),o=r(101);e.exports=function(e,t,r,l,s,c){var u=o.isBubble(e),d=(e.line||{}).color;(c=c||{},d&&(r=d),s("marker.symbol"),s("marker.opacity",u?.7:1),s("marker.size"),s("marker.color",r),n(e,"marker")&&i(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",d&&!Array.isArray(d)&&t.marker.color!==d?d:u?a.background:a.defaultLine),n(e,"marker.line")&&i(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",u?1:0)),u&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient)&&("none"!==s("marker.gradient.type")&&s("marker.gradient.color"))}},function(e,t,r){"use strict";var a=r(0).isArrayOrTypedArray,n=r(29).hasColorscale,i=r(61);e.exports=function(e,t,r,o,l,s){var c=(e.marker||{}).color;(l("line.color",r),n(e,"line"))?i(e,t,o,l,{prefix:"line.",cLetter:"c"}):l("line.color",!a(c)&&c||r);l("line.width"),(s||{}).noDash||l("line.dash")}},function(e,t,r){"use strict";e.exports=function(e,t,r){"spline"===r("line.shape")&&r("line.smoothing")}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t,r,n,i){i=i||{},n("textposition"),a.coerceFont(n,"textfont",r.font),i.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}},function(e,t,r){"use strict";var a=r(14),n=r(0).isArrayOrTypedArray;e.exports=function(e,t,r,i){var o=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!n(l)?o=l:s&&!n(s)&&(o=s)}i("fillcolor",a.addOpacity((t.line||{}).color||o||r,.5))}},function(e,t,r){"use strict";e.exports=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("scatter"===r.type){var a=r.fill;if("none"!==a&&"toself"!==a&&(r.opacity=void 0,"tonexty"===a||"tonextx"===a))for(var n=t-1;n>=0;n--){var i=e[n];if("scatter"===i.type&&i.xaxis===r.xaxis&&i.yaxis===r.yaxis){i.opacity=void 0;break}}}}}},function(e,t,r){"use strict";var a=r(29).hasColorscale,n=r(117),i=r(101);e.exports=function(e,t){i.hasLines(t)&&a(t,"line")&&n(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(t)&&(a(t,"marker")&&n(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&n(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},function(e,t,r){"use strict";var a=r(414);function n(e,t,r,a,n,i,o){n[a]=!0;var l={i:null,gap:!0,s:0};if(l[o]=r,e.splice(t,0,l),t&&r===e[t-1][o]){var s=e[t-1];l.s=s.s,l.i=s.i,l.gap=s.gap}else i&&(l.s=function(e,t,r,a){var n=e[t-1],i=e[t+1];return i?n?n.s+(i.s-n.s)*(r-n[a])/(i[a]-n[a]):i.s:n.s}(e,t,r,o));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}e.exports=function(e,t){var r=t.xaxis,i=t.yaxis,o=r._id+i._id,l=e._fullLayout._scatterStackOpts[o];if(l){var s,c,u,d,f,p,h,g,v,m,y,x,b,_,w,k=e.calcdata;for(var A in l){var T=(m=l[A]).traceIndices;if(T.length){for(y="interpolate"===m.stackgaps,x=m.groupnorm,"v"===m.orientation?(b="x",_="y"):(b="y",_="x"),w=new Array(T.length),s=0;s<w.length;s++)w[s]=!1;p=k[T[0]];var M=new Array(p.length);for(s=0;s<p.length;s++)M[s]=p[s][b];for(s=1;s<T.length;s++){for(f=k[T[s]],c=u=0;c<f.length;c++){for(h=f[c][b];h>M[u]&&u<M.length;u++)n(f,c,M[u],s,w,y,b),c++;if(h!==M[u]){for(d=0;d<s;d++)n(k[T[d]],u,h,d,w,y,b);M.splice(u,0,h)}u++}for(;u<M.length;u++)n(f,c,M[u],s,w,y,b),c++}var L=M.length;for(c=0;c<p.length;c++){for(g=p[c][_]=p[c].s,s=1;s<T.length;s++)(f=k[T[s]])[0].trace._rawLength=f[0].trace._length,f[0].trace._length=L,g+=f[c].s,f[c][_]=g;if(x)for(v=("fraction"===x?g:g/100)||1,s=0;s<T.length;s++){var C=k[T[s]][c];C[_]/=v,C.sNorm=C.s/v}}for(s=0;s<T.length;s++){var S=(f=k[T[s]])[0].trace,z=a.calcMarkerSize(S,S._rawLength),P=Array.isArray(z);if(z&&w[s]||P){var O=z;for(z=new Array(L),c=0;c<L;c++)z[c]=f[c].gap?0:P?O[f[c].i]:O}var I=new Array(L),R=new Array(L);for(c=0;c<L;c++)I[c]=f[c].x,R[c]=f[c].y;a.calcAxisExpansion(e,S,r,i,I,R,z),f[0].t.orientation=m.orientation}}}}}},function(e,t,r){"use strict";var a=r(4),n=r(3),i=r(0),o=i.ensureSingle,l=i.identity,s=r(38),c=r(101),u=r(459),d=r(460),f=r(376).tester;function p(e,t,r,d,p,h,g){var v;!function(e,t,r,n,o){var l=r.xaxis,s=r.yaxis,u=a.extent(i.simpleMap(l.range,l.r2c)),d=a.extent(i.simpleMap(s.range,s.r2c)),f=n[0].trace;if(!c.hasMarkers(f))return;var p=f.marker.maxdisplayed;if(0===p)return;var h=n.filter(function(e){return e.x>=u[0]&&e.x<=u[1]&&e.y>=d[0]&&e.y<=d[1]}),g=Math.ceil(h.length/p),v=0;o.forEach(function(e,r){var a=e[0].trace;c.hasMarkers(a)&&a.marker.maxdisplayed>0&&r<t&&v++});var m=Math.round(v*g/3+Math.floor(v/3)*g/7.1);n.forEach(function(e){delete e.vis}),h.forEach(function(e,t){0===Math.round((t+m)%g)&&(e.vis=!0)})}(0,t,r,d,p);var m=!!g&&g.duration>0;function y(e){return m?e.transition():e}var x=r.xaxis,b=r.yaxis,_=d[0].trace,w=_.line,k=a.select(h),A=o(k,"g","errorbars"),T=o(k,"g","lines"),M=o(k,"g","points"),L=o(k,"g","text");if(n.getComponentMethod("errorbars","plot")(e,A,r,g),!0===_.visible){var C,S;y(k).style("opacity",_.opacity);var z=_.fill.charAt(_.fill.length-1);"x"!==z&&"y"!==z&&(z=""),d[0][r.isRangePlot?"nodeRangePlot3":"node3"]=k;var P,O,I="",R=[],D=_._prevtrace;D&&(I=D._prevRevpath||"",S=D._nextFill,R=D._polygons);var E,F,B,N,H,j,V,G="",q="",Z=[],X=i.noop;if(C=_._ownFill,c.hasLines(_)||"none"!==_.fill){for(S&&S.datum(d),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(E=s.steps(w.shape),F=s.steps(w.shape.split("").reverse().join(""))):E=F="spline"===w.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),w.smoothing):s.smoothopen(e,w.smoothing)}:function(e){return"M"+e.join("L")},B=function(e){return F(e.reverse())},Z=u(d,{xaxis:x,yaxis:b,connectGaps:_.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify,fill:_.fill}),V=_._polygons=new Array(Z.length),v=0;v<Z.length;v++)_._polygons[v]=f(Z[v]);Z.length&&(N=Z[0][0],j=(H=Z[Z.length-1])[H.length-1]),X=function(e){return function(t){if(P=E(t),O=B(t),G?z?(G+="L"+P.substr(1),q=O+"L"+q.substr(1)):(G+="Z"+P,q=O+"Z"+q):(G=P,q=O),c.hasLines(_)&&t.length>1){var r=a.select(this);if(r.datum(d),e)y(r.style("opacity",0).attr("d",P).call(s.lineGroupStyle)).style("opacity",1);else{var n=y(r);n.attr("d",P),s.singleLineStyle(d,n)}}}}}var U=T.selectAll(".js-line").data(Z);y(U.exit()).style("opacity",0).remove(),U.each(X(!1)),U.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(X(!0)),s.setClipUrl(U,r.layerClipId,e),Z.length?(C?(C.datum(d),N&&j&&(z?("y"===z?N[1]=j[1]=b.c2p(0,!0):"x"===z&&(N[0]=j[0]=x.c2p(0,!0)),y(C).attr("d","M"+j+"L"+N+"L"+G.substr(1)).call(s.singleFillStyle)):y(C).attr("d",G+"Z").call(s.singleFillStyle))):S&&("tonext"===_.fill.substr(0,6)&&G&&I?("tonext"===_.fill?y(S).attr("d",G+"Z"+I+"Z").call(s.singleFillStyle):y(S).attr("d",G+"L"+I.substr(1)+"Z").call(s.singleFillStyle),_._polygons=_._polygons.concat(R)):(Y(S),_._polygons=null)),_._prevRevpath=q,_._prevPolygons=V):(C?Y(C):S&&Y(S),_._polygons=_._prevRevpath=_._prevPolygons=null),M.datum(d),L.datum(d),function(t,n,i){var o,u=i[0].trace,d=c.hasMarkers(u),f=c.hasText(u),p=ee(u),h=te,g=te;if(d||f){var v=l,_=u.stackgroup,w=_&&"infer zero"===e._fullLayout._scatterStackOpts[x._id+b._id][_].stackgaps;u.marker.maxdisplayed||u._needsCull?v=w?J:Q:_&&!w&&(v=$),d&&(h=v),f&&(g=v)}var k,A=(o=t.selectAll("path.point").data(h,p)).enter().append("path").classed("point",!0);m&&A.call(s.pointStyle,u,e).call(s.translatePoints,x,b).style("opacity",0).transition().style("opacity",1),o.order(),d&&(k=s.makePointStyleFns(u)),o.each(function(t){var n=a.select(this),i=y(n);s.translatePoint(t,i,x,b)?(s.singlePointStyle(t,i,u,k,e),r.layerClipId&&s.hideOutsideRangePoint(t,i,x,b,u.xcalendar,u.ycalendar),u.customdata&&n.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):i.remove()}),m?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=n.selectAll("g").data(g,p)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each(function(e){var t=a.select(this),n=y(t.select("text"));s.translatePoint(e,n,x,b)?r.layerClipId&&s.hideOutsideRangePoint(e,t,x,b,u.xcalendar,u.ycalendar):t.remove()}),o.selectAll("text").call(s.textPointStyle,u,e).each(function(e){var t=x.c2p(e.x),r=b.c2p(e.y);a.select(this).selectAll("tspan.line").each(function(){y(a.select(this)).attr({x:t,y:r})})}),o.exit().remove()}(M,L,d);var W=!1===_.cliponaxis?null:r.layerClipId;s.setClipUrl(M,W,e),s.setClipUrl(L,W,e)}function Y(e){y(e).attr("d","M0,0Z")}function Q(e){return e.filter(function(e){return!e.gap&&e.vis})}function J(e){return e.filter(function(e){return e.vis})}function $(e){return e.filter(function(e){return!e.gap})}function K(e){return e.id}function ee(e){if(e.ids)return K}function te(){return!1}}e.exports=function(e,t,r,n,i,c){var u,f,h=!i,g=!!i&&i.duration>0,v=d(e,t,r);((u=n.selectAll("g.trace").data(v,function(e){return e[0].trace.uid})).enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),u.order(),function(e,t,r){t.each(function(t){var n=o(a.select(this),"g","fills");s.setClipUrl(n,r.layerClipId,e);var i=t[0].trace,c=[];i._ownfill&&c.push("_ownFill"),i._nexttrace&&c.push("_nextFill");var u=n.selectAll("g").data(c,l);u.enter().append("g"),u.exit().each(function(e){i[e]=null}).remove(),u.order().each(function(e){i[e]=o(a.select(this),"path","js-fill")})})}(e,u,t),g)?(c&&(f=c()),a.transition().duration(i.duration).ease(i.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()}).each(function(){n.selectAll("g.trace").each(function(r,a){p(e,a,t,r,v,this,i)})})):u.each(function(r,a){p(e,a,t,r,v,this,i)});h&&u.exit().remove(),n.selectAll("path:not([d])").remove()}},function(e,t,r){"use strict";var a=r(5),n=a.BADNUM,i=a.LOG_CLIP,o=i+.5,l=i-.5,s=r(0),c=s.segmentsIntersect,u=s.constrain,d=r(118);e.exports=function(e,t){var r,a,i,f,p,h,g,v,m,y,x,b,_,w,k,A,T,M,L=t.xaxis,C=t.yaxis,S="log"===L.type,z="log"===C.type,P=L._length,O=C._length,I=t.connectGaps,R=t.baseTolerance,D=t.shape,E="linear"===D,F=t.fill&&"none"!==t.fill,B=[],N=d.minTolerance,H=e.length,j=new Array(H),V=0;function G(r){var a=e[r];if(!a)return!1;var i=t.linearized?L.l2p(a.x):L.c2p(a.x),s=t.linearized?C.l2p(a.y):C.c2p(a.y);if(i===n){if(S&&(i=L.c2p(a.x,!0)),i===n)return!1;z&&s===n&&(i*=Math.abs(L._m*O*(L._m>0?o:l)/(C._m*P*(C._m>0?o:l)))),i*=1e3}if(s===n){if(z&&(s=C.c2p(a.y,!0)),s===n)return!1;s*=1e3}return[i,s]}function q(e,t,r,a){var n=r-e,i=a-t,o=.5-e,l=.5-t,s=n*n+i*i,c=n*o+i*l;if(c>0&&c<s){var u=o*i-l*n;if(u*u<s)return!0}}function Z(e,t){var r=e[0]/P,a=e[1]/O,n=Math.max(0,-r,r-1,-a,a-1);return n&&void 0!==T&&q(r,a,T,M)&&(n=0),n&&t&&q(r,a,t[0]/P,t[1]/O)&&(n=0),(1+d.toleranceGrowth*n)*R}function X(e,t){var r=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(r*r+a*a)}var U,W,Y,Q,J,$,K,ee=d.maxScreensAway,te=-P*ee,re=P*(1+ee),ae=-O*ee,ne=O*(1+ee),ie=[[te,ae,re,ae],[re,ae,re,ne],[re,ne,te,ne],[te,ne,te,ae]];function oe(e){if(e[0]<te||e[0]>re||e[1]<ae||e[1]>ne)return[u(e[0],te,re),u(e[1],ae,ne)]}function le(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===re)||(e[1]===t[1]&&(e[1]===ae||e[1]===ne)||void 0)}function se(e,t,r){return function(a,n){var i=oe(a),o=oe(n),l=[];if(i&&o&&le(i,o))return l;i&&l.push(i),o&&l.push(o);var c=2*s.constrain((a[e]+n[e])/2,t,r)-((i||a)[e]+(o||n)[e]);c&&((i&&o?c>0==i[e]>o[e]?i:o:i||o)[e]+=c);return l}}function ce(e){var t=e[0],r=e[1],a=t===j[V-1][0],n=r===j[V-1][1];if(!a||!n)if(V>1){var i=t===j[V-2][0],o=r===j[V-2][1];a&&(t===te||t===re)&&i?o?V--:j[V-1]=e:n&&(r===ae||r===ne)&&o?i?V--:j[V-1]=e:j[V++]=e}else j[V++]=e}function ue(e){j[V-1][0]!==e[0]&&j[V-1][1]!==e[1]&&ce([Y,Q]),ce(e),J=null,Y=Q=0}function de(e){if(T=e[0]/P,M=e[1]/O,U=e[0]<te?te:e[0]>re?re:0,W=e[1]<ae?ae:e[1]>ne?ne:0,U||W){if(V)if(J){var t=K(J,e);t.length>1&&(ue(t[0]),j[V++]=t[1])}else $=K(j[V-1],e)[0],j[V++]=$;else j[V++]=[U||e[0],W||e[1]];var r=j[V-1];U&&W&&(r[0]!==U||r[1]!==W)?(J&&(Y!==U&&Q!==W?ce(Y&&Q?(a=J,i=(n=e)[0]-a[0],o=(n[1]-a[1])/i,(a[1]*n[0]-n[1]*a[0])/i>0?[o>0?te:re,ne]:[o>0?re:te,ae]):[Y||U,Q||W]):Y&&Q&&ce([Y,Q])),ce([U,W])):Y-U&&Q-W&&ce([U||Y,W||Q]),J=e,Y=U,Q=W}else J&&ue(K(J,e)[0]),j[V++]=e;var a,n,i,o}for("linear"===D||"spline"===D?K=function(e,t){for(var r=[],a=0,n=0;n<4;n++){var i=ie[n],o=c(e[0],e[1],t[0],t[1],i[0],i[1],i[2],i[3]);o&&(!a||Math.abs(o.x-r[0][0])>1||Math.abs(o.y-r[0][1])>1)&&(o=[o.x,o.y],a&&X(o,e)<X(r[0],e)?r.unshift(o):r.push(o),a++)}return r}:"hv"===D||"vh"===D?K=function(e,t){var r=[],a=oe(e),n=oe(t);return a&&n&&le(a,n)?r:(a&&r.push(a),n&&r.push(n),r)}:"hvh"===D?K=se(0,te,re):"vhv"===D&&(K=se(1,ae,ne)),r=0;r<H;r++)if(a=G(r)){for(V=0,J=null,de(a),r++;r<H;r++){if(!(f=G(r))){if(I)continue;break}if(E&&t.simplify){var fe=G(r+1);if(y=X(f,a),F&&(0===V||V===H-1)||!(y<Z(f,fe)*N)){for(v=[(f[0]-a[0])/y,(f[1]-a[1])/y],p=a,x=y,b=w=k=0,g=!1,i=f,r++;r<e.length;r++){if(h=fe,fe=G(r+1),!h){if(I)continue;break}if(A=(m=[h[0]-a[0],h[1]-a[1]])[0]*v[1]-m[1]*v[0],w=Math.min(w,A),(k=Math.max(k,A))-w>Z(h,fe))break;i=h,(_=m[0]*v[0]+m[1]*v[1])>x?(x=_,f=h,g=!1):_<b&&(b=_,p=h,g=!0)}if(g?(de(f),i!==p&&de(p)):(p!==a&&de(p),i!==f&&de(f)),de(i),r>=e.length||!h)break;de(h),a=h}}else de(f)}J&&ce([Y||J[0],Q||J[1]]),B.push(j.slice(0,V))}return B}},function(e,t,r){"use strict";var a={tonextx:1,tonexty:1,tonext:1};e.exports=function(e,t,r){var n,i,o,l,s,c={},u=!1,d=-1,f=0,p=-1;for(i=0;i<r.length;i++)(o=(n=r[i][0].trace).stackgroup||"")?o in c?s=c[o]:(s=c[o]=f,f++):n.fill in a&&p>=0?s=p:(s=p=f,f++),s<d&&(u=!0),n._groupIndex=d=s;var h=r.slice();u&&h.sort(function(e,t){var r=e[0].trace,a=t[0].trace;return r._groupIndex-a._groupIndex||r.index-a.index});var g={};for(i=0;i<h.length;i++)o=(n=h[i][0].trace).stackgroup||"",!0===n.visible?(n._nexttrace=null,n.fill in a&&(l=g[o],n._prevtrace=l||null,l&&(l._nexttrace=n)),n._ownfill=n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace),g[o]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return h}},function(e,t,r){"use strict";var a=r(99);e.exports=function(e,t,r){var n={},i={_fullLayout:r},o=a.getFromTrace(i,t,"x"),l=a.getFromTrace(i,t,"y");return n.xLabel=a.tickText(o,e.x,!0).text,n.yLabel=a.tickText(l,e.y,!0).text,n}},function(e,t,r){"use strict";var a=r(0),n=r(329),i=r(3),o=r(463),l=r(14),s=a.fillText;e.exports=function(e,t,r,c){var u=e.cd,d=u[0].trace,f=e.xa,p=e.ya,h=f.c2p(t),g=p.c2p(r),v=[h,g],m=d.hoveron||"",y=-1!==d.mode.indexOf("markers")?3:.5;if(-1!==m.indexOf("points")){var x=function(e){var t=Math.max(y,e.mrc||0),r=f.c2p(e.x)-h,a=p.c2p(e.y)-g;return Math.max(Math.sqrt(r*r+a*a)-t,1-y/t)},b=n.getDistanceFunction(c,function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,a=Math.abs(f.c2p(e.x)-h);return a<t?r*a/t:a-t+r},function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,a=Math.abs(p.c2p(e.y)-g);return a<t?r*a/t:a-t+r},x);if(n.getClosest(u,b,e),!1!==e.index){var _=u[e.index],w=f.c2p(_.x,!0),k=p.c2p(_.y,!0),A=_.mrc||1;e.index=_.i;var T=u[0].t.orientation,M=T&&(_.sNorm||_.s),L="h"===T?M:void 0!==_.orig_x?_.orig_x:_.x,C="v"===T?M:void 0!==_.orig_y?_.orig_y:_.y;return a.extendFlat(e,{color:o(d,_),x0:w-A,x1:w+A,xLabelVal:L,y0:k-A,y1:k+A,yLabelVal:C,spikeDistance:x(_),hovertemplate:d.hovertemplate}),s(_,d,e),i.getComponentMethod("errorbars","hoverInfo")(_,d,e),[e]}}if(-1!==m.indexOf("fills")&&d._polygons){var S,z,P,O,I,R,D,E,F,B=d._polygons,N=[],H=!1,j=1/0,V=-1/0,G=1/0,q=-1/0;for(S=0;S<B.length;S++)(P=B[S]).contains(v)&&(H=!H,N.push(P),G=Math.min(G,P.ymin),q=Math.max(q,P.ymax));if(H){var Z=((G=Math.max(G,0))+(q=Math.min(q,p._length)))/2;for(S=0;S<N.length;S++)for(O=N[S].pts,z=1;z<O.length;z++)(E=O[z-1][1])>Z!=(F=O[z][1])>=Z&&(R=O[z-1][0],D=O[z][0],F-E&&(I=R+(D-R)*(Z-E)/(F-E),j=Math.min(j,I),V=Math.max(V,I)));j=Math.max(j,0),V=Math.min(V,f._length);var X=l.defaultLine;return l.opacity(d.fillcolor)?X=d.fillcolor:l.opacity((d.line||{}).color)&&(X=d.line.color),a.extendFlat(e,{distance:e.maxHoverDistance,x0:j,x1:V,y0:Z,y1:Z,color:X,hovertemplate:!1}),delete e.index,d.text&&!Array.isArray(d.text)?e.text=String(d.text):e.text=d.name,[e]}}}},function(e,t,r){"use strict";var a=r(14),n=r(101);e.exports=function(e,t){var r,i;if("lines"===e.mode)return(r=e.line.color)&&a.opacity(r)?r:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return(i=o&&a.opacity(o)?o:l&&a.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"")?a.opacity(i)<.3?a.addOpacity(i,.3):i:(r=(e.line||{}).color)&&a.opacity(r)&&n.hasLines(e)&&e.line.width?r:e.fillcolor}},function(e,t,r){"use strict";var a=r(101);e.exports=function(e,t){var r,n,i,o,l=e.cd,s=e.xaxis,c=e.yaxis,u=[],d=l[0].trace;if(!a.hasMarkers(d)&&!a.hasText(d))return[];if(!1===t)for(r=0;r<l.length;r++)l[r].selected=0;else for(r=0;r<l.length;r++)n=l[r],i=s.c2p(n.x),o=c.c2p(n.y),null!==n.i&&t.contains([i,o],!1,r,e)?(u.push({pointNumber:n.i,x:s.c2d(n.x),y:c.c2d(n.y)}),n.selected=1):n.selected=0;return u}},function(e,t,r){"use strict";var a=r(4),n=r(3),i=r(57),o=r(0),l=o.strTranslate,s=r(99),c=r(14),u=r(38),d=r(329),f=r(39),p=r(330),h=r(328),g=r(17).arrayEditor,v=r(533);function m(e,t){var r=e._fullLayout.annotations[t]||{},a=s.getFromId(e,r.xref),n=s.getFromId(e,r.yref);a&&a.setScale(),n&&n.setScale(),x(e,r,t,!1,a,n)}function y(e,t,r,a,n){var i=n[r],o=n[r+"ref"],l=-1!==r.indexOf("y"),c="domain"===s.getRefType(o),u=l?a.h:a.w;return e?c?i+(l?-t:t)/e._length:e.p2r(e.r2p(i)+t):i+(l?-t:t)/u}function x(e,t,r,i,m,x){var b,_,w=e._fullLayout,k=e._fullLayout._size,A=e._context.edits;i?(b="annotation-"+i,_=i+".annotations"):(b="annotation",_="annotations");var T=g(e.layout,_,t),M=T.modifyBase,L=T.modifyItem,C=T.getUpdateObj;w._infolayer.selectAll("."+b+'[data-index="'+r+'"]').remove();var S="clip"+w._uid+"_ann"+r;if(t._input&&!1!==t.visible){var z={x:{},y:{}},P=+t.textangle||0,O=w._infolayer.append("g").classed(b,!0).attr("data-index",String(r)).style("opacity",t.opacity),I=O.append("g").classed("annotation-text-g",!0),R=A[t.showarrow?"annotationTail":"annotationPosition"],D=t.captureevents||A.annotationText||R,E=I.append("g").style("pointer-events",D?"all":null).call(p,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",X(a.event))});t.hovertext&&E.on("mouseover",function(){var r=t.hoverlabel,a=r.font,n=this.getBoundingClientRect(),i=e.getBoundingClientRect();d.loneHover({x0:n.left-i.left,x1:n.right-i.left,y:(n.top+n.bottom)/2-i.top,text:t.hovertext,color:r.bgcolor,borderColor:r.bordercolor,fontFamily:a.family,fontSize:a.size,fontColor:a.color},{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:e})}).on("mouseout",function(){d.loneUnhover(w._hoverlayer.node())});var F=t.borderwidth,B=t.borderpad,N=F+B,H=E.append("rect").attr("class","bg").style("stroke-width",F+"px").call(c.stroke,t.bordercolor).call(c.fill,t.bgcolor),j=t.width||t.height,V=w._topclips.selectAll("#"+S).data(j?[0]:[]);V.enter().append("clipPath").classed("annclip",!0).attr("id",S).append("rect"),V.exit().remove();var G=t.font,q=w._meta?o.templateString(t.text,w._meta):t.text,Z=E.append("text").classed("annotation-text",!0).text(q);A.annotationText?Z.call(f.makeEditable,{delegate:E,gd:e}).call(U).on("edit",function(r){t.text=r,this.call(U),L("text",r),m&&m.autorange&&M(m._name+".autorange",!0),x&&x.autorange&&M(x._name+".autorange",!0),n.call("_guiRelayout",e,C())}):Z.call(U)}else a.selectAll("#"+S).remove();function X(e){var a={index:r,annotation:t._input,fullAnnotation:t,event:e};return i&&(a.subplotId=i),a}function U(r){return r.call(u.font,G).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),f.convertToTspans(r,e,W),r}function W(){var r=Z.selectAll("a");1===r.size()&&r.text()===Z.text()&&E.insert("a",":first-child").attr({"xlink:xlink:href":r.attr("xlink:href"),"xlink:xlink:show":r.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(H.node());var a=E.select(".annotation-text-math-group"),d=!a.empty(),g=u.bBox((d?a:Z).node()),b=g.width,_=g.height,T=t.width||b,D=t.height||_,B=Math.round(T+2*N),G=Math.round(D+2*N);function q(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var U=!1,W=["x","y"],Y=0;Y<W.length;Y++){var Q,J,$,K,ee,te=W[Y],re=t[te+"ref"]||te,ae=t["a"+te+"ref"],ne={x:m,y:x}[te],ie=(P+("x"===te?0:-90))*Math.PI/180,oe=B*Math.cos(ie),le=G*Math.sin(ie),se=Math.abs(oe)+Math.abs(le),ce=t[te+"anchor"],ue=t[te+"shift"]*("x"===te?1:-1),de=z[te],fe=s.getRefType(re);if(ne&&"domain"!==fe){var pe=ne.r2fraction(t[te]);(pe<0||pe>1)&&(ae===re?((pe=ne.r2fraction(t["a"+te]))<0||pe>1)&&(U=!0):U=!0),Q=ne._offset+ne.r2p(t[te]),K=.5}else{var he="domain"===fe;"x"===te?($=t[te],Q=he?ne._offset+ne._length*$:Q=k.l+k.w*$):($=1-t[te],Q=he?ne._offset+ne._length*$:Q=k.t+k.h*$),K=t.showarrow?.5:$}if(t.showarrow){de.head=Q;var ge=t["a"+te];if(ee=oe*q(.5,t.xanchor)-le*q(.5,t.yanchor),ae===re){var ve=s.getRefType(ae);"domain"===ve?("y"===te&&(ge=1-ge),de.tail=ne._offset+ne._length*ge):"paper"===ve?"y"===te?(ge=1-ge,de.tail=k.t+k.h*ge):de.tail=k.l+k.w*ge:de.tail=ne._offset+ne.r2p(ge),J=ee}else de.tail=Q+ge,J=ee+ge;de.text=de.tail+ee;var me=w["x"===te?"width":"height"];if("paper"===re&&(de.head=o.constrain(de.head,1,me-1)),"pixel"===ae){var ye=-Math.max(de.tail-3,de.text),xe=Math.min(de.tail+3,de.text)-me;ye>0?(de.tail+=ye,de.text+=ye):xe>0&&(de.tail-=xe,de.text-=xe)}de.tail+=ue,de.head+=ue}else J=ee=se*q(K,ce),de.text=Q+ee;de.text+=ue,ee+=ue,J+=ue,t["_"+te+"padplus"]=se/2+J,t["_"+te+"padminus"]=se/2-J,t["_"+te+"size"]=se,t["_"+te+"shift"]=ee}if(U)E.remove();else{var be=0,_e=0;if("left"!==t.align&&(be=(T-b)*("center"===t.align?.5:1)),"top"!==t.valign&&(_e=(D-_)*("middle"===t.valign?.5:1)),d)a.select("svg").attr({x:N+be-1,y:N+_e}).call(u.setClipUrl,j?S:null,e);else{var we=N+_e-g.top,ke=N+be-g.left;Z.call(f.positionText,ke,we).call(u.setClipUrl,j?S:null,e)}V.select("rect").call(u.setRect,N,N,T,D),H.call(u.setRect,F/2,F/2,B-F,G-F),E.call(u.setTranslate,Math.round(z.x.text-B/2),Math.round(z.y.text-G/2)),I.attr({transform:"rotate("+P+","+z.x.text+","+z.y.text+")"});var Ae,Te=function(r,a){O.selectAll(".annotation-arrow-g").remove();var s=z.x.head,d=z.y.head,f=z.x.tail+r,p=z.y.tail+a,g=z.x.text+r,b=z.y.text+a,_=o.rotationXYMatrix(P,g,b),w=o.apply2DTransform(_),T=o.apply2DTransform2(_),S=+H.attr("width"),R=+H.attr("height"),D=g-.5*S,F=D+S,B=b-.5*R,N=B+R,j=[[D,B,D,N],[D,N,F,N],[F,N,F,B],[F,B,D,B]].map(T);if(!j.reduce(function(e,t){return e^!!o.segmentsIntersect(s,d,s+1e6,d+1e6,t[0],t[1],t[2],t[3])},!1)){j.forEach(function(e){var t=o.segmentsIntersect(f,p,s,d,e[0],e[1],e[2],e[3]);t&&(f=t.x,p=t.y)});var V=t.arrowwidth,G=t.arrowcolor,q=t.arrowside,Z=O.append("g").style({opacity:c.opacity(G)}).classed("annotation-arrow-g",!0),X=Z.append("path").attr("d","M"+f+","+p+"L"+s+","+d).style("stroke-width",V+"px").call(c.stroke,c.rgb(G));if(v(X,q,t),A.annotationPosition&&X.node().parentNode&&!i){var U=s,W=d;if(t.standoff){var Y=Math.sqrt(Math.pow(s-f,2)+Math.pow(d-p,2));U+=t.standoff*(f-s)/Y,W+=t.standoff*(p-d)/Y}var Q,J,$=Z.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(f-U)+","+(p-W),transform:l(U,W)}).style("stroke-width",V+6+"px").call(c.stroke,"rgba(0,0,0,0)").call(c.fill,"rgba(0,0,0,0)");h.init({element:$.node(),gd:e,prepFn:function(){var e=u.getTranslate(E);Q=e.x,J=e.y,m&&m.autorange&&M(m._name+".autorange",!0),x&&x.autorange&&M(x._name+".autorange",!0)},moveFn:function(e,r){var a=w(Q,J),n=a[0]+e,i=a[1]+r;E.call(u.setTranslate,n,i),L("x",y(m,e,"x",k,t)),L("y",y(x,r,"y",k,t)),t.axref===t.xref&&L("ax",y(m,e,"ax",k,t)),t.ayref===t.yref&&L("ay",y(x,r,"ay",k,t)),Z.attr("transform",l(e,r)),I.attr({transform:"rotate("+P+","+n+","+i+")"})},doneFn:function(){n.call("_guiRelayout",e,C());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};if(t.showarrow&&Te(0,0),R)h.init({element:E.node(),gd:e,prepFn:function(){Ae=I.attr("transform")},moveFn:function(e,r){var a="pointer";if(t.showarrow)t.axref===t.xref?L("ax",y(m,e,"ax",k,t)):L("ax",t.ax+e),t.ayref===t.yref?L("ay",y(x,r,"ay",k.w,t)):L("ay",t.ay+r),Te(e,r);else{if(i)return;var n,o;if(m)n=y(m,e,"x",k,t);else{var s=t._xsize/k.w,c=t.x+(t._xshift-t.xshift)/k.w-s/2;n=h.align(c+e/k.w,s,0,1,t.xanchor)}if(x)o=y(x,r,"y",k,t);else{var u=t._ysize/k.h,d=t.y-(t._yshift+t.yshift)/k.h-u/2;o=h.align(d-r/k.h,u,0,1,t.yanchor)}L("x",n),L("y",o),m&&x||(a=h.getCursor(m?.5:n,x?.5:o,t.xanchor,t.yanchor))}I.attr({transform:l(e,r)+Ae}),p(E,a)},clickFn:function(r,a){t.captureevents&&e.emit("plotly_clickannotation",X(a))},doneFn:function(){p(E),n.call("_guiRelayout",e,C());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}}e.exports={draw:function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var r=0;r<t.annotations.length;r++)t.annotations[r].visible&&m(e,r);return i.previousPromises(e)},drawOne:m,drawRaw:x}},function(e,t,r){"use strict";e.exports={axisRefDescription:function(e,t,r){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+r+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",t,"and the",r,"of the domain of the","second",e,"axis."].join(" ")}}},function(e,t,r){"use strict";var a=r(3),n=r(0),i=r(27);e.exports=function(e){return function(t,r){var o=t[e];if(Array.isArray(o))for(var l=a.subplotsRegistry.cartesian,s=l.idRegex,c=r._subplots,u=c.xaxis,d=c.yaxis,f=c.cartesian,p=r._has("cartesian")||r._has("gl2d"),h=0;h<o.length;h++){var g=o[h];if(n.isPlainObject(g)){var v=i.cleanId(g.xref,"x",!1),m=i.cleanId(g.yref,"y",!1),y=s.x.test(v),x=s.y.test(m);if(y||x){p||n.pushUnique(r._basePlotModules,l);var b=!1;y&&-1===u.indexOf(v)&&(u.push(v),b=!0),x&&-1===d.indexOf(m)&&(d.push(m),b=!0),b&&y&&x&&f.push(v+m)}}}}}},function(e,t,r){"use strict";var a=r(425),n=r(42).overrideAll,i=r(17).templatedArray;e.exports=n(i("annotation",{visible:a.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:a.xanchor,xshift:a.xshift,yanchor:a.yanchor,yshift:a.yshift,text:a.text,textangle:a.textangle,font:a.font,width:a.width,height:a.height,opacity:a.opacity,align:a.align,valign:a.valign,bgcolor:a.bgcolor,bordercolor:a.bordercolor,borderpad:a.borderpad,borderwidth:a.borderwidth,showarrow:a.showarrow,arrowcolor:a.arrowcolor,arrowhead:a.arrowhead,startarrowhead:a.startarrowhead,arrowside:a.arrowside,arrowsize:a.arrowsize,startarrowsize:a.startarrowsize,arrowwidth:a.arrowwidth,standoff:a.standoff,startstandoff:a.startstandoff,hovertext:a.hovertext,hoverlabel:a.hoverlabel,captureevents:a.captureevents}),"calc","from-root")},function(e,t,r){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},function(e,t,r){"use strict";var a=r(40);e.exports={bgcolor:{valType:"color",dflt:a.background,editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},function(e,t,r){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},function(e,t,r){"use strict";var a=r(11),n=r(40),i=(0,r(17).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});e.exports={visible:{valType:"boolean",editType:"plot"},buttons:i,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:a({editType:"plot"}),bgcolor:{valType:"color",dflt:n.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.version="1.58.4"},function(e,t,r){"use strict";var a=r(4),n=r(1),i=r(356),o=r(0),l=o.nestedProperty,s=r(331),c=r(492),u=r(3),d=r(65),f=r(57),p=r(522),h=r(99),g=r(38),v=r(14),m=r(378).initInteractions,y=r(59),x=r(39),b=r(336).clearSelect,_=r(63).dfltConfig,w=r(525),k=r(527),A=r(348),T=r(42),M=r(26).AX_NAME_PATTERN,L=0,C=5;function S(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function z(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){o.error(e)}}function P(e,t){z(e,v.combine(t,"white"))}function O(e,t){if(!e._context){e._context=o.extendDeep({},_);var r=a.select("base");e._context._baseUrl=r.size()&&r.attr("href")?window.location.href.split("#")[0]:""}var n,l,s,c=e._context;if(t){for(l=Object.keys(t),n=0;n<l.length;n++)"editable"!==(s=l[n])&&"edits"!==s&&s in c&&("setBackground"===s&&"opaque"===t[s]?c[s]=P:c[s]=t[s]);t.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio);var u=t.editable;if(void 0!==u)for(c.editable=u,l=Object.keys(c.edits),n=0;n<l.length;n++)c.edits[l[n]]=u;if(t.edits)for(l=Object.keys(t.edits),n=0;n<l.length;n++)(s=l[n])in c.edits&&(c.edits[s]=t.edits[s]);c._exportedPlot=t._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"!==c.displayModeBar||i||(c.displayModeBar=!0),"transparent"!==c.setBackground&&"function"==typeof c.setBackground||(c.setBackground=z),c._hasZeroHeight=c._hasZeroHeight||0===e.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===e.clientWidth;var d=c.scrollZoom,f=c._scrollZoom={};if(!0===d)f.cartesian=1,f.gl3d=1,f.geo=1,f.mapbox=1;else if("string"==typeof d){var p=d.split("+");for(n=0;n<p.length;n++)f[p[n]]=1}else!1!==d&&(f.gl3d=1,f.geo=1,f.mapbox=1)}function I(e,t){var r,a,n=t+1,i=[];for(r=0;r<e.length;r++)(a=e[r])<0?i.push(n+a):i.push(a);return i}function R(e,t,r){var a,n;for(a=0;a<t.length;a++){if((n=t[a])!==parseInt(n,10))throw new Error("all values in "+r+" must be integers");if(n>=e.data.length||n<-e.data.length)throw new Error(r+" must be valid indices for gd.data.");if(t.indexOf(n,a+1)>-1||n>=0&&t.indexOf(-e.data.length+n)>-1||n<0&&t.indexOf(e.data.length+n)>-1)throw new Error("each index in "+r+" must be unique.")}}function D(e,t,r){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),R(e,t,"currentIndices"),void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&R(e,r,"newIndices"),void 0!==r&&t.length!==r.length)throw new Error("current and new indices must be of equal length.")}function E(e,t,r,a,i){!function(e,t,r,a){var n=o.isPlainObject(a);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!o.isPlainObject(t))throw new Error("update must be a key:value object");if(void 0===r)throw new Error("indices must be an integer or array of integers");for(var i in R(e,r,"indices"),t){if(!Array.isArray(t[i])||t[i].length!==r.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(n&&(!(i in a)||!Array.isArray(a[i])||a[i].length!==t[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,r,a);for(var s=function(e,t,r,a){var i,s,c,u,d,f=o.isPlainObject(a),p=[];for(var h in Array.isArray(r)||(r=[r]),r=I(r,e.data.length-1),t)for(var g=0;g<r.length;g++){if(i=e.data[r[g]],s=(c=l(i,h)).get(),u=t[h][g],!o.isArrayOrTypedArray(u))throw new Error("attribute: "+h+" index: "+g+" must be an array");if(!o.isArrayOrTypedArray(s))throw new Error("cannot extend missing or non-array attribute: "+h);if(s.constructor!==u.constructor)throw new Error("cannot extend array with an array of a different type: "+h);d=f?a[h][g]:a,n(d)||(d=-1),p.push({prop:c,target:s,insert:u,maxp:Math.floor(d)})}return p}(e,t,r,a),c={},u={},d=0;d<s.length;d++){var f=s[d].prop,p=s[d].maxp,h=i(s[d].target,s[d].insert,p);f.set(h[0]),Array.isArray(c[f.astr])||(c[f.astr]=[]),c[f.astr].push(h[1]),Array.isArray(u[f.astr])||(u[f.astr]=[]),u[f.astr].push(s[d].target.length)}return{update:c,maxPoints:u}}function F(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}function B(e,r,a,n){e=o.getGraphDiv(e),k.clearPromiseQueue(e);var i={};if("string"==typeof r)i[r]=a;else{if(!o.isPlainObject(r))return o.warn("Restyle fail.",r,a,n),Promise.reject();i=o.extendFlat({},r),void 0===n&&(n=a)}Object.keys(i).length&&(e.changed=!0);var l=k.coerceTraceIndices(e,n),s=V(e,i,l),u=s.flags;u.calc&&(e.calcdata=void 0),u.clearAxisTypes&&k.clearAxisTypes(e,l,{});var d=[];u.fullReplot?d.push(t.plot):(d.push(f.previousPromises),f.supplyDefaults(e),u.markerSize&&(f.doCalcdata(e),X(d)),u.style&&d.push(A.doTraceStyle),u.colorbars&&d.push(A.doColorBars),d.push(S)),d.push(f.rehover,f.redrag),c.add(e,B,[e,s.undoit,s.traces],B,[e,s.redoit,s.traces]);var p=o.syncOrAsync(d,e);return p&&p.then||(p=Promise.resolve()),p.then(function(){return e.emit("plotly_restyle",s.eventData),e})}function N(e){return void 0===e?null:e}function H(e,t){return t?function(t,r,a){var n=l(t,r),i=n.set;return n.set=function(t){j((a||"")+r,n.get(),t,e),i(t)},n}:l}function j(e,t,r,a){if(Array.isArray(t)||Array.isArray(r))for(var n=Array.isArray(t)?t:[],i=Array.isArray(r)?r:[],l=Math.max(n.length,i.length),s=0;s<l;s++)j(e+"["+s+"]",n[s],i[s],a);else if(o.isPlainObject(t)||o.isPlainObject(r)){var c=o.isPlainObject(t)?t:{},u=o.isPlainObject(r)?r:{},d=o.extendFlat({},c,u);for(var f in d)j(e+"."+f,c[f],u[f],a)}else void 0===a[e]&&(a[e]=N(t))}function V(e,t,r){var a,n=e._fullLayout,i=e._fullData,s=e.data,c=n._guiEditing,p=H(n._preGUI,c),g=o.extendDeepAll({},t);G(t);var v,m=T.traceFlags(),y={},x={};function b(){return r.map(function(){})}function _(e){var t=h.id2name(e);-1===v.indexOf(t)&&v.push(t)}function w(e){return"LAYOUT"+e+".autorange"}function A(e){return"LAYOUT"+e+".range"}function M(e){for(var t=e;t<i.length;t++)if(i[t]._input===s[e])return i[t]}function L(a,i,o){if(Array.isArray(a))a.forEach(function(e){L(e,i,o)});else if(!(a in t||k.hasParent(t,a))){var l;if("LAYOUT"===a.substr(0,6))l=p(e.layout,a.replace("LAYOUT",""));else{var u=r[o];l=H(n._tracePreGUI[M(u)._fullInput.uid],c)(s[u],a)}a in x||(x[a]=b()),void 0===x[a][o]&&(x[a][o]=N(l.get())),void 0!==i&&l.set(i)}}function C(e){return function(t){return i[t][e]}}function S(e){return function(t,a){return!1===t?i[r[a]][e]:null}}for(var z in t){if(k.hasParent(t,z))throw new Error("cannot set "+z+" and a parent attribute simultaneously");var P,O,I,R,D,E,F=t[z];if("autobinx"!==z&&"autobiny"!==z||(z=z.charAt(z.length-1)+"bins",F=Array.isArray(F)?F.map(S(z)):!1===F?r.map(C(z)):null),y[z]=F,"LAYOUT"!==z.substr(0,6)){for(x[z]=b(),a=0;a<r.length;a++){if(P=s[r[a]],O=M(r[a]),R=(I=H(n._tracePreGUI[O._fullInput.uid],c)(P,z)).get(),void 0!==(D=Array.isArray(F)?F[a%F.length]:F)){var B=I.parts[I.parts.length-1],j=z.substr(0,z.length-B.length-1),V=j?j+".":"",q=j?l(O,j).get():O;if((E=d.getTraceValObject(O,I.parts))&&E.impliedEdits&&null!==D)for(var Z in E.impliedEdits)L(o.relativeAttr(z,Z),E.impliedEdits[Z],a);else if("thicknessmode"!==B&&"lenmode"!==B||R===D||"fraction"!==D&&"pixels"!==D||!q){if("type"===z&&("pie"===D!=("pie"===R)||"funnelarea"===D!=("funnelarea"===R))){var X="x",U="y";"bar"!==D&&"bar"!==R||"h"!==P.orientation||(X="y",U="x"),o.swapAttrs(P,["?","?src"],"labels",X),o.swapAttrs(P,["d?","?0"],"label",X),o.swapAttrs(P,["?","?src"],"values",U),"pie"===R||"funnelarea"===R?(l(P,"marker.color").set(l(P,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):u.traceIs(P,"cartesian")&&l(P,"marker.colors").set(l(P,"marker.color").get())}}else{var W=n._size,Y=q.orient,Q="top"===Y||"bottom"===Y;if("thicknessmode"===B){var J=Q?W.h:W.w;L(V+"thickness",q.thickness*("fraction"===D?1/J:J),a)}else{var $=Q?W.w:W.h;L(V+"len",q.len*("fraction"===D?1/$:$),a)}}x[z][a]=N(R);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(z)){if("orientation"===z){I.set(D);var K=P.x&&!P.y?"h":"v";if((I.get()||K)===O.orientation)continue}else"orientationaxes"===z&&(P.orientation={v:"h",h:"v"}[O.orientation]);k.swapXYData(P),m.calc=m.clearAxisTypes=!0}else-1!==f.dataArrayContainers.indexOf(I.parts[0])?(k.manageArrayContainers(I,D,x),m.calc=!0):(E?E.arrayOk&&!u.traceIs(O,"regl")&&(o.isArrayOrTypedArray(D)||o.isArrayOrTypedArray(R))?m.calc=!0:T.update(m,E):m.calc=!0,I.set(D))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(z)&&h.swap(e,r),"orientationaxes"===z){var ee=l(e.layout,"hovermode"),te=ee.get();"x"===te?ee.set("y"):"y"===te?ee.set("x"):"x unified"===te?ee.set("y unified"):"y unified"===te&&ee.set("x unified")}if(-1!==["orientation","type"].indexOf(z)){for(v=[],a=0;a<r.length;a++){var re=s[r[a]];u.traceIs(re,"cartesian")&&(_(re.xaxis||"x"),_(re.yaxis||"y"))}L(v.map(w),!0,0),L(v.map(A),[0,1],0)}}else I=p(e.layout,z.replace("LAYOUT","")),x[z]=[N(I.get())],I.set(Array.isArray(F)?F[0]:F),m.calc=!0}return(m.calc||m.plot)&&(m.fullReplot=!0),{flags:m,undoit:x,redoit:y,traces:r,eventData:o.extendDeepNoArrays([],[g,r])}}function G(e){var t,r,a,n=o.counterRegex("axis",".title",!1,!1),i=/colorbar\.title$/,l=Object.keys(e);for(t=0;t<l.length;t++)r=l[t],a=e[r],"title"!==r&&!n.test(r)&&!i.test(r)||"string"!=typeof a&&"number"!=typeof a?r.indexOf("titlefont")>-1?s(r,r.replace("titlefont","title.font")):r.indexOf("titleposition")>-1?s(r,r.replace("titleposition","title.position")):r.indexOf("titleside")>-1?s(r,r.replace("titleside","title.side")):r.indexOf("titleoffset")>-1&&s(r,r.replace("titleoffset","title.offset")):s(r,r.replace("title","title.text"));function s(t,r){e[r]=e[t],delete e[t]}}function q(e,t,r){if(e=o.getGraphDiv(e),k.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var a={};if("string"==typeof t)a[t]=r;else{if(!o.isPlainObject(t))return o.warn("Relayout fail.",t,r),Promise.reject();a=o.extendFlat({},t)}Object.keys(a).length&&(e.changed=!0);var n=Q(e,a),i=n.flags;i.calc&&(e.calcdata=void 0);var l=[f.previousPromises];i.layoutReplot?l.push(A.layoutReplot):Object.keys(a).length&&(Z(e,i,n)||f.supplyDefaults(e),i.legend&&l.push(A.doLegend),i.layoutstyle&&l.push(A.layoutStyles),i.axrange&&X(l,n.rangesAltered),i.ticks&&l.push(A.doTicksRelayout),i.modebar&&l.push(A.doModeBar),i.camera&&l.push(A.doCamera),i.colorbars&&l.push(A.doColorBars),l.push(S)),l.push(f.rehover,f.redrag),c.add(e,q,[e,n.undoit],q,[e,n.redoit]);var s=o.syncOrAsync(l,e);return s&&s.then||(s=Promise.resolve(e)),s.then(function(){return e.emit("plotly_relayout",n.eventData),e})}function Z(e,t,r){var a=e._fullLayout;if(!t.axrange)return!1;for(var n in t)if("axrange"!==n&&t[n])return!1;for(var i in r.rangesAltered){var o=h.id2name(i),l=e.layout[o],s=a[o];if(s.autorange=l.autorange,l.range&&(s.range=l.range.slice()),s.cleanRange(),s._matchGroup)for(var c in s._matchGroup)if(c!==i){var u=a[h.id2name(c)];u.autorange=s.autorange,u.range=s.range.slice(),u._input.range=s.range.slice()}}return!0}function X(e,t){var r=t?function(e){var r=[],a=!0;for(var n in t){var i=h.getFromId(e,n);if(r.push(n),-1!==(i.ticklabelposition||"").indexOf("inside")&&i._anchorAxis&&r.push(i._anchorAxis._id),i._matchGroup)for(var o in i._matchGroup)t[o]||r.push(o);i.automargin&&(a=!1)}return h.draw(e,r,{skipTitle:a})}:function(e){return h.draw(e,"redraw")};e.push(b,A.doAutoRangeAndConstraints,r,A.drawData,A.finalDraw)}var U=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,W=/^[xyz]axis[0-9]*\.autorange$/,Y=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Q(e,t){var r,a,n,i=e.layout,s=e._fullLayout,c=s._guiEditing,f=H(s._preGUI,c),p=Object.keys(t),g=h.list(e),v=o.extendDeepAll({},t),m={};for(G(t),p=Object.keys(t),a=0;a<p.length;a++)if(0===p[a].indexOf("allaxes")){for(n=0;n<g.length;n++){var y=g[n]._id.substr(1),x=-1!==y.indexOf("scene")?y+".":"",b=p[a].replace("allaxes",x+g[n]._name);t[b]||(t[b]=t[p[a]])}delete t[p[a]]}var _=T.layoutFlags(),A={},L={};function C(e,r){if(Array.isArray(e))e.forEach(function(e){C(e,r)});else if(!(e in t||k.hasParent(t,e))){var a=f(i,e);e in L||(L[e]=N(a.get())),void 0!==r&&a.set(r)}}var S,z={};function P(e){var t=h.name2id(e.split(".")[0]);return z[t]=1,t}for(var O in t){if(k.hasParent(t,O))throw new Error("cannot set "+O+" and a parent attribute simultaneously");for(var I=f(i,O),R=t[O],D=I.parts.length-1;D>0&&"string"!=typeof I.parts[D];)D--;var E=I.parts[D],F=I.parts[D-1]+"."+E,B=I.parts.slice(0,D).join("."),j=l(e.layout,B).get(),V=l(s,B).get(),q=I.get();if(void 0!==R){A[O]=R,L[O]="reverse"===E?R:N(q);var Z=d.getLayoutValObject(s,I.parts);if(Z&&Z.impliedEdits&&null!==R)for(var X in Z.impliedEdits)C(o.relativeAttr(O,X),Z.impliedEdits[X]);if(-1!==["width","height"].indexOf(O))if(R){C("autosize",null);var Q="height"===O?"width":"height";C(Q,s[Q])}else s[O]=e._initialAutoSize[O];else if("autosize"===O)C("width",R?null:s.width),C("height",R?null:s.height);else if(F.match(U))P(F),l(s,B+"._inputRange").set(null);else if(F.match(W)){P(F),l(s,B+"._inputRange").set(null);var $=l(s,B).get();$._inputDomain&&($._input.domain=$._inputDomain.slice())}else F.match(Y)&&l(s,B+"._inputDomain").set(null);if("type"===E){S=j;var K="linear"===V.type&&"log"===R,ee="log"===V.type&&"linear"===R;if(K||ee){if(S&&S.range)if(V.autorange)K&&(S.range=S.range[1]>S.range[0]?[1,2]:[2,1]);else{var te=S.range[0],re=S.range[1];K?(te<=0&&re<=0&&C(B+".autorange",!0),te<=0?te=re/1e6:re<=0&&(re=te/1e6),C(B+".range[0]",Math.log(te)/Math.LN10),C(B+".range[1]",Math.log(re)/Math.LN10)):(C(B+".range[0]",Math.pow(10,te)),C(B+".range[1]",Math.pow(10,re)))}else C(B+".autorange",!0);Array.isArray(s._subplots.polar)&&s._subplots.polar.length&&s[I.parts[0]]&&"radialaxis"===I.parts[1]&&delete s[I.parts[0]]._subplot.viewInitial["radialaxis.range"],u.getComponentMethod("annotations","convertCoords")(e,V,R,C),u.getComponentMethod("images","convertCoords")(e,V,R,C)}else C(B+".autorange",!0),C(B+".range",null);l(s,B+"._inputRange").set(null)}else if(E.match(M)){var ae=l(s,O).get(),ne=(R||{}).type;ne&&"-"!==ne||(ne="linear"),u.getComponentMethod("annotations","convertCoords")(e,ae,ne,C),u.getComponentMethod("images","convertCoords")(e,ae,ne,C)}var ie=w.containerArrayMatch(O);if(ie){r=ie.array,a=ie.index;var oe=ie.property,le=Z||{editType:"calc"};""!==a&&""===oe&&(w.isAddVal(R)?L[O]=null:w.isRemoveVal(R)?L[O]=(l(i,r).get()||[])[a]:o.warn("unrecognized full object value",t)),T.update(_,le),m[r]||(m[r]={});var se=m[r][a];se||(se=m[r][a]={}),se[oe]=R,delete t[O]}else"reverse"===E?(j.range?j.range.reverse():(C(B+".autorange",!0),j.range=[1,0]),V.autorange?_.calc=!0:_.plot=!0):(s._has("scatter-like")&&s._has("regl")&&"dragmode"===O&&("lasso"===R||"select"===R)&&"lasso"!==q&&"select"!==q?_.plot=!0:s._has("gl2d")?_.plot=!0:Z?T.update(_,Z):_.calc=!0,I.set(R))}}for(r in m){w.applyContainerArrayChanges(e,f(i,r),m[r],_,f)||(_.plot=!0)}for(var ce in z){var ue=(S=h.getFromId(e,ce))&&S._constraintGroup;if(ue)for(var de in _.calc=!0,ue)z[de]||(h.getFromId(e,de)._constraintShrinkable=!0)}return(J(e)||t.height||t.width)&&(_.plot=!0),(_.plot||_.calc)&&(_.layoutReplot=!0),{flags:_,rangesAltered:z,undoit:L,redoit:A,eventData:v}}function J(e){var t=e._fullLayout,r=t.width,a=t.height;return e.layout.autosize&&f.plotAutoSize(e,e.layout,t),t.width!==r||t.height!==a}function $(e,r,a,n){if(e=o.getGraphDiv(e),k.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);o.isPlainObject(r)||(r={}),o.isPlainObject(a)||(a={}),Object.keys(r).length&&(e.changed=!0),Object.keys(a).length&&(e.changed=!0);var i=k.coerceTraceIndices(e,n),l=V(e,o.extendFlat({},r),i),s=l.flags,u=Q(e,o.extendFlat({},a)),d=u.flags;(s.calc||d.calc)&&(e.calcdata=void 0),s.clearAxisTypes&&k.clearAxisTypes(e,i,a);var p=[];d.layoutReplot?p.push(A.layoutReplot):s.fullReplot?p.push(t.plot):(p.push(f.previousPromises),Z(e,d,u)||f.supplyDefaults(e),s.style&&p.push(A.doTraceStyle),(s.colorbars||d.colorbars)&&p.push(A.doColorBars),d.legend&&p.push(A.doLegend),d.layoutstyle&&p.push(A.layoutStyles),d.axrange&&X(p,u.rangesAltered),d.ticks&&p.push(A.doTicksRelayout),d.modebar&&p.push(A.doModeBar),d.camera&&p.push(A.doCamera),p.push(S)),p.push(f.rehover,f.redrag),c.add(e,$,[e,l.undoit,u.undoit,l.traces],$,[e,l.redoit,u.redoit,l.traces]);var h=o.syncOrAsync(p,e);return h&&h.then||(h=Promise.resolve(e)),h.then(function(){return e.emit("plotly_update",{data:l.eventData,layout:u.eventData}),e})}function K(e){return function(t){t._fullLayout._guiEditing=!0;var r=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,r}}var ee=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],te=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function re(e,t){for(var r=0;r<t.length;r++){var a=t[r],n=e.match(a.pattern);if(n)return{head:n[1],attr:a.attr}}}function ae(e,t){var r=l(t,e).get();if(void 0!==r)return r;var a=e.split(".");for(a.pop();a.length>1;)if(a.pop(),void 0!==(r=l(t,a.join(".")+".uirevision").get()))return r;return t.uirevision}function ne(e,t){for(var r=0;r<t.length;r++)if(t[r]._fullInput.uid===e)return r;return-1}function ie(e,t,r){for(var a=0;a<t.length;a++)if(t[a].uid===e)return a;return!t[r]||t[r].uid?-1:r}function oe(e,t){var r=o.isPlainObject(e),a=Array.isArray(e);return r||a?(r&&o.isPlainObject(t)||a&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function le(e,t,r,a){var n,i,s,c=a.getValObject,u=a.flags,d=a.immutable,f=a.inArray,p=a.arrayIndex;function h(){var e=n.editType;f&&-1!==e.indexOf("arraydraw")?o.pushUnique(u.arrays[f],p):(T.update(u,n),"none"!==e&&u.nChanges++,a.transition&&n.anim&&u.nChangesAnim++,(U.test(s)||W.test(s))&&(u.rangesAltered[r[0]]=1),Y.test(s)&&l(t,"_inputDomain").set(null),"datarevision"===i&&(u.newDataRevision=1))}function g(e){return"data_array"===e.valType||e.arrayOk}for(i in e){if(u.calc&&!a.transition)return;var v=e[i],m=t[i],y=r.concat(i);if(s=y.join("."),"_"!==i.charAt(0)&&"function"!=typeof v&&v!==m){if(("tick0"===i||"dtick"===i)&&"geo"!==r[0]){var x=t.tickmode;if("auto"===x||"array"===x||!x)continue}if(("range"!==i||!t.autorange)&&("zmin"!==i&&"zmax"!==i||"contourcarpet"!==t.type)&&(n=c(y))&&(!n._compareAsJSON||JSON.stringify(v)!==JSON.stringify(m))){var b,_=n.valType,w=g(n),k=Array.isArray(v),A=Array.isArray(m);if(k&&A){var M="_input_"+i,L=e[M],C=t[M];if(Array.isArray(L)&&L===C)continue}if(void 0===m)w&&k?u.calc=!0:h();else if(n._isLinkedToArray){var S=[],z=!1;f||(u.arrays[i]=S);var P=Math.min(v.length,m.length),O=Math.max(v.length,m.length);if(P!==O){if("arraydraw"!==n.editType){h();continue}z=!0}for(b=0;b<P;b++)le(v[b],m[b],y.concat(b),o.extendFlat({inArray:i,arrayIndex:b},a));if(z)for(b=P;b<O;b++)S.push(b)}else!_&&o.isPlainObject(v)?le(v,m,y,a):w?k&&A?(d&&(u.calc=!0),(d||a.newDataRevision)&&h()):k!==A?u.calc=!0:h():k&&A&&v.length===m.length&&String(v)===String(m)||h()}}}for(i in t)if(!(i in e||"_"===i.charAt(0)||"function"==typeof t[i])){if(g(n=c(r.concat(i)))&&Array.isArray(t[i]))return void(u.calc=!0);h()}}function se(e){var t=e._fullLayout,r=e.getBoundingClientRect();if(!o.equalDomRects(r,t._lastBBox)){var a=t._invTransform=o.inverseTransformMatrix(o.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(a[0][0]*a[0][0]+a[0][1]*a[0][1]+a[0][2]*a[0][2]),t._invScaleY=Math.sqrt(a[1][0]*a[1][0]+a[1][1]*a[1][1]+a[1][2]*a[1][2]),t._lastBBox=r}}function ce(e){var t=a.select(e),r=e._fullLayout;if(r._calcInverseTransform=se,r._calcInverseTransform(e),r._container=t.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var n={};a.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),r._uid=o.randstr(n)}r._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var i=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=i.append("g").classed("imagelayer",!0),r._shapeLowerLayer=i.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var l=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=l.append("g").classed("imagelayer",!0),r._shapeUpperLayer=l.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}t.animate=function(e,t,r){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var a=e._transitionData;a._frameQueue||(a._frameQueue=[]);var n=(r=f.supplyAnimationDefaults(r)).transition,i=r.frame;function l(e){return Array.isArray(n)?e>=n.length?n[0]:n[e]:n}function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function c(e,t){var r=0;return function(){if(e&&++r===t)return e()}}return void 0===a._frameWaitingCnt&&(a._frameWaitingCnt=0),new Promise(function(i,u){function d(){a._currentFrame&&a._currentFrame.onComplete&&a._currentFrame.onComplete();var t=a._currentFrame=a._frameQueue.shift();if(t){var r=t.name?t.name.toString():null;e._fullLayout._currentFrame=r,a._lastFrameAt=Date.now(),a._timeToNext=t.frameOpts.duration,f.transition(e,t.frame.data,t.frame.layout,k.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit("plotly_animatingframe",{name:r,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(a._animationRaf),a._animationRaf=null}function p(){e.emit("plotly_animating"),a._lastFrameAt=-1/0,a._timeToNext=0,a._runningTransitions=0,a._currentFrame=null;var t=function(){a._animationRaf=window.requestAnimationFrame(t),Date.now()-a._lastFrameAt>a._timeToNext&&d()};t()}var h,g,v=0;function m(e){return Array.isArray(n)?v>=n.length?e.transitionOpts=n[v]:e.transitionOpts=n[0]:e.transitionOpts=n,v++,e}var y=[],x=void 0===t||null===t,b=Array.isArray(t);if(x||b||!o.isPlainObject(t)){if(x||-1!==["string","number"].indexOf(typeof t))for(h=0;h<a._frames.length;h++)(g=a._frames[h])&&(x||String(g.group)===String(t))&&y.push({type:"byname",name:String(g.name),data:m({name:g.name})});else if(b)for(h=0;h<t.length;h++){var _=t[h];-1!==["number","string"].indexOf(typeof _)?(_=String(_),y.push({type:"byname",name:_,data:m({name:_})})):o.isPlainObject(_)&&y.push({type:"object",data:m(o.extendFlat({},_))})}}else y.push({type:"object",data:m(o.extendFlat({},t))});for(h=0;h<y.length;h++)if("byname"===(g=y[h]).type&&!a._frameHash[g.data.name])return o.warn('animate failure: frame not found: "'+g.data.name+'"'),void u();-1!==["next","immediate"].indexOf(r.mode)&&function(){if(0!==a._frameQueue.length){for(;a._frameQueue.length;){var t=a._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===r.direction&&y.reverse();var w=e._fullLayout._currentFrame;if(w&&r.fromcurrent){var A=-1;for(h=0;h<y.length;h++)if("byname"===(g=y[h]).type&&g.name===w){A=h;break}if(A>0&&A<y.length-1){var T=[];for(h=0;h<y.length;h++)g=y[h],("byname"!==y[h].type||h>A)&&T.push(g);y=T}}y.length>0?function(t){if(0!==t.length){for(var n=0;n<t.length;n++){var o;o="byname"===t[n].type?f.computeFrame(e,t[n].name):t[n].data;var d=s(n),h=l(n);h.duration=Math.min(h.duration,d.duration);var g={frame:o,name:t[n].name,frameOpts:d,transitionOpts:h};n===t.length-1&&(g.onComplete=c(i,2),g.onInterrupt=u),a._frameQueue.push(g)}"immediate"===r.mode&&(a._lastFrameAt=-1/0),a._animationRaf||p()}}(y):(e.emit("plotly_animated"),i())})},t.addFrames=function(e,t,r){if(e=o.getGraphDiv(e),null===t||void 0===t)return Promise.resolve();if(!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var a,n,i,l,s=e._transitionData._frames,u=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var d=s.length+2*t.length,p=[],h={};for(a=t.length-1;a>=0;a--)if(o.isPlainObject(t[a])){var g=t[a].name,v=(u[g]||h[g]||{}).name,m=t[a].name,y=u[v]||h[v];v&&m&&"number"==typeof m&&y&&L<C&&(L++,o.warn('addFrames: overwriting frame "'+(u[v]||h[v]).name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),L===C&&o.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),h[g]={name:g},p.push({frame:f.supplyFrameDefaults(t[a]),index:r&&void 0!==r[a]&&null!==r[a]?r[a]:d+a})}p.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var x=[],b=[],_=s.length;for(a=p.length-1;a>=0;a--){if("number"==typeof(n=p[a].frame).name&&o.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!n.name)for(;u[n.name="frame "+e._transitionData._counter++];);if(u[n.name]){for(i=0;i<s.length&&(s[i]||{}).name!==n.name;i++);x.push({type:"replace",index:i,value:n}),b.unshift({type:"replace",index:i,value:s[i]})}else l=Math.max(0,Math.min(p[a].index,_)),x.push({type:"insert",index:l,value:n}),b.unshift({type:"delete",index:l}),_++}var w=f.modifyFrames,k=f.modifyFrames,A=[e,b],T=[e,x];return c&&c.add(e,w,A,k,T),f.modifyFrames(e,x)},t.deleteFrames=function(e,t){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var r,a,n=e._transitionData._frames,i=[],l=[];if(!t)for(t=[],r=0;r<n.length;r++)t.push(r);for((t=t.slice()).sort(),r=t.length-1;r>=0;r--)a=t[r],i.push({type:"delete",index:a}),l.unshift({type:"insert",index:a,value:n[a]});var s=f.modifyFrames,u=f.modifyFrames,d=[e,l],p=[e,i];return c&&c.add(e,s,d,u,p),f.modifyFrames(e,i)},t.addTraces=function e(r,a,n){r=o.getGraphDiv(r);var i,l,s=[],u=t.deleteTraces,d=e,f=[r,s],p=[r,a];for(function(e,t,r){var a,n;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),a=0;a<t.length;a++)if("object"!=typeof(n=t[a])||Array.isArray(n)||null===n)throw new Error("all values in traces array must be non-array objects");if(void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&r.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(r,a,n),Array.isArray(a)||(a=[a]),a=a.map(function(e){return o.extendFlat({},e)}),k.cleanData(a),i=0;i<a.length;i++)r.data.push(a[i]);for(i=0;i<a.length;i++)s.push(-a.length+i);if(void 0===n)return l=t.redraw(r),c.add(r,u,f,d,p),l;Array.isArray(n)||(n=[n]);try{D(r,s,n)}catch(e){throw r.data.splice(r.data.length-a.length,a.length),e}return c.startSequence(r),c.add(r,u,f,d,p),l=t.moveTraces(r,s,n),c.stopSequence(r),l},t.deleteTraces=function e(r,a){r=o.getGraphDiv(r);var n,i,l=[],s=t.addTraces,u=e,d=[r,l,a],f=[r,a];if(void 0===a)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(a)||(a=[a]),R(r,a,"indices"),(a=I(a,r.data.length-1)).sort(o.sorterDes),n=0;n<a.length;n+=1)i=r.data.splice(a[n],1)[0],l.push(i);var p=t.redraw(r);return c.add(r,s,d,u,f),p},t.extendTraces=function e(r,a,n,i){var l=E(r=o.getGraphDiv(r),a,n,i,function(e,t,r){var a,n;if(o.isTypedArray(e))if(r<0){var i=new e.constructor(0),l=F(e,t);r<0?(a=l,n=i):(a=i,n=l)}else if(a=new e.constructor(r),n=new e.constructor(e.length+t.length-r),r===t.length)a.set(t),n.set(e);else if(r<t.length){var s=t.length-r;a.set(t.subarray(s)),n.set(e),n.set(t.subarray(0,s),e.length)}else{var c=r-t.length,u=e.length-c;a.set(e.subarray(u)),a.set(t,c),n.set(e.subarray(0,u))}else a=e.concat(t),n=r>=0&&r<a.length?a.splice(0,a.length-r):[];return[a,n]}),s=t.redraw(r),u=[r,l.update,n,l.maxPoints];return c.add(r,t.prependTraces,u,e,arguments),s},t.moveTraces=function e(r,a,n){var i,l=[],s=[],u=e,d=e,f=[r=o.getGraphDiv(r),n,a],p=[r,a,n];if(D(r,a,n),a=Array.isArray(a)?a:[a],void 0===n)for(n=[],i=0;i<a.length;i++)n.push(-a.length+i);for(n=Array.isArray(n)?n:[n],a=I(a,r.data.length-1),n=I(n,r.data.length-1),i=0;i<r.data.length;i++)-1===a.indexOf(i)&&l.push(r.data[i]);for(i=0;i<a.length;i++)s.push({newIndex:n[i],trace:r.data[a[i]]});for(s.sort(function(e,t){return e.newIndex-t.newIndex}),i=0;i<s.length;i+=1)l.splice(s[i].newIndex,0,s[i].trace);r.data=l;var h=t.redraw(r);return c.add(r,u,f,d,p),h},t.prependTraces=function e(r,a,n,i){var l=E(r=o.getGraphDiv(r),a,n,i,function(e,t,r){var a,n;if(o.isTypedArray(e))if(r<=0){var i=new e.constructor(0),l=F(t,e);r<0?(a=l,n=i):(a=i,n=l)}else if(a=new e.constructor(r),n=new e.constructor(e.length+t.length-r),r===t.length)a.set(t),n.set(e);else if(r<t.length){var s=t.length-r;a.set(t.subarray(0,s)),n.set(t.subarray(s)),n.set(e,s)}else{var c=r-t.length;a.set(t),a.set(e.subarray(0,c),t.length),n.set(e.subarray(c))}else a=t.concat(e),n=r>=0&&r<a.length?a.splice(r,a.length):[];return[a,n]}),s=t.redraw(r),u=[r,l.update,n,l.maxPoints];return c.add(r,t.extendTraces,u,e,arguments),s},t.newPlot=function(e,r,a,n){return e=o.getGraphDiv(e),f.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),f.purge(e),t.plot(e,r,a,n)},t.plot=function(e,r,n,i){var l;if(e=o.getGraphDiv(e),s.init(e),o.isPlainObject(r)){var c=r;r=c.data,n=c.layout,i=c.config,l=c.frames}if(!1===s.triggerHandler(e,"plotly_beforeplot",[r,n,i]))return Promise.reject();r||n||o.isPlotDiv(e)||o.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),O(e,i),n||(n={}),a.select(e).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var d=0===(e.data||[]).length&&Array.isArray(r);Array.isArray(r)&&(k.cleanData(r),d?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),e.layout&&!d||(e.layout=k.cleanLayout(n)),f.supplyDefaults(e);var v=e._fullLayout,y=v._has("cartesian");if(!v._has("polar")&&r&&r[0]&&r[0].r)return o.log("Legacy polar charts are deprecated!"),function(e,t,r){var n=a.select(e).selectAll(".plot-container").data([0]);n.enter().insert("div",":first-child").classed("plot-container plotly",!0);var i=n.selectAll(".svg-container").data([0]);i.enter().append("div").classed("svg-container",!0).style("position","relative"),i.html(""),t&&(e.data=t),r&&(e.layout=r),p.manager.fillLayout(e),i.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=p.manager.framework(e),e.framework({data:e.data,layout:e.layout},i.node()),e.framework.setUndoPoint();var l=e.framework.svg(),s=1,c=e._fullLayout.title?e._fullLayout.title.text:"";""!==c&&c||(s=0);var u=function(){this.call(x.convertToTspans,e)},d=l.select(".title-group text").call(u);if(e._context.edits.titleText){var h=o._(e,"Click to enter Plot title");c&&c!==h||(s=.2,d.attr({"data-unformatted":h}).text(h).style({opacity:s}).on("mouseover.opacity",function(){a.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){a.select(this).transition().duration(1e3).style("opacity",0)}));var g=function(){this.call(x.makeEditable,{gd:e}).on("edit",function(t){e.framework({layout:{title:{text:t}}}),this.text(t).call(u),this.call(g)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(u)})};d.call(g)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),f.addLinks(e),Promise.resolve()}(e,r,n);v._replotting=!0,(d||v._shouldCreateBgLayer)&&(ce(e),v._shouldCreateBgLayer&&delete v._shouldCreateBgLayer),e.framework!==ce&&(e.framework=ce,ce(e)),g.initGradients(e),d&&h.saveShowSpikeInitial(e);var b=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;b&&f.doCalcdata(e);for(var _=0;_<e.calcdata.length;_++)e.calcdata[_][0].trace=e._fullData[_];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){o.isHidden(e)||f.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):o.clearResponsive(e);var w=o.extendFlat({},v._size),T=0;function M(){if(f.clearAutoMarginIds(e),A.drawMarginPushers(e),h.allowAutoMargin(e),v._has("pie"))for(var t=e._fullData,r=0;r<t.length;r++){var a=t[r];"pie"===a.type&&a.automargin&&f.allowAutoMargin(e,"pie."+a.uid+".automargin")}return f.doAutoMargin(e),f.previousPromises(e)}function L(){e._transitioning||(A.doAutoRangeAndConstraints(e),d&&h.saveRangeInitial(e),u.getComponentMethod("rangeslider","calcAutorange")(e))}var C=[f.previousPromises,function(){if(l)return t.addFrames(e,l)},function t(){for(var r=v._basePlotModules,a=0;a<r.length;a++)r[a].drawFramework&&r[a].drawFramework(e);if(!v._glcanvas&&v._has("gl")&&(v._glcanvas=v._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(e){return e.key}),v._glcanvas.enter().append("canvas").attr("class",function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),v._glcanvas){v._glcanvas.attr("width",v.width).attr("height",v.height);var n=v._glcanvas.data()[0].regl;if(n&&(Math.floor(v.width)!==n._gl.drawingBufferWidth||Math.floor(v.height)!==n._gl.drawingBufferHeight)){var i="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!T)return o.log(i+" Clearing graph and plotting again."),f.cleanPlot([],{},e._fullData,v),f.supplyDefaults(e),v=e._fullLayout,f.doCalcdata(e),T++,t();o.error(i)}}return"h"===v.modebar.orientation?v._modebardiv.style("height",null).style("width","100%"):v._modebardiv.style("width",null).style("height",v.height+"px"),f.previousPromises(e)},M,function(){if(f.didMarginChange(w,v._size))return o.syncOrAsync([M,A.layoutStyles],e)}];y&&C.push(function(){if(b)return o.syncOrAsync([u.getComponentMethod("shapes","calcAutorange"),u.getComponentMethod("annotations","calcAutorange"),L],e);L()}),C.push(A.layoutStyles),y&&C.push(function(){return h.draw(e,d?"":"redraw")},function(e){e._fullLayout._insideTickLabelsAutorange&&q(e,e._fullLayout._insideTickLabelsAutorange).then(function(){e._fullLayout._insideTickLabelsAutorange=void 0})}),C.push(A.drawData,A.finalDraw,m,f.addLinks,f.rehover,f.redrag,f.doAutoMargin,function(e){e._fullLayout._insideTickLabelsAutorange&&d&&h.saveRangeInitial(e,!0)},f.previousPromises);var z=o.syncOrAsync(C,e);return z&&z.then||(z=Promise.resolve()),z.then(function(){return S(e),e})},t.purge=function(e){var t=(e=o.getGraphDiv(e))._fullLayout||{},r=e._fullData||[];return f.cleanPlot([],{},r,t),f.purge(e),s.purge(e),t._container&&t._container.remove(),delete e._context,e},t.react=function(e,r,a,n){var i,s;e=o.getGraphDiv(e),k.clearPromiseQueue(e);var c=e._fullData,p=e._fullLayout;if(o.isPlotDiv(e)&&c&&p){if(o.isPlainObject(r)){var h=r;r=h.data,a=h.layout,n=h.config,i=h.frames}var g=!1;if(n){var v=o.extendDeep({},e._context);e._context=void 0,O(e,n),g=function e(t,r){var a;for(a in t)if("_"!==a.charAt(0)){var n=t[a],i=r[a];if(n!==i)if(o.isPlainObject(n)&&o.isPlainObject(i)){if(e(n,i))return!0}else{if(!Array.isArray(n)||!Array.isArray(i))return!0;if(n.length!==i.length)return!0;for(var l=0;l<n.length;l++)if(n[l]!==i[l]){if(!o.isPlainObject(n[l])||!o.isPlainObject(i[l]))return!0;if(e(n[l],i[l]))return!0}}}}(v,e._context)}e.data=r||[],k.cleanData(e.data),e.layout=a||{},k.cleanLayout(e.layout),function(e,t,r,a){var n,i,s,c,u,d,f,p,h=a._preGUI,g=[],v={};for(n in h){if(u=re(n,ee)){if(i=u.attr||u.head+".uirevision",(c=(s=l(a,i).get())&&ae(i,t))&&c===s&&(null===(d=h[n])&&(d=void 0),oe(p=(f=l(t,n)).get(),d))){void 0===p&&"autorange"===n.substr(n.length-9)&&g.push(n.substr(0,n.length-10)),f.set(N(l(a,n).get()));continue}}else o.warn("unrecognized GUI edit: "+n);delete h[n],"range["===n.substr(n.length-8,6)&&(v[n.substr(0,n.length-9)]=1)}for(var m=0;m<g.length;m++){var y=g[m];if(v[y]){var x=l(t,y).get();x&&delete x.autorange}}var b=a._tracePreGUI;for(var _ in b){var w,k=b[_],A=null;for(n in k){if(!A){var T=ne(_,r);if(T<0){delete b[_];break}var M=ie(_,e,(w=r[T]._fullInput).index);if(M<0){delete b[_];break}A=e[M]}if(u=re(n,te)){if(u.attr?c=(s=l(a,u.attr).get())&&ae(u.attr,t):(s=w.uirevision,void 0===(c=A.uirevision)&&(c=t.uirevision)),c&&c===s&&(null===(d=k[n])&&(d=void 0),oe(p=(f=l(A,n)).get(),d))){f.set(N(l(w,n).get()));continue}}else o.warn("unrecognized GUI edit: "+n+" in trace uid "+_);delete k[n]}}}(e.data,e.layout,c,p),f.supplyDefaults(e,{skipUpdateCalc:!0});var m=e._fullData,y=e._fullLayout,x=void 0===y.datarevision,b=y.transition,_=function(e,t,r,a,n){var i=T.layoutFlags();return i.arrays={},i.rangesAltered={},i.nChanges=0,i.nChangesAnim=0,le(t,r,[],{getValObject:function(e){return d.getLayoutValObject(r,e)},flags:i,immutable:a,transition:n,gd:e}),(i.plot||i.calc)&&(i.layoutReplot=!0),n&&i.nChanges&&i.nChangesAnim&&(i.anim=i.nChanges===i.nChangesAnim?"all":"some"),i}(e,p,y,x,b),w=_.newDataRevision,M=function(e,t,r,a,n,i){var o=t.length===r.length;if(!n&&!o)return{fullReplot:!0,calc:!0};var l,s,c=T.traceFlags();c.arrays={},c.nChanges=0,c.nChangesAnim=0;var u={getValObject:function(e){var t=d.getTraceValObject(s,e);return!s._module.animatable&&t.anim&&(t.anim=!1),t},flags:c,immutable:a,transition:n,newDataRevision:i,gd:e},p={};for(l=0;l<t.length;l++)if(r[l]){if(s=r[l]._fullInput,f.hasMakesDataTransform(s)&&(s=r[l]),p[s.uid])continue;p[s.uid]=1,le(t[l]._fullInput,s,[],u)}return(c.calc||c.plot)&&(c.fullReplot=!0),n&&c.nChanges&&c.nChangesAnim&&(c.anim=c.nChanges===c.nChangesAnim&&o?"all":"some"),c}(e,c,m,x,b,w);if(J(e)&&(_.layoutReplot=!0),M.calc||_.calc){e.calcdata=void 0;for(var L=Object.getOwnPropertyNames(y),C=0;C<L.length;C++){var z=L[C],P=z.substring(0,5);if("xaxis"===P||"yaxis"===P){var I=y[z]._emptyCategories;I&&I()}}}else f.supplyDefaultsUpdateCalc(e.calcdata,m);var R=[];if(i&&(e._transitionData={},f.createTransitionData(e),R.push(function(){return t.addFrames(e,i)})),y.transition&&!g&&(M.anim||_.anim))_.ticks&&R.push(A.doTicksRelayout),f.doCalcdata(e),A.doAutoRangeAndConstraints(e),R.push(function(){return f.transitionFromReact(e,M,_,p)});else if(M.fullReplot||_.layoutReplot||g)e._fullLayout._skipDefaults=!0,R.push(t.plot);else{for(var D in _.arrays){var E=_.arrays[D];if(E.length){var F=u.getComponentMethod(D,"drawOne");if(F!==o.noop)for(var B=0;B<E.length;B++)F(e,E[B]);else{var H=u.getComponentMethod(D,"draw");if(H===o.noop)throw new Error("cannot draw components: "+D);H(e)}}}R.push(f.previousPromises),M.style&&R.push(A.doTraceStyle),(M.colorbars||_.colorbars)&&R.push(A.doColorBars),_.legend&&R.push(A.doLegend),_.layoutstyle&&R.push(A.layoutStyles),_.axrange&&X(R),_.ticks&&R.push(A.doTicksRelayout),_.modebar&&R.push(A.doModeBar),_.camera&&R.push(A.doCamera),R.push(S)}R.push(f.rehover,f.redrag),(s=o.syncOrAsync(R,e))&&s.then||(s=Promise.resolve(e))}else s=t.newPlot(e,r,a,n);return s.then(function(){return e.emit("plotly_react",{data:r,layout:a}),e})},t.redraw=function(e){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return k.cleanData(e.data),k.cleanLayout(e.layout),e.calcdata=void 0,t.plot(e).then(function(){return e.emit("plotly_redraw"),e})},t.relayout=q,t.restyle=B,t.setPlotConfig=function(e){return o.extendFlat(_,e)},t.update=$,t._guiRelayout=K(q),t._guiRestyle=K(B),t._guiUpdate=K($),t._storeDirectGUIEdit=function(e,t,r){for(var a in r)j(a,l(e,a).get(),r[a],t)}},function(e,t,r){"use strict";var a=r(0),n=r(63).dfltConfig;var i={add:function(e,t,r,a,i){var o,l;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},l=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(l,e.undoQueue.queue.length-l,o),e.undoQueue.index+=1):o=e.undoQueue.queue[l-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(r),o.redo.calls.push(a),o.redo.args.push(i)),e.undoQueue.queue.length>n.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,r;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<t.undo.calls.length;r++)i.plotDo(e,t.undo.calls[r],t.undo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,r;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<t.redo.calls.length;r++)i.plotDo(e,t.redo.calls[r],t.redo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}}};i.plotDo=function(e,t,r){e.autoplay=!0,r=function(e,t){for(var r,n=[],i=0;i<t.length;i++)r=t[i],n[i]=r===e?r:"object"==typeof r?Array.isArray(r)?a.extendDeep([],r):a.extendDeepAll({},r):r;return n}(e,r),t.apply(null,r)},e.exports=i},function(e,t,r){var a=r(4),n=r(0).extendDeepAll,i=r(28).MID_SHIFT,o=e.exports={version:"0.2.2"};o.Axis=function(){var e,t,r,l,s={data:[],layout:{}},c={},u={},d=a.dispatch("hover"),f={};return f.render=function(c){return function(c){t=c||t;var d=s.data,f=s.layout;("string"==typeof t||t.nodeName)&&(t=a.select(t)),t.datum(d).each(function(t,s){var c=t.slice();u={data:o.util.cloneJson(c),layout:o.util.cloneJson(f)};var d=0;c.forEach(function(e,t){e.color||(e.color=f.defaultColorRange[d],d=(d+1)%f.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:a.rgb(e.color).darker().toString()),u.data[t].color=e.color,u.data[t].strokeColor=e.strokeColor,u.data[t].strokeDash=e.strokeDash,u.data[t].strokeSize=e.strokeSize});var p=c.filter(function(e,t){var r=e.visible;return void 0===r||!0===r}),h=!1,g=p.map(function(e,t){return h=h||void 0!==e.groupId,e});if(h){var v=[],m=a.nest().key(function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"}).entries(g).map(function(e,t){if("unstacked"===e.key)return e.values;var r=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,a){e.yStack=[r],v.push(r),r=o.util.sumArrays(e.r,r)}),e.values});p=a.merge(m)}p.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var y=Math.min(f.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2;y=Math.max(10,y);var x,b=[f.margin.left+y,f.margin.top+y];x=h?[0,a.max(o.util.sumArrays(o.util.arrayLast(p).r[0],o.util.arrayLast(v)))]:a.extent(o.util.flattenArray(p.map(function(e,t){return e.r}))),f.radialAxis.domain!=o.DATAEXTENT&&(x[0]=0),r=a.scale.linear().domain(f.radialAxis.domain!=o.DATAEXTENT&&f.radialAxis.domain?f.radialAxis.domain:x).range([0,y]),u.layout.radialAxis.domain=r.domain();var _,w=o.util.flattenArray(p.map(function(e,t){return e.t})),k="string"==typeof w[0];k&&(w=o.util.deduplicate(w),_=w.slice(),w=a.range(w.length),p=p.map(function(e,t){var r=e;return e.t=[w],h&&(r.yStack=e.yStack),r}));var A=p.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===p.length,T=null===f.needsEndSpacing?k||!A:f.needsEndSpacing,M=f.angularAxis.domain&&f.angularAxis.domain!=o.DATAEXTENT&&!k&&f.angularAxis.domain[0]>=0?f.angularAxis.domain:a.extent(w),L=Math.abs(w[1]-w[0]);A&&!k&&(L=0);var C=M.slice();T&&k&&(C[1]+=L);var S=f.angularAxis.ticksCount||4;S>8&&(S=S/(S/8)+S%8),f.angularAxis.ticksStep&&(S=(C[1]-C[0])/S);var z=f.angularAxis.ticksStep||(C[1]-C[0])/(S*(f.minorTicks+1));_&&(z=Math.max(Math.round(z),1)),C[2]||(C[2]=z);var P=a.range.apply(this,C);if(P=P.map(function(e,t){return parseFloat(e.toPrecision(12))}),l=a.scale.linear().domain(C.slice(0,2)).range("clockwise"===f.direction?[0,360]:[360,0]),u.layout.angularAxis.domain=l.domain(),u.layout.angularAxis.endPadding=T?L:0,void 0===(e=a.select(this).select("svg.chart-root"))||e.empty()){var O=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),I=this.appendChild(this.ownerDocument.importNode(O.documentElement,!0));e=a.select(I)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var R,D=e.select(".chart-group"),E={fill:"none",stroke:f.tickColor},F={"font-size":f.font.size,"font-family":f.font.family,fill:f.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+f.font.outlineColor}).join(",")};if(f.showLegend){R=e.select(".legend-group").attr({transform:"translate("+[y,f.margin.top]+")"}).style({display:"block"});var B=p.map(function(e,t){var r=o.util.cloneJson(e);return r.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",r.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,r.color="LinePlot"===e.geometry?e.strokeColor:e.color,r});o.Legend().config({data:p.map(function(e,t){return e.name||"Element"+t}),legendConfig:n({},o.Legend.defaultConfig().legendConfig,{container:R,elements:B,reverseOrder:f.legend.reverseOrder})})();var N=R.node().getBBox();y=Math.min(f.width-N.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2,y=Math.max(10,y),b=[f.margin.left+y,f.margin.top+y],r.range([0,y]),u.layout.radialAxis.domain=r.domain(),R.attr("transform","translate("+[b[0]+y,b[1]-y]+")")}else R=e.select(".legend-group").style({display:"none"});e.attr({width:f.width,height:f.height}).style({opacity:f.opacity}),D.attr("transform","translate("+b+")").style({cursor:"crosshair"});var H=[(f.width-(f.margin.left+f.margin.right+2*y+(N?N.width:0)))/2,(f.height-(f.margin.top+f.margin.bottom+2*y))/2];if(H[0]=Math.max(0,H[0]),H[1]=Math.max(0,H[1]),e.select(".outer-group").attr("transform","translate("+H+")"),f.title&&f.title.text){var j=e.select("g.title-group text").style(F).text(f.title.text),V=j.node().getBBox();j.attr({x:b[0]-V.width/2,y:b[1]-y-20})}var G=e.select(".radial.axis-group");if(f.radialAxis.gridLinesVisible){var q=G.selectAll("circle.grid-circle").data(r.ticks(5));q.enter().append("circle").attr({class:"grid-circle"}).style(E),q.attr("r",r),q.exit().remove()}G.select("circle.outside-circle").attr({r:y}).style(E);var Z=e.select("circle.background-circle").attr({r:y}).style({fill:f.backgroundColor,stroke:f.stroke});function X(e,t){return l(e)%360+f.orientation}if(f.radialAxis.visible){var U=a.svg.axis().scale(r).ticks(5).tickSize(5);G.call(U).attr({transform:"rotate("+f.radialAxis.orientation+")"}),G.selectAll(".domain").style(E),G.selectAll("g>text").text(function(e,t){return this.textContent+f.radialAxis.ticksSuffix}).style(F).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===f.radialAxis.tickOrientation?"rotate("+-f.radialAxis.orientation+") translate("+[0,F["font-size"]]+")":"translate("+[0,F["font-size"]]+")"}}),G.selectAll("g>line").style({stroke:"black"})}var W=e.select(".angular.axis-group").selectAll("g.angular-tick").data(P),Y=W.enter().append("g").classed("angular-tick",!0);W.attr({transform:function(e,t){return"rotate("+X(e)+")"}}).style({display:f.angularAxis.visible?"block":"none"}),W.exit().remove(),Y.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(f.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(f.minorTicks+1)==0)}).style(E),Y.selectAll(".minor").style({stroke:f.minorTickColor}),W.select("line.grid-line").attr({x1:f.tickLength?y-f.tickLength:0,x2:y}).style({display:f.angularAxis.gridLinesVisible?"block":"none"}),Y.append("text").classed("axis-text",!0).style(F);var Q=W.select("text.axis-text").attr({x:y+f.labelOffset,dy:i+"em",transform:function(e,t){var r=X(e),a=y+f.labelOffset,n=f.angularAxis.tickOrientation;return"horizontal"==n?"rotate("+-r+" "+a+" 0)":"radial"==n?r<270&&r>90?"rotate(180 "+a+" 0)":null:"rotate("+(r<=180&&r>0?-90:90)+" "+a+" 0)"}}).style({"text-anchor":"middle",display:f.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(f.minorTicks+1)!=0?"":_?_[e]+f.angularAxis.ticksSuffix:e+f.angularAxis.ticksSuffix}).style(F);f.angularAxis.rewriteTicks&&Q.text(function(e,t){return t%(f.minorTicks+1)!=0?"":f.angularAxis.rewriteTicks(this.textContent,t)});var J=a.max(D.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));R.attr({transform:"translate("+[y+J,f.margin.top]+")"});var $=e.select("g.geometry-group").selectAll("g").size()>0,K=e.select("g.geometry-group").selectAll("g.geometry").data(p);if(K.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),K.exit().remove(),p[0]||$){var ee=[];p.forEach(function(e,t){var a={};a.radialScale=r,a.angularScale=l,a.container=K.filter(function(e,r){return r==t}),a.geometry=e.geometry,a.orientation=f.orientation,a.direction=f.direction,a.index=t,ee.push({data:e,geometryConfig:a})});var te=[];a.nest().key(function(e,t){return void 0!==e.data.groupId||"unstacked"}).entries(ee).forEach(function(e,t){"unstacked"===e.key?te=te.concat(e.values.map(function(e,t){return[e]})):te.push(e.values)}),te.forEach(function(e,t){var r;r=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var a=e.map(function(e,t){return n(o[r].defaultConfig(),e)});o[r]().config(a)()})}var re,ae,ne=e.select(".guides-group"),ie=e.select(".tooltips-group"),oe=o.tooltipPanel().config({container:ie,fontSize:8})(),le=o.tooltipPanel().config({container:ie,fontSize:8})(),se=o.tooltipPanel().config({container:ie,hasTick:!0})();if(!k){var ce=ne.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});D.on("mousemove.angular-guide",function(e,t){var r=o.util.getMousePos(Z).angle;ce.attr({x2:-y,transform:"rotate("+r+")"}).style({opacity:.5});var a=(r+180+360-f.orientation)%360;re=l.invert(a);var n=o.util.convertToCartesian(y+12,r+180);oe.text(o.util.round(re)).move([n[0]+b[0],n[1]+b[1]])}).on("mouseout.angular-guide",function(e,t){ne.select("line").style({opacity:0})})}var ue=ne.select("circle").style({stroke:"grey",fill:"none"});D.on("mousemove.radial-guide",function(e,t){var a=o.util.getMousePos(Z).radius;ue.attr({r:a}).style({opacity:.5}),ae=r.invert(o.util.getMousePos(Z).radius);var n=o.util.convertToCartesian(a,f.radialAxis.orientation);le.text(o.util.round(ae)).move([n[0]+b[0],n[1]+b[1]])}).on("mouseout.radial-guide",function(e,t){ue.style({opacity:0}),se.hide(),oe.hide(),le.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,r){var n=a.select(this),i=this.style.fill,l="black",s=this.style.opacity||1;if(n.attr({"data-opacity":s}),i&&"none"!==i){n.attr({"data-fill":i}),l=a.hsl(i).darker().toString(),n.style({fill:l,opacity:1});var c={t:o.util.round(t[0]),r:o.util.round(t[1])};k&&(c.t=_[t[0]]);var u="t: "+c.t+", r: "+c.r,d=this.getBoundingClientRect(),f=e.node().getBoundingClientRect(),p=[d.left+d.width/2-H[0]-f.left,d.top+d.height/2-H[1]-f.top];se.config({color:l}).text(u),se.move(p)}else i=this.style.stroke||"black",n.attr({"data-stroke":i}),l=a.hsl(i).darker().toString(),n.style({stroke:l,opacity:1})}).on("mousemove.tooltip",function(e,t){if(0!=a.event.which)return!1;a.select(this).attr("data-fill")&&se.show()}).on("mouseout.tooltip",function(e,t){se.hide();var r=a.select(this),n=r.attr("data-fill");n?r.style({fill:n,opacity:r.attr("data-opacity")}):r.style({stroke:r.attr("data-stroke"),opacity:r.attr("data-opacity")})})})}(c),this},f.config=function(e){if(!arguments.length)return s;var t=o.util.cloneJson(e);return t.data.forEach(function(e,t){s.data[t]||(s.data[t]={}),n(s.data[t],o.Axis.defaultConfig().data[0]),n(s.data[t],e)}),n(s.layout,o.Axis.defaultConfig().layout),n(s.layout,t.layout),this},f.getLiveConfig=function(){return u},f.getinputConfig=function(){return c},f.radialScale=function(e){return r},f.angularScale=function(e){return l},f.svg=function(){return e},a.rebind(f,d,"on"),f},o.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:a.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},o.util={},o.DATAEXTENT="dataExtent",o.AREA="AreaChart",o.LINE="LinePlot",o.DOT="DotPlot",o.BAR="BarChart",o.util._override=function(e,t){for(var r in e)r in t&&(t[r]=e[r])},o.util._extend=function(e,t){for(var r in e)t[r]=e[r]},o.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},o.util.dataFromEquation2=function(e,t){var r=t||6;return a.range(0,360+r,r).map(function(t,r){var a=t*Math.PI/180;return[t,e(a)]})},o.util.dataFromEquation=function(e,t,r){var n=t||6,i=[],o=[];a.range(0,360+n,n).forEach(function(t,r){var a=t*Math.PI/180,n=e(a);i.push(t),o.push(n)});var l={t:i,r:o};return r&&(l.name=r),l},o.util.ensureArray=function(e,t){if(void 0===e)return null;var r=[].concat(e);return a.range(t).map(function(e,t){return r[t]||r[0]})},o.util.fillArrays=function(e,t,r){return t.forEach(function(t,a){e[t]=o.util.ensureArray(e[t],r)}),e},o.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},o.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var r=t.shift();return e[r]&&(!t.length||objHasKeys(e[r],t))},o.util.sumArrays=function(e,t){return a.zip(e,t).map(function(e,t){return a.sum(e)})},o.util.arrayLast=function(e){return e[e.length-1]},o.util.arrayEqual=function(e,t){for(var r=Math.max(e.length,t.length,1);r-- >=0&&e[r]===t[r];);return-2===r},o.util.flattenArray=function(e){for(var t=[];!o.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},o.util.deduplicate=function(e){return e.filter(function(e,t,r){return r.indexOf(e)==t})},o.util.convertToCartesian=function(e,t){var r=t*Math.PI/180;return[e*Math.cos(r),e*Math.sin(r)]},o.util.round=function(e,t){var r=t||2,a=Math.pow(10,r);return Math.round(e*a)/a},o.util.getMousePos=function(e){var t=a.mouse(e.node()),r=t[0],n=t[1],i={};return i.x=r,i.y=n,i.pos=t,i.angle=180*(Math.atan2(n,r)+Math.PI)/Math.PI,i.radius=Math.sqrt(r*r+n*n),i},o.util.duplicatesCount=function(e){for(var t,r={},a={},n=0,i=e.length;n<i;n++)(t=e[n])in r?(r[t]++,a[t]=r[t]):r[t]=1;return a},o.util.duplicates=function(e){return Object.keys(o.util.duplicatesCount(e))},o.util.translator=function(e,t,r,a){if(a){var n=r.slice();r=t,t=n}var i=t.reduce(function(e,t){if(void 0!==e)return e[t]},e);void 0!==i&&(t.reduce(function(e,r,a){if(void 0!==e)return a===t.length-1&&delete e[r],e[r]},e),r.reduce(function(e,t,a){return void 0===e[t]&&(e[t]={}),a===r.length-1&&(e[t]=i),e[t]},e))},o.PolyChart=function(){var e=[o.PolyChart.defaultConfig()],t=a.dispatch("hover"),r={solid:"none",dash:[5,2],dot:[2,5]};function i(){var t=e[0].geometryConfig,n=t.container;"string"==typeof n&&(n=a.select(n)),n.datum(e).each(function(e,n){var i=!!e[0].data.yStack,o=e.map(function(e,t){return i?a.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):a.zip(e.data.t[0],e.data.r[0])}),l=t.angularScale,s=t.radialScale.domain()[0],c={bar:function(r,n,i){var o=e[i].data,s=t.radialScale(r[1])-t.radialScale(0),c=t.radialScale(r[2]||0),u=o.barWidth;a.select(this).attr({class:"mark bar",d:"M"+[[s+c,-u/2],[s+c,u/2],[c,u/2],[c,-u/2]].join("L")+"Z",transform:function(e,r){return"rotate("+(t.orientation+l(e[0]))+")"}})}};c.dot=function(r,n,i){var o=r[2]?[r[0],r[1]+r[2]]:r,l=a.svg.symbol().size(e[i].data.dotSize).type(e[i].data.dotType)(r,n);a.select(this).attr({class:"mark dot",d:l,transform:function(e,r){var a,n,i,l=(a=function(e,r){var a=t.radialScale(e[1]),n=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:a,t:n}}(o),n=a.r*Math.cos(a.t),i=a.r*Math.sin(a.t),{x:n,y:i});return"translate("+[l.x,l.y]+")"}})};var u=a.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});c.line=function(r,n,i){var l=r[2]?o[i].map(function(e,t){return[e[0],e[1]+e[2]]}):o[i];if(a.select(this).each(c.dot).style({opacity:function(t,r){return+e[i].data.dotVisible},fill:h.stroke(r,n,i)}).attr({class:"mark dot"}),!(n>0)){var s=a.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:u(l),transform:function(e,r){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return h.fill(r,n,i)},"fill-opacity":0,stroke:function(e,t){return h.stroke(r,n,i)},"stroke-width":function(e,t){return h["stroke-width"](r,n,i)},"stroke-dasharray":function(e,t){return h["stroke-dasharray"](r,n,i)},opacity:function(e,t){return h.opacity(r,n,i)},display:function(e,t){return h.display(r,n,i)}})}};var d=t.angularScale.range(),f=Math.abs(d[1]-d[0])/o[0].length*Math.PI/180,p=a.svg.arc().startAngle(function(e){return-f/2}).endAngle(function(e){return f/2}).innerRadius(function(e){return t.radialScale(s+(e[2]||0))}).outerRadius(function(e){return t.radialScale(s+(e[2]||0))+t.radialScale(e[1])});c.arc=function(e,r,n){a.select(this).attr({class:"mark arc",d:p,transform:function(e,r){return"rotate("+(t.orientation+l(e[0])+90)+")"}})};var h={fill:function(t,r,a){return e[a].data.color},stroke:function(t,r,a){return e[a].data.strokeColor},"stroke-width":function(t,r,a){return e[a].data.strokeSize+"px"},"stroke-dasharray":function(t,a,n){return r[e[n].data.strokeDash]},opacity:function(t,r,a){return e[a].data.opacity},display:function(t,r,a){return void 0===e[a].data.visible||e[a].data.visible?"block":"none"}},g=a.select(this).selectAll("g.layer").data(o);g.enter().append("g").attr({class:"layer"});var v=g.selectAll("path.mark").data(function(e,t){return e});v.enter().append("path").attr({class:"mark"}),v.style(h).each(c[t.geometryType]),v.exit().remove(),g.exit().remove()})}return i.config=function(t){return arguments.length?(t.forEach(function(t,r){e[r]||(e[r]={}),n(e[r],o.PolyChart.defaultConfig()),n(e[r],t)}),this):e},i.getColorScale=function(){},a.rebind(i,t,"on"),i},o.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:a.scale.category20()}}},o.BarChart=function(){return o.PolyChart()},o.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},o.AreaChart=function(){return o.PolyChart()},o.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},o.DotPlot=function(){return o.PolyChart()},o.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},o.LinePlot=function(){return o.PolyChart()},o.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},o.Legend=function(){var e=o.Legend.defaultConfig(),t=a.dispatch("hover");function r(){var t=e.legendConfig,i=e.data.map(function(e,r){return[].concat(e).map(function(e,a){var i=n({},t.elements[r]);return i.name=e,i.color=[].concat(t.elements[r].color)[a],i})}),o=a.merge(i);o=o.filter(function(e,r){return t.elements[r]&&(t.elements[r].visibleInLegend||void 0===t.elements[r].visibleInLegend)}),t.reverseOrder&&(o=o.reverse());var l=t.container;("string"==typeof l||l.nodeName)&&(l=a.select(l));var s=o.map(function(e,t){return e.color}),c=t.fontSize,u=null==t.isContinuous?"number"==typeof o[0]:t.isContinuous,d=u?t.height:c*o.length,f=l.classed("legend-group",!0).selectAll("svg").data([0]),p=f.enter().append("svg").attr({width:300,height:d+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});p.append("g").classed("legend-axis",!0),p.append("g").classed("legend-marks",!0);var h=a.range(o.length),g=a.scale[u?"linear":"ordinal"]().domain(h).range(s),v=a.scale[u?"linear":"ordinal"]().domain(h)[u?"range":"rangePoints"]([0,d]);if(u){var m=f.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(s);m.enter().append("stop"),m.attr({offset:function(e,t){return t/(s.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),f.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var y=f.select(".legend-marks").selectAll("path.legend-mark").data(o);y.enter().append("path").classed("legend-mark",!0),y.attr({transform:function(e,t){return"translate("+[c/2,v(t)+c/2]+")"},d:function(e,t){var r,n,i,o=e.symbol;return i=3*(n=c),"line"===(r=o)?"M"+[[-n/2,-n/12],[n/2,-n/12],[n/2,n/12],[-n/2,n/12]]+"Z":-1!=a.svg.symbolTypes.indexOf(r)?a.svg.symbol().type(r).size(i)():a.svg.symbol().type("square").size(i)()},fill:function(e,t){return g(t)}}),y.exit().remove()}var x=a.svg.axis().scale(v).orient("right"),b=f.select("g.legend-axis").attr({transform:"translate("+[u?t.colorBandWidth:c,c/2]+")"}).call(x);return b.selectAll(".domain").style({fill:"none",stroke:"none"}),b.selectAll("line").style({fill:"none",stroke:u?t.textColor:"none"}),b.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text(function(e,t){return o[t].name}),r}return r.config=function(t){return arguments.length?(n(e,t),this):e},a.rebind(r,t,"on"),r},o.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},o.tooltipPanel=function(){var e,t,r,i={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+o.tooltipPanel.uid++,s=10,c=function(){var a=(e=i.container.selectAll("g."+l).data([0])).enter().append("g").classed(l,!0).style({"pointer-events":"none",display:"none"});return r=a.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=a.append("text").attr({dx:i.padding+s,dy:.3*+i.fontSize}),c};return c.text=function(n){var o=a.hsl(i.color).l,l=o>=.5?"#aaa":"white",u=o>=.5?"black":"white",d=n||"";t.style({fill:u,"font-size":i.fontSize+"px"}).text(d);var f=i.padding,p=t.node().getBBox(),h={fill:i.color,stroke:l,"stroke-width":"2px"},g=p.width+2*f+s,v=p.height+2*f;return r.attr({d:"M"+[[s,-v/2],[s,-v/4],[i.hasTick?0:s,0],[s,v/4],[s,v/2],[g,v/2],[g,-v/2]].join("L")+"Z"}).style(h),e.attr({transform:"translate("+[s,-v/2+2*f]+")"}),e.style({display:"block"}),c},c.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),c},c.hide=function(){if(e)return e.style({display:"none"}),c},c.show=function(){if(e)return e.style({display:"block"}),c},c.config=function(e){return n(i,e),c},c},o.tooltipPanel.uid=1,o.adapter={},o.adapter.plotly=function(){var e={convert:function(e,t){var r={};if(e.data&&(r.data=e.data.map(function(e,r){var a=n({},e);return[[a,["marker","color"],["color"]],[a,["marker","opacity"],["opacity"]],[a,["marker","line","color"],["strokeColor"]],[a,["marker","line","dash"],["strokeDash"]],[a,["marker","line","width"],["strokeSize"]],[a,["marker","symbol"],["dotType"]],[a,["marker","size"],["dotSize"]],[a,["marker","barWidth"],["barWidth"]],[a,["line","interpolation"],["lineInterpolation"]],[a,["showlegend"],["visibleInLegend"]]].forEach(function(e,r){o.util.translator.apply(null,e.concat(t))}),t||delete a.marker,t&&delete a.groupId,t?("LinePlot"===a.geometry?(a.type="scatter",!0===a.dotVisible?(delete a.dotVisible,a.mode="lines+markers"):a.mode="lines"):"DotPlot"===a.geometry?(a.type="scatter",a.mode="markers"):"AreaChart"===a.geometry?a.type="area":"BarChart"===a.geometry&&(a.type="bar"),delete a.geometry):("scatter"===a.type?"lines"===a.mode?a.geometry="LinePlot":"markers"===a.mode?a.geometry="DotPlot":"lines+markers"===a.mode&&(a.geometry="LinePlot",a.dotVisible=!0):"area"===a.type?a.geometry="AreaChart":"bar"===a.type&&(a.geometry="BarChart"),delete a.mode,delete a.type),a}),!t&&e.layout&&"stack"===e.layout.barmode)){var i=o.util.duplicates(r.data.map(function(e,t){return e.geometry}));r.data.forEach(function(e,t){var a=i.indexOf(e.geometry);-1!=a&&(r.data[t].groupId=a)})}if(e.layout){var l=n({},e.layout);if([[l,["plot_bgcolor"],["backgroundColor"]],[l,["showlegend"],["showLegend"]],[l,["radialaxis"],["radialAxis"]],[l,["angularaxis"],["angularAxis"]],[l.angularaxis,["showline"],["gridLinesVisible"]],[l.angularaxis,["showticklabels"],["labelsVisible"]],[l.angularaxis,["nticks"],["ticksCount"]],[l.angularaxis,["tickorientation"],["tickOrientation"]],[l.angularaxis,["ticksuffix"],["ticksSuffix"]],[l.angularaxis,["range"],["domain"]],[l.angularaxis,["endpadding"],["endPadding"]],[l.radialaxis,["showline"],["gridLinesVisible"]],[l.radialaxis,["tickorientation"],["tickOrientation"]],[l.radialaxis,["ticksuffix"],["ticksSuffix"]],[l.radialaxis,["range"],["domain"]],[l.angularAxis,["showline"],["gridLinesVisible"]],[l.angularAxis,["showticklabels"],["labelsVisible"]],[l.angularAxis,["nticks"],["ticksCount"]],[l.angularAxis,["tickorientation"],["tickOrientation"]],[l.angularAxis,["ticksuffix"],["ticksSuffix"]],[l.angularAxis,["range"],["domain"]],[l.angularAxis,["endpadding"],["endPadding"]],[l.radialAxis,["showline"],["gridLinesVisible"]],[l.radialAxis,["tickorientation"],["tickOrientation"]],[l.radialAxis,["ticksuffix"],["ticksSuffix"]],[l.radialAxis,["range"],["domain"]],[l.font,["outlinecolor"],["outlineColor"]],[l.legend,["traceorder"],["reverseOrder"]],[l,["labeloffset"],["labelOffset"]],[l,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(e,r){o.util.translator.apply(null,e.concat(t))}),t?(void 0!==l.tickLength&&(l.angularaxis.ticklen=l.tickLength,delete l.tickLength),l.tickColor&&(l.angularaxis.tickcolor=l.tickColor,delete l.tickColor)):(l.angularAxis&&void 0!==l.angularAxis.ticklen&&(l.tickLength=l.angularAxis.ticklen),l.angularAxis&&void 0!==l.angularAxis.tickcolor&&(l.tickColor=l.angularAxis.tickcolor)),l.legend&&"boolean"!=typeof l.legend.reverseOrder&&(l.legend.reverseOrder="normal"!=l.legend.reverseOrder),l.legend&&"boolean"==typeof l.legend.traceorder&&(l.legend.traceorder=l.legend.traceorder?"reversed":"normal",delete l.legend.reverseOrder),l.margin&&void 0!==l.margin.t){var s=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],u={};a.entries(l.margin).forEach(function(e,t){u[c[s.indexOf(e.key)]]=e.value}),l.margin=u}t&&(delete l.needsEndSpacing,delete l.minorTickColor,delete l.minorTicks,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksStep,delete l.angularaxis.rewriteTicks,delete l.angularaxis.nticks,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksStep,delete l.radialaxis.rewriteTicks,delete l.radialaxis.nticks),r.layout=l}return r}};return e}},function(e,t,r){"use strict";var a=r(1),n=r(491),i=r(57),o=r(0),l=r(407),s=r(445),c=r(446),u=r(490).version,d={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};e.exports=function(e,t){var r,f,p,h;function g(e){return!(e in t)||o.validate(t[e],d[e])}if(t=t||{},o.isPlainObject(e)?(r=e.data||[],f=e.layout||{},p=e.config||{},h={}):(e=o.getGraphDiv(e),r=o.extendDeep([],e.data),f=o.extendDeep({},e.layout),p=e._context,h=e._fullLayout||{}),!g("width")&&null!==t.width||!g("height")&&null!==t.height)throw new Error("Height and width should be pixel values.");if(!g("format"))throw new Error("Export format is not "+o.join2(d.format.values,", "," or ")+".");var v={};function m(e,r){return o.coerce(t,v,d,e,r)}var y=m("format"),x=m("width"),b=m("height"),_=m("scale"),w=m("setBackground"),k=m("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var T=o.extendFlat({},f);x?T.width=x:null===t.width&&a(h.width)&&(T.width=h.width),b?T.height=b:null===t.height&&a(h.height)&&(T.height=h.height);var M=o.extendFlat({},p,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),L=l.getRedrawFunc(A);function C(){return new Promise(function(e){setTimeout(e,l.getDelay(A._fullLayout))})}function S(){return new Promise(function(e,t){var r=s(A,y,_),a=A._fullLayout.width,d=A._fullLayout.height;function f(){n.purge(A),document.body.removeChild(A)}if("full-json"===y){var p=i.graphJson(A,!1,"keepdata","object",!0,!0);return p.version=u,p=JSON.stringify(p),f(),e(k?p:l.encodeJSON(p))}if(f(),"svg"===y)return e(k?r:l.encodeSVG(r));var h=document.createElement("canvas");h.id=o.randstr(),c({format:y,width:a,height:d,scale:_,canvas:h,svg:r,promise:!0}).then(e).catch(t)})}return new Promise(function(e,t){n.plot(A,r,T,M).then(L).then(C).then(S).then(function(t){e(function(e){return k?e.replace(l.IMAGE_URL_PREFIX,""):e}(t))}).catch(function(e){t(e)})})}},function(e,t,r){"use strict";var a=r(0),n=r(494),i=r(529),o=r(407);e.exports=function(e,t){var r;return a.isPlainObject(e)||(r=a.getGraphDiv(e)),(t=t||{}).format=t.format||"png",t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise(function(l,s){r&&r._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),a.isIE()&&"svg"!==t.format&&s(new Error(o.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var c=n(e,t),u=t.filename||e.fn||"newplot";u+="."+t.format.replace("-","."),c.then(function(e){return r&&(r._snapshotInProgress=!1),i(e,u,t.format)}).then(function(e){l(e)}).catch(function(e){r&&(r._snapshotInProgress=!1),s(e)})})}},function(e,t,r){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},function(e,t,r){"use strict";var a=r(0),n=r(14);e.exports=function(e,t,r,i){i("opacity");var o=i("bgcolor"),l=i("bordercolor"),s=n.opacity(l);i("borderpad");var c=i("borderwidth"),u=i("showarrow");if(i("text",u?" ":r._dfltTitle.annotation),i("textangle"),a.coerceFont(i,"font",r.font),i("width"),i("align"),i("height")&&i("valign"),u){var d,f,p=i("arrowside");-1!==p.indexOf("end")&&(d=i("arrowhead"),f=i("arrowsize")),-1!==p.indexOf("start")&&(i("startarrowhead",d),i("startarrowsize",f)),i("arrowcolor",s?t.bordercolor:n.defaultLine),i("arrowwidth",2*(s&&c||1)),i("standoff"),i("startstandoff")}var h=i("hovertext"),g=r.hoverlabel||{};if(h){var v=i("hoverlabel.bgcolor",g.bgcolor||(n.opacity(o)?n.rgb(o):n.defaultLine)),m=i("hoverlabel.bordercolor",g.bordercolor||n.contrast(v));a.coerceFont(i,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||m})}i("captureevents",!!h)}},function(e,t,r){"use strict";var a=r(425),n=r(110).line,i=r(47).dash,o=r(7).extendFlat,l=r(17).templatedArray;r(466);e.exports=l("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:o({},a.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:o({},a.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:o({},n.color,{editType:"arraydraw"}),width:o({},n.width,{editType:"calc+arraydraw"}),dash:o({},i,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},function(e,t,r){"use strict";var a=r(26),n=r(17).templatedArray;r(466);e.exports=n("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},function(e,t,r){"use strict";var a=r(11),n=r(40),i=r(7).extendFlat,o=r(42).overrideAll,l=r(125),s=r(17).templatedArray,c=s("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});e.exports=o(s("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(l({editType:"arraydraw"}),{}),font:a({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:n.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},function(e,t,r){"use strict";var a=r(11),n=r(125),i=r(7).extendDeepAll,o=r(42).overrideAll,l=r(46),s=r(17).templatedArray,c=r(426),u=s("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});e.exports=o(s("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:u,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(n({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:a({})},font:a({}),activebgcolor:{valType:"color",dflt:c.gripBgActiveColor},bgcolor:{valType:"color",dflt:c.railBgColor},bordercolor:{valType:"color",dflt:c.railBorderColor},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth},ticklen:{valType:"number",min:0,dflt:c.tickLength},tickcolor:{valType:"color",dflt:c.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength}}),"arraydraw","from-root")},function(e,t,r){"use strict";e.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},function(e,t,r){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},function(e,t,r){"use strict";e.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},function(e,t,r){"use strict";function a(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}e.exports=function(e){var t=e.type,r=e.symmetric;if("data"===t){var n=e.array||[];if(r)return function(e,t){var r=+n[t];return[r,r]};var i=e.arrayminus||[];return function(e,t){var r=+n[t],a=+i[t];return isNaN(r)&&isNaN(a)?[NaN,NaN]:[a||0,r||0]}}var o=a(t,e.value),l=a(t,e.valueminus);return r||void 0===e.valueminus?function(e){var t=o(e);return[t,t]}:function(e){return[l(e),o(e)]}}},function(e,t,r){"use strict";var a=r(3),n=r(0),i=n.extendFlat,o=n.extendDeep;function l(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}e.exports=function(e,t){var r;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var n,s=e.data,c=e.layout,u=o([],s),d=o({},c,l(t.tileClass)),f=e._context||{};if(t.width&&(d.width=t.width),t.height&&(d.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){d.annotations=[];var p=Object.keys(d);for(r=0;r<p.length;r++)n=p[r],["xaxis","yaxis","zaxis"].indexOf(n.slice(0,5))>-1&&(d[p[r]].title={text:""});for(r=0;r<u.length;r++){var h=u[r];h.showscale=!1,h.marker&&(h.marker.showscale=!1),a.traceIs(h,"pie-like")&&(h.textposition="none")}}if(Array.isArray(t.annotations))for(r=0;r<t.annotations.length;r++)d.annotations.push(t.annotations[r]);var g=Object.keys(d).filter(function(e){return e.match(/^scene\d*$/)});if(g.length){var v={};for("thumbnail"===t.tileClass&&(v={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<g.length;r++){var m=d[g[r]];m.xaxis||(m.xaxis={}),m.yaxis||(m.yaxis={}),m.zaxis||(m.zaxis={}),i(m.xaxis,v),i(m.yaxis,v),i(m.zaxis,v),m._scene=null}}var y=document.createElement("div");t.tileClass&&(y.className=t.tileClass);var x={gd:y,td:y,layout:d,data:u,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return"transparent"!==t.setBackground&&(x.config.setBackground=t.setBackground||"opaque"),x.gd.defaultLayout=l(t.tileClass),x}},,,,,,,,,,function(e,t,r){"use strict";e.exports=r(517)},function(e,t,r){"use strict";t.version=r(490).version,r(518).polyfill(),r(519),r(520)();for(var a=r(3),n=t.register=a.register,i=r(521),o=Object.keys(i),l=0;l<o.length;l++){var s=o[l];"_"!==s.charAt(0)&&(t[s]=i[s]),n({moduleType:"apiMethod",name:s,fn:i[s]})}n(r(447)),n([r(531),r(329),r(532),r(538),r(543),r(547),r(551),r(555),r(558),r(563),r(567),r(568),r(121),r(573)]),n([r(576),r(577)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(n(window.PlotlyLocales),delete window.PlotlyLocales),t.Icons=r(349),t.Plots=r(57),t.Fx=r(329),t.Snapshot=r(578),t.PlotSchema=r(65),t.Queue=r(492),t.d3=r(4)},function(e,t,r){(function(t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var a;a=function(){"use strict";function e(e){return"function"==typeof e}var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,i=void 0,o=void 0,l=function(e,t){h[n]=e,h[n+1]=t,2===(n+=2)&&(o?o(g):b())};var s="undefined"!=typeof window?window:void 0,c=s||{},u=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(g,1)}}var h=new Array(1e3);function g(){for(var e=0;e<n;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}n=0}var v,m,y,x,b=void 0;function _(e,t){var r=this,a=new this.constructor(A);void 0===a[k]&&F(a);var n=r._state;if(n){var i=arguments[n-1];l(function(){return D(n,a,i,r._result)})}else I(r,a,e,t);return a}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(A);return S(t,e),t}d?b=function(){return t.nextTick(g)}:u?(m=0,y=new u(g),x=document.createTextNode(""),y.observe(x,{characterData:!0}),b=function(){x.data=m=++m%2}):f?((v=new MessageChannel).port1.onmessage=g,b=function(){return v.port2.postMessage(0)}):b=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(g)}:p()}catch(e){return p()}}():p();var k=Math.random().toString(36).substring(2);function A(){}var T=void 0,M=1,L=2;function C(t,r,a){r.constructor===t.constructor&&a===_&&r.constructor.resolve===w?function(e,t){t._state===M?P(e,t._result):t._state===L?O(e,t._result):I(t,void 0,function(t){return S(e,t)},function(t){return O(e,t)})}(t,r):void 0===a?P(t,r):e(a)?function(e,t,r){l(function(e){var a=!1,n=function(e,t,r,a){try{e.call(t,r,a)}catch(e){return e}}(r,t,function(r){a||(a=!0,t!==r?S(e,r):P(e,r))},function(t){a||(a=!0,O(e,t))},e._label);!a&&n&&(a=!0,O(e,n))},e)}(t,r,a):P(t,r)}function S(e,t){if(e===t)O(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof(a=t),null===a||"object"!==n&&"function"!==n)P(e,t);else{var r=void 0;try{r=t.then}catch(t){return void O(e,t)}C(e,t,r)}var a,n}function z(e){e._onerror&&e._onerror(e._result),R(e)}function P(e,t){e._state===T&&(e._result=t,e._state=M,0!==e._subscribers.length&&l(R,e))}function O(e,t){e._state===T&&(e._state=L,e._result=t,l(z,e))}function I(e,t,r,a){var n=e._subscribers,i=n.length;e._onerror=null,n[i]=t,n[i+M]=r,n[i+L]=a,0===i&&e._state&&l(R,e)}function R(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var a=void 0,n=void 0,i=e._result,o=0;o<t.length;o+=3)a=t[o],n=t[o+r],a?D(r,a,n,i):n(i);e._subscribers.length=0}}function D(t,r,a,n){var i=e(a),o=void 0,l=void 0,s=!0;if(i){try{o=a(n)}catch(e){s=!1,l=e}if(r===o)return void O(r,new TypeError("A promises callback cannot return that same promise."))}else o=n;r._state!==T||(i&&s?S(r,o):!1===s?O(r,l):t===M?P(r,o):t===L&&O(r,o))}var E=0;function F(e){e[k]=E++,e._state=void 0,e._result=void 0,e._subscribers=[]}var B=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[k]||F(this.promise),a(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&P(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===T&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,a=r.resolve;if(a===w){var n=void 0,i=void 0,o=!1;try{n=e.then}catch(e){o=!0,i=e}if(n===_&&e._state!==T)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(r===N){var l=new r(A);o?O(l,i):C(l,e,n),this._willSettleAt(l,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(a(e),t)},e.prototype._settledAt=function(e,t,r){var a=this.promise;a._state===T&&(this._remaining--,e===L?O(a,r):this._result[t]=r),0===this._remaining&&P(a,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;I(e,void 0,function(e){return r._settledAt(M,t,e)},function(e){return r._settledAt(L,t,e)})},e}();var N=function(){function t(e){this[k]=E++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){S(e,t)},function(t){O(e,t)})}catch(t){O(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return N.prototype.then=_,N.all=function(e){return new B(this,e).promise},N.race=function(e){var t=this;return a(e)?new t(function(r,a){for(var n=e.length,i=0;i<n;i++)t.resolve(e[i]).then(r,a)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},N.resolve=w,N.reject=function(e){var t=new this(A);return O(t,e),t},N._setScheduler=function(e){o=e},N._setAsap=function(e){l=e},N._asap=l,N.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var a=null;try{a=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===a&&!t.cast)return}e.Promise=N},N.Promise=N,N},e.exports=a()}).call(t,r(128),r(10))},function(e,t,r){"use strict";var a=r(0),n={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans', verdana, arial, sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in n){var o=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");a.addStyleRule(o,n[i])}},function(e,t,r){"use strict";e.exports=function(){"undefined"!=typeof MathJax&&("local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()))}},function(e,t,r){"use strict";var a=r(491);t.plot=a.plot,t.newPlot=a.newPlot,t.restyle=a.restyle,t.relayout=a.relayout,t.redraw=a.redraw,t.update=a.update,t._guiRestyle=a._guiRestyle,t._guiRelayout=a._guiRelayout,t._guiUpdate=a._guiUpdate,t._storeDirectGUIEdit=a._storeDirectGUIEdit,t.react=a.react,t.extendTraces=a.extendTraces,t.prependTraces=a.prependTraces,t.addTraces=a.addTraces,t.deleteTraces=a.deleteTraces,t.moveTraces=a.moveTraces,t.purge=a.purge,t.addFrames=a.addFrames,t.deleteFrames=a.deleteFrames,t.animate=a.animate,t.setPlotConfig=a.setPlotConfig,t.toImage=r(494),t.validate=r(528),t.downloadImage=r(495);var n=r(530);t.makeTemplate=n.makeTemplate,t.validateTemplate=n.validateTemplate},function(e,t,r){"use strict";(e.exports=r(493)).manager=r(523)},function(e,t,r){"use strict";var a=r(4),n=r(0),i=r(14),o=r(493),l=r(524),s=n.extendDeepAll,c=e.exports={};c.framework=function(e){var t,r,n,i,u,d=new l;function f(r,l){return l&&(u=l),a.select(a.select(u).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?s(t,r):r,n||(n=o.Axis()),i=o.adapter.plotly().convert(t),n.config(i).render(u),e.data=t.data,e.layout=t.layout,c.fillLayout(e),t}return f.isPolar=!0,f.svg=function(){return n.svg()},f.getConfig=function(){return t},f.getLiveConfig=function(){return o.adapter.plotly().convert(n.getLiveConfig(),!0)},f.getLiveScales=function(){return{t:n.angularScale(),r:n.radialScale()}},f.setUndoPoint=function(){var e,a,n=this,i=o.util.cloneJson(t);e=i,a=r,d.add({undo:function(){a&&n(a)},redo:function(){n(e)}}),r=o.util.cloneJson(i)},f.undo=function(){d.undo()},f.redo=function(){d.redo()},f},c.fillLayout=function(e){var t=a.select(e).selectAll(".plot-container"),r=t.selectAll(".svg-container"),n=e.framework&&e.framework.svg&&e.framework.svg(),o={width:800,height:600,paper_bgcolor:i.background,_container:t,_paperdiv:r,_paper:n};e._fullLayout=s(o,e.layout)}},function(e,t,r){"use strict";e.exports=function(){var e,t=[],r=-1,a=!1;function n(e,t){return e?(a=!0,e[t](),a=!1,this):this}return{add:function(e){return a?this:(t.splice(r+1,t.length-r),t.push(e),r=t.length-1,this)},setCallback:function(t){e=t},undo:function(){var a=t[r];return a?(n(a,"undo"),r-=1,e&&e(a.undo),this):this},redo:function(){var a=t[r+1];return a?(n(a,"redo"),r+=1,e&&e(a.redo),this):this},clear:function(){t=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[r-1]},getIndex:function(){return r}}}},function(e,t,r){"use strict";var a=r(31),n=r(66),i=r(22),o=r(130).sorterAsc,l=r(3);t.containerArrayMatch=r(526);var s=t.isAddVal=function(e){return"add"===e||a(e)},c=t.isRemoveVal=function(e){return null===e||"remove"===e};t.applyContainerArrayChanges=function(e,t,r,a,u){var d=t.astr,f=l.getComponentMethod(d,"supplyLayoutDefaults"),p=l.getComponentMethod(d,"draw"),h=l.getComponentMethod(d,"drawOne"),g=a.replot||a.recalc||f===n||p===n,v=e.layout,m=e._fullLayout;if(r[""]){Object.keys(r).length>1&&i.warn("Full array edits are incompatible with other edits",d);var y=r[""][""];if(c(y))t.set(null);else{if(!Array.isArray(y))return i.warn("Unrecognized full array edit value",d,y),!0;t.set(y)}return!g&&(f(v,m),p(e),!0)}var x,b,_,w,k,A,T,M,L=Object.keys(r).map(Number).sort(o),C=t.get(),S=C||[],z=u(m,d).get(),P=[],O=-1,I=S.length;for(x=0;x<L.length;x++)if(w=r[_=L[x]],k=Object.keys(w),A=w[""],T=s(A),_<0||_>S.length-(T?0:1))i.warn("index out of range",d,_);else if(void 0!==A)k.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",d,_),c(A)?P.push(_):T?("add"===A&&(A={}),S.splice(_,0,A),z&&z.splice(_,0,{})):i.warn("Unrecognized full object edit value",d,_,A),-1===O&&(O=_);else for(b=0;b<k.length;b++)M=d+"["+_+"].",u(S[_],k[b],M).set(w[k[b]]);for(x=P.length-1;x>=0;x--)S.splice(P[x],1),z&&z.splice(P[x],1);if(S.length?C||t.set(S):t.set(null),g)return!1;if(f(v,m),h!==n){var R;if(-1===O)R=L;else{for(I=Math.max(S.length,I),R=[],x=0;x<L.length&&!((_=L[x])>=O);x++)R.push(_);for(x=O;x<I;x++)R.push(x)}for(x=0;x<R.length;x++)h(e,R[x])}else p(e);return!0}},function(e,t,r){"use strict";var a=r(3);e.exports=function(e){for(var t,r,n=a.layoutArrayContainers,i=a.layoutArrayRegexes,o=e.split("[")[0],l=0;l<i.length;l++)if((r=e.match(i[l]))&&0===r.index){t=r[0];break}if(t||(t=n[n.indexOf(o)]),!t)return!1;var s=e.substr(t.length);return s?!!(r=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(r[1]),property:r[3]||""}:{array:t,index:"",property:""}}},function(e,t,r){"use strict";var a=r(1),n=r(129),i=r(3),o=r(0),l=r(57),s=r(27),c=r(14),u=s.cleanId,d=s.getFromTrace,f=i.traceIs;function p(e,t){var r=e[t],a=t.charAt(0);r&&"paper"!==r&&(e[t]=u(r,a,!0))}function h(e){function t(t,r){var a=e[t],n=e.title&&e.title[r];a&&!n&&(e.title||(e.title={}),e.title[r]=e[t],delete e[t])}e&&("string"!=typeof e.title&&"number"!=typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function g(e){if(!o.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function v(e,t,r,a){if(r&&!a)return e;if(a&&!r)return t;if(!e.trim())return t;if(!t.trim())return e;var n,i=Math.min(e.length,t.length);for(n=0;n<i&&e.charAt(n)===t.charAt(n);n++);return e.substr(0,n).trim()}function m(e){var t="middle",r="center";return"string"==typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?r="left":-1!==e.indexOf("right")&&(r="right")),t+" "+r}function y(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}t.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&o.log("Clearing previous rejected promises from queue."),e._promises=[]},t.cleanLayout=function(e){var r,a;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var i=(l.subplotsRegistry.cartesian||{}).attrRegex,s=(l.subplotsRegistry.polar||{}).attrRegex,d=(l.subplotsRegistry.ternary||{}).attrRegex,f=(l.subplotsRegistry.gl3d||{}).attrRegex,g=Object.keys(e);for(r=0;r<g.length;r++){var v=g[r];if(i&&i.test(v)){var m=e[v];m.anchor&&"free"!==m.anchor&&(m.anchor=u(m.anchor)),m.overlaying&&(m.overlaying=u(m.overlaying)),m.type||(m.isdate?m.type="date":m.islog?m.type="log":!1===m.isdate&&!1===m.islog&&(m.type="linear")),"withzero"!==m.autorange&&"tozero"!==m.autorange||(m.autorange=!0,m.rangemode="tozero"),delete m.islog,delete m.isdate,delete m.categories,y(m,"domain")&&delete m.domain,void 0!==m.autotick&&(void 0===m.tickmode&&(m.tickmode=m.autotick?"auto":"linear"),delete m.autotick),h(m)}else if(s&&s.test(v)){h(e[v].radialaxis)}else if(d&&d.test(v)){var x=e[v];h(x.aaxis),h(x.baxis),h(x.caxis)}else if(f&&f.test(v)){var b=e[v],_=b.cameraposition;if(Array.isArray(_)&&4===_[0].length){var w=_[0],k=_[1],A=_[2],T=n([],w),M=[];for(a=0;a<3;++a)M[a]=k[a]+A*T[2+4*a];b.camera={eye:{x:M[0],y:M[1],z:M[2]},center:{x:k[0],y:k[1],z:k[2]},up:{x:0,y:0,z:1}},delete b.cameraposition}h(b.xaxis),h(b.yaxis),h(b.zaxis)}}var L=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<L;r++){var C=e.annotations[r];o.isPlainObject(C)&&(C.ref&&("paper"===C.ref?(C.xref="paper",C.yref="paper"):"data"===C.ref&&(C.xref="x",C.yref="y"),delete C.ref),p(C,"xref"),p(C,"yref"))}var S=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<S;r++){var z=e.shapes[r];o.isPlainObject(z)&&(p(z,"xref"),p(z,"yref"))}var P=Array.isArray(e.images)?e.images.length:0;for(r=0;r<P;r++){var O=e.images[r];o.isPlainObject(O)&&(p(O,"xref"),p(O,"yref"))}var I=e.legend;return I&&(I.x>3?(I.x=1.02,I.xanchor="left"):I.x<-2&&(I.x=-.02,I.xanchor="right"),I.y>3?(I.y=1.02,I.yanchor="bottom"):I.y<-2&&(I.y=-.02,I.yanchor="top")),h(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),c.clean(e),e.template&&e.template.layout&&t.cleanLayout(e.template.layout),e},t.cleanData=function(e){for(var r=0;r<e.length;r++){var a,n=e[r];if("histogramy"===n.type&&"xbins"in n&&!("ybins"in n)&&(n.ybins=n.xbins,delete n.xbins),n.error_y&&"opacity"in n.error_y){var s=c.defaults,d=n.error_y.color||(f(n,"bar")?c.defaultLine:s[r%s.length]);n.error_y.color=c.addOpacity(c.rgb(d),c.opacity(d)*n.error_y.opacity),delete n.error_y.opacity}if("bardir"in n&&("h"!==n.bardir||!f(n,"bar")&&"histogram"!==n.type.substr(0,9)||(n.orientation="h",t.swapXYData(n)),delete n.bardir),"histogramy"===n.type&&t.swapXYData(n),"histogramx"!==n.type&&"histogramy"!==n.type||(n.type="histogram"),"scl"in n&&!("colorscale"in n)&&(n.colorscale=n.scl,delete n.scl),"reversescl"in n&&!("reversescale"in n)&&(n.reversescale=n.reversescl,delete n.reversescl),n.xaxis&&(n.xaxis=u(n.xaxis,"x")),n.yaxis&&(n.yaxis=u(n.yaxis,"y")),f(n,"gl3d")&&n.scene&&(n.scene=l.subplotsRegistry.gl3d.cleanId(n.scene)),!f(n,"pie-like")&&!f(n,"bar-like"))if(Array.isArray(n.textposition))for(a=0;a<n.textposition.length;a++)n.textposition[a]=m(n.textposition[a]);else n.textposition&&(n.textposition=m(n.textposition));var p=i.getModule(n);if(p&&p.colorbar){var x=p.colorbar.container,b=x?n[x]:n;b&&b.colorscale&&("YIGnBu"===b.colorscale&&(b.colorscale="YlGnBu"),"YIOrRd"===b.colorscale&&(b.colorscale="YlOrRd"))}if("surface"===n.type&&o.isPlainObject(n.contours)){var _=["x","y","z"];for(a=0;a<_.length;a++){var w=n.contours[_[a]];o.isPlainObject(w)&&(w.highlightColor&&(w.highlightcolor=w.highlightColor,delete w.highlightColor),w.highlightWidth&&(w.highlightwidth=w.highlightWidth,delete w.highlightWidth))}}if("candlestick"===n.type||"ohlc"===n.type){var k=!1!==(n.increasing||{}).showlegend,A=!1!==(n.decreasing||{}).showlegend,T=g(n.increasing),M=g(n.decreasing);if(!1!==T&&!1!==M){var L=v(T,M,k,A);L&&(n.name=L)}else!T&&!M||n.name||(n.name=T||M)}if(Array.isArray(n.transforms)){var C=n.transforms;for(a=0;a<C.length;a++){var S=C[a];if(o.isPlainObject(S))switch(S.type){case"filter":S.filtersrc&&(S.target=S.filtersrc,delete S.filtersrc),S.calendar&&(S.valuecalendar||(S.valuecalendar=S.calendar),delete S.calendar);break;case"groupby":if(S.styles=S.styles||S.style,S.styles&&!Array.isArray(S.styles)){var z=S.styles,P=Object.keys(z);S.styles=[];for(var O=0;O<P.length;O++)S.styles.push({target:P[O],value:z[P[O]]})}}}}y(n,"line")&&delete n.line,"marker"in n&&(y(n.marker,"line")&&delete n.marker.line,y(n,"marker")&&delete n.marker),c.clean(n),n.autobinx&&(delete n.autobinx,delete n.xbins),n.autobiny&&(delete n.autobiny,delete n.ybins),h(n),n.colorbar&&h(n.colorbar),n.marker&&n.marker.colorbar&&h(n.marker.colorbar),n.line&&n.line.colorbar&&h(n.line.colorbar),n.aaxis&&h(n.aaxis),n.baxis&&h(n.baxis)}},t.swapXYData=function(e){var t;if(o.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var r=e.error_y,a="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);o.swapAttrs(e,["error_?.copy_ystyle"]),a&&o.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var n=e.hoverinfo.split("+");for(t=0;t<n.length;t++)"x"===n[t]?n[t]="y":"y"===n[t]&&(n[t]="x");e.hoverinfo=n.join("+")}},t.coerceTraceIndices=function(e,t){if(a(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map(function(e,t){return t});if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)o.isIndex(t[n],e.data.length)?r.push(t[n]):o.warn("trace index (",t[n],") is not a number or is out of bounds");return r}return t},t.manageArrayContainers=function(e,t,r){var n=e.obj,i=e.parts,l=i.length,s=i[l-1],c=a(s);if(c&&null===t){var u=i.slice(0,l-1).join(".");o.nestedProperty(n,u).get().splice(s,1)}else c&&void 0===e.get()?(void 0===e.get()&&(r[e.astr]=null),e.set(t)):e.set(t)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function b(e){var t=e.search(x);if(t>0)return e.substr(0,t)}t.hasParent=function(e,t){for(var r=b(t);r;){if(r in e)return!0;r=b(r)}return!1};var _=["x","y","z"];t.clearAxisTypes=function(e,t,r){for(var a=0;a<t.length;a++)for(var n=e._fullData[a],i=0;i<3;i++){var l=d(e,n,_[i]);if(l&&"log"!==l.type){var s=l._name,c=l._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==r[c])continue;s=c+"."+s}var u=s+".type";void 0===r[s]&&void 0===r[u]&&o.nestedProperty(e.layout,u).set(null)}}}},function(e,t,r){"use strict";var a=r(0),n=r(57),i=r(65),o=r(63).dfltConfig,l=a.isPlainObject,s=Array.isArray,c=a.isArrayOrTypedArray;function u(e,t,r,n,i,o){o=o||[];for(var d=Object.keys(e),f=0;f<d.length;f++){var v=d[f];if("transforms"!==v){var m=o.slice();m.push(v);var y=e[v],x=t[v],b=g(r,v),_=(b||{}).valType,w="info_array"===_,k="colorscale"===_,A=(b||{}).items;if(h(r,v))if(l(y)&&l(x)&&"any"!==_)u(y,x,b,n,i,m);else if(w&&s(y)){y.length>x.length&&n.push(p("unused",i,m.concat(x.length)));var T,M,L,C,S,z=x.length,P=Array.isArray(A);if(P&&(z=Math.min(z,A.length)),2===b.dimensions)for(M=0;M<z;M++)if(s(y[M])){y[M].length>x[M].length&&n.push(p("unused",i,m.concat(M,x[M].length)));var O=x[M].length;for(T=0;T<(P?Math.min(O,A[M].length):O);T++)L=P?A[M][T]:A,C=y[M][T],S=x[M][T],a.validate(C,L)?S!==C&&S!==+C&&n.push(p("dynamic",i,m.concat(M,T),C,S)):n.push(p("value",i,m.concat(M,T),C))}else n.push(p("array",i,m.concat(M),y[M]));else for(M=0;M<z;M++)L=P?A[M]:A,C=y[M],S=x[M],a.validate(C,L)?S!==C&&S!==+C&&n.push(p("dynamic",i,m.concat(M),C,S)):n.push(p("value",i,m.concat(M),C))}else if(b.items&&!w&&s(y)){var I,R,D=A[Object.keys(A)[0]],E=[];for(I=0;I<x.length;I++){var F=x[I]._index||I;if((R=m.slice()).push(F),l(y[F])&&l(x[I])){E.push(F);var B=y[F],N=x[I];l(B)&&!1!==B.visible&&!1===N.visible?n.push(p("invisible",i,R)):u(B,N,D,n,i,R)}}for(I=0;I<y.length;I++)(R=m.slice()).push(I),l(y[I])?-1===E.indexOf(I)&&n.push(p("unused",i,R)):n.push(p("object",i,R,y[I]))}else!l(y)&&l(x)?n.push(p("object",i,m,y)):c(y)||!c(x)||w||k?v in t?a.validate(y,b)?"enumerated"===b.valType&&(b.coerceNumber&&y!==+x||y!==x)&&n.push(p("dynamic",i,m,y,x)):n.push(p("value",i,m,y)):n.push(p("unused",i,m,y)):n.push(p("array",i,m,y));else n.push(p("schema",i,m))}}return n}e.exports=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var r,c,d=i.get(),f=[],h={_context:a.extendFlat({},o)};s(e)?(h.data=a.extendDeep([],e),r=e):(h.data=[],r=[],f.push(p("array","data"))),l(t)?(h.layout=a.extendDeep({},t),c=t):(h.layout={},c={},arguments.length>1&&f.push(p("object","layout"))),n.supplyDefaults(h);for(var g=h._fullData,v=r.length,m=0;m<v;m++){var y=r[m],x=["data",m];if(l(y)){var b=g[m],_=b.type,w=d.traces[_].attributes;w.type={valType:"enumerated",values:[_]},!1===b.visible&&!1!==y.visible&&f.push(p("invisible",x)),u(y,b,w,f,x);var k=y.transforms,A=b.transforms;if(k){s(k)||f.push(p("array",x,["transforms"])),x.push("transforms");for(var T=0;T<k.length;T++){var M=["transforms",T],L=k[T].type;if(l(k[T])){var C=d.transforms[L]?d.transforms[L].attributes:{};C.type={valType:"enumerated",values:Object.keys(d.transforms)},u(k[T],A[T],C,f,x,M)}else f.push(p("object",x,M))}}}else f.push(p("object",x))}return u(c,h._fullLayout,function(e,t){for(var r=e.layout.layoutAttributes,n=0;n<t.length;n++){var i=t[n],o=e.traces[i.type],l=o.layoutAttributes;l&&(i.subplot?a.extendFlat(r[o.attributes.subplot.dflt],l):a.extendFlat(r,l))}return r}(d,g),f,"layout"),0===f.length?void 0:f};var d={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":f(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":f(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return f(e)+"key "+t+" is not part of the schema"},unused:function(e,t,r){var a=l(r)?"container":"key";return f(e)+a+" "+t+" did not get coerced"},dynamic:function(e,t,r,a){return[f(e)+"key",t,"(set to '"+r+"')","got reset to","'"+a+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?f(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,r){return[f(e)+"key "+t,"is set to an invalid value ("+r+")"].join(" ")}};function f(e){return s(e)?"In data trace "+e[1]+", ":"In "+e+", "}function p(e,t,r,n,i){var o,l;r=r||"",s(t)?(o=t[0],l=t[1]):(o=t,l=null);var c=function(e){if(!s(e))return String(e);for(var t="",r=0;r<e.length;r++){var a=e[r];"number"==typeof a?t=t.substr(0,t.length-1)+"["+a+"]":t+=a,r<e.length-1&&(t+=".")}return t}(r),u=d[e](t,c,n,i);return a.log(u),{code:e,container:o,trace:l,path:r,astr:c,msg:u}}function h(e,t){var r=m(t),a=r.keyMinusId,n=r.id;return!!(a in e&&e[a]._isSubplotObj&&n)||t in e}function g(e,t){return t in e?e[t]:e[m(t).keyMinusId]}var v=a.counterRegex("([a-z]+)");function m(e){var t=e.match(v);return{keyMinusId:t&&t[1],id:t&&t[2]}}},function(e,t,r){"use strict";var a=r(0),n=r(407);e.exports=function(e,t,r){var i=document.createElement("a"),o="download"in i;return new Promise(function(l,s){var c,u;if(a.isIE9orBelow()&&s(new Error("IE < 10 unsupported")),a.isSafari()){var d="svg"===r?",":";base64,";return n.octetStream(d+encodeURIComponent(e)),l(t)}return a.isIE()?(c=n.createBlob(e,"svg"),window.navigator.msSaveBlob(c,t),c=null,l(t)):o?(c=n.createBlob(e,r),u=n.createObjectURL(c),i.href=u,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),n.revokeObjectURL(u),c=null,l(t)):void s(new Error("download error"))})}},function(e,t,r){"use strict";var a=r(0),n=a.isPlainObject,i=r(65),o=r(57),l=r(20),s=r(17),c=r(63).dfltConfig;function u(e,t){e=a.extendDeep({},e);var r,i,o=Object.keys(e).sort();function l(t,r,a){if(n(r)&&n(t))u(t,r);else if(Array.isArray(r)&&Array.isArray(t)){var o=s.arrayTemplater({_template:e},a);for(i=0;i<r.length;i++){var l=r[i],c=o.newItem(l)._template;c&&u(c,l)}var d=o.defaultItems();for(i=0;i<d.length;i++)r.push(d[i]._template);for(i=0;i<r.length;i++)delete r[i].templateitemname}}for(r=0;r<o.length;r++){var c=o[r],f=e[c];if(c in t?l(f,t[c],c):t[c]=f,d(c)===c)for(var p in t){var h=d(p);p===h||h!==c||p in e||l(f,t[p],c)}}}function d(e){return e.replace(/[0-9]+$/,"")}function f(e,t,r,i,o){var l=o&&r(o);for(var c in e){var u=e[c],h=p(e,c,i),g=p(e,c,o),v=r(g);if(!v){var m=d(c);m!==c&&(v=r(g=p(e,m,o)))}if((!l||l!==v)&&!(!v||v._noTemplating||"data_array"===v.valType||v.arrayOk&&Array.isArray(u)))if(!v.valType&&n(u))f(u,t,r,h,g);else if(v._isLinkedToArray&&Array.isArray(u))for(var y=!1,x=0,b={},_=0;_<u.length;_++){var w=u[_];if(n(w)){var k=w.name;if(k)b[k]||(f(w,t,r,p(u,x,h),p(u,x,g)),x++,b[k]=1);else if(!y){var A=p(e,s.arrayDefaultKey(c),i),T=p(u,x,h);f(w,t,r,T,p(u,x,g));var M=a.nestedProperty(t,T);a.nestedProperty(t,A).set(M.get()),M.set(null),y=!0}}}else{a.nestedProperty(t,h).set(u)}}}function p(e,t,r){return r?Array.isArray(e)?r+"["+t+"]":r+"."+t:t}function h(e){for(var t=0;t<e.length;t++)if(n(e[t]))return!0}function g(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}t.makeTemplate=function(e){e=a.isPlainObject(e)?e:a.getGraphDiv(e),e=a.extendDeep({_context:c},{data:e.data,layout:e.layout}),o.supplyDefaults(e);var t=e.data||[],r=e.layout||{};r._basePlotModules=e._fullLayout._basePlotModules,r._modules=e._fullLayout._modules;var s={data:{},layout:{}};t.forEach(function(e){var t={};f(e,t,function(e,t){return i.getTraceValObject(e,a.nestedProperty({},t).parts)}.bind(null,e));var r=a.coerce(e,{},l,"type"),n=s.data[r];n||(n=s.data[r]=[]),n.push(t)}),f(r,s.layout,function(e,t){return i.getLayoutValObject(e,a.nestedProperty({},t).parts)}.bind(null,r)),delete s.layout.template;var d=r.template;if(n(d)){var p,h,g,v,m,y,x=d.layout;n(x)&&u(x,s.layout);var b=d.data;if(n(b)){for(h in s.data)if(g=b[h],Array.isArray(g)){for(y=(m=s.data[h]).length,v=g.length,p=0;p<y;p++)u(g[p%v],m[p]);for(p=y;p<v;p++)m.push(a.extendDeep({},g[p]))}for(h in b)h in s.data||(s.data[h]=a.extendDeep([],b[h]))}}return s},t.validateTemplate=function(e,t){var r=a.extendDeep({},{_context:c,data:e.data,layout:e.layout}),i=r.layout||{};n(t)||(t=i.template||{});var l=t.layout,s=t.data,u=[];r.layout=i,r.layout.template=t,o.supplyDefaults(r);var f=r._fullLayout,v=r._fullData,m={};if(n(l)?(!function e(t,r){for(var a in t)if("_"!==a.charAt(0)&&n(t[a])){var i,o=d(a),l=[];for(i=0;i<r.length;i++)l.push(p(t,a,r[i])),o!==a&&l.push(p(t,o,r[i]));for(i=0;i<l.length;i++)m[l[i]]=1;e(t[a],l)}}(f,["layout"]),function e(t,r){for(var a in t)if(-1===a.indexOf("defaults")&&n(t[a])){var i=p(t,a,r);m[i]?e(t[a],i):u.push({code:"unused",path:i})}}(l,"layout")):u.push({code:"layout"}),n(s)){for(var y,x={},b=0;b<v.length;b++){var _=v[b];x[y=_.type]=(x[y]||0)+1,_._fullInput._template||u.push({code:"missing",index:_._fullInput.index,traceType:y})}for(y in s){var w=s[y].length,k=x[y]||0;w>k?u.push({code:"unused",traceType:y,templateCount:w,dataCount:k}):k>w&&u.push({code:"reused",traceType:y,templateCount:w,dataCount:k})}}else u.push({code:"data"});if(function e(t,r){for(var a in t)if("_"!==a.charAt(0)){var i=t[a],o=p(t,a,r);n(i)?(Array.isArray(t)&&!1===i._template&&i.templateitemname&&u.push({code:"missing",path:o,templateitemname:i.templateitemname}),e(i,o)):Array.isArray(i)&&h(i)&&e(i,o)}}({data:v,layout:f},""),u.length)return u.map(g)}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:r(358),supplyLayoutDefaults:r(357),draw:r(359),style:r(360)}},function(e,t,r){"use strict";var a=r(465),n=r(534);e.exports={moduleType:"component",name:"annotations",layoutAttributes:r(425),supplyLayoutDefaults:r(535),includeBasePlot:r(467)("annotations"),calcAutorange:r(536),draw:a.draw,drawOne:a.drawOne,drawRaw:a.drawRaw,hasClickToShow:n.hasClickToShow,onClick:n.onClick,convertCoords:r(537)}},function(e,t,r){"use strict";var a=r(4),n=r(14),i=r(496),o=r(0),l=o.strScale,s=o.strRotate,c=o.strTranslate;e.exports=function(e,t,r){var o,u,d,f,p=e.node(),h=i[r.arrowhead||0],g=i[r.startarrowhead||0],v=(r.arrowwidth||1)*(r.arrowsize||1),m=(r.arrowwidth||1)*(r.startarrowsize||1),y=t.indexOf("start")>=0,x=t.indexOf("end")>=0,b=h.backoff*v+r.standoff,_=g.backoff*m+r.startstandoff;if("line"===p.nodeName){o={x:+e.attr("x1"),y:+e.attr("y1")},u={x:+e.attr("x2"),y:+e.attr("y2")};var w=o.x-u.x,k=o.y-u.y;if(f=(d=Math.atan2(k,w))+Math.PI,b&&_&&b+_>Math.sqrt(w*w+k*k))return void R();if(b){if(b*b>w*w+k*k)return void R();var A=b*Math.cos(d),T=b*Math.sin(d);u.x+=A,u.y+=T,e.attr({x2:u.x,y2:u.y})}if(_){if(_*_>w*w+k*k)return void R();var M=_*Math.cos(d),L=_*Math.sin(d);o.x-=M,o.y-=L,e.attr({x1:o.x,y1:o.y})}}else if("path"===p.nodeName){var C=p.getTotalLength(),S="";if(C<b+_)return void R();var z=p.getPointAtLength(0),P=p.getPointAtLength(.1);d=Math.atan2(z.y-P.y,z.x-P.x),o=p.getPointAtLength(Math.min(_,C)),S="0px,"+_+"px,";var O=p.getPointAtLength(C),I=p.getPointAtLength(C-.1);f=Math.atan2(O.y-I.y,O.x-I.x),u=p.getPointAtLength(Math.max(0,C-b)),S+=C-(S?_+b:b)+"px,"+C+"px",e.style("stroke-dasharray",S)}function R(){e.style("stroke-dasharray","0px,100px")}function D(t,i,o,u){t.path&&(t.noRotate&&(o=0),a.select(p.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:c(i.x,i.y)+s(180*o/Math.PI)+l(u)}).style({fill:n.rgb(r.arrowcolor),"stroke-width":0}))}y&&D(g,o,d,m),x&&D(h,u,f,v)}},function(e,t,r){"use strict";var a=r(0),n=r(3),i=r(17).arrayEditor;function o(e,t){var r,a,n,i,o,s,c,u=e._fullLayout.annotations,d=[],f=[],p=[],h=(t||[]).length;for(r=0;r<u.length;r++)if(i=(n=u[r]).clicktoshow){for(a=0;a<h;a++)if(s=(o=t[a]).xaxis,c=o.yaxis,s._id===n.xref&&c._id===n.yref&&s.d2r(o.x)===l(n._xclick,s)&&c.d2r(o.y)===l(n._yclick,c)){(n.visible?"onout"===i?f:p:d).push(r);break}a===h&&n.visible&&"onout"===i&&f.push(r)}return{on:d,off:f,explicitOff:p}}function l(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}e.exports={hasClickToShow:function(e,t){var r=o(e,t);return r.on.length>0||r.explicitOff.length>0},onClick:function(e,t){var r,l,s=o(e,t),c=s.on,u=s.off.concat(s.explicitOff),d={},f=e._fullLayout.annotations;if(!c.length&&!u.length)return;for(r=0;r<c.length;r++)(l=i(e.layout,"annotations",f[c[r]])).modifyItem("visible",!0),a.extendFlat(d,l.getUpdateObj());for(r=0;r<u.length;r++)(l=i(e.layout,"annotations",f[u[r]])).modifyItem("visible",!1),a.extendFlat(d,l.getUpdateObj());return n.call("update",e,{},d)}}},function(e,t,r){"use strict";var a=r(0),n=r(99),i=r(105),o=r(497),l=r(425);function s(e,t,r){function i(r,n){return a.coerce(e,t,l,r,n)}var s=i("visible"),c=i("clicktoshow");if(s||c){o(e,t,r,i);for(var u=t.showarrow,d=["x","y"],f=[-10,-30],p={_fullLayout:r},h=0;h<2;h++){var g=d[h],v=n.coerceRef(e,t,p,g,"","paper");if("paper"!==v)n.getFromId(p,v)._annIndices.push(t._index);if(n.coercePosition(t,p,i,v,g,.5),u){var m="a"+g,y=n.coerceRef(e,t,p,m,"pixel",["pixel","paper"]);"pixel"!==y&&y!==v&&(y=t[m]="pixel");var x="pixel"===y?f[h]:.4;n.coercePosition(t,p,i,y,m,x)}i(g+"anchor"),i(g+"shift")}if(a.noneOrAll(e,t,["x","y"]),u&&a.noneOrAll(e,t,["ax","ay"]),c){var b=i("xclick"),_=i("yclick");t._xclick=void 0===b?t.x:n.cleanPosition(b,p,t.xref),t._yclick=void 0===_?t.y:n.cleanPosition(_,p,t.yref)}}}e.exports=function(e,t){i(e,t,{name:"annotations",handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(0),n=r(99),i=r(465).draw;function o(e){var t=e._fullLayout;a.filterVisible(t.annotations).forEach(function(t){var r=n.getFromId(e,t.xref),a=n.getFromId(e,t.yref),i=n.getRefType(t.xref),o=n.getRefType(t.yref);t._extremes={},"range"===i&&l(t,r),"range"===o&&l(t,a)})}function l(e,t){var r,a=t._id,i=a.charAt(0),o=e[i],l=e["a"+i],s=e[i+"ref"],c=e["a"+i+"ref"],u=e["_"+i+"padplus"],d=e["_"+i+"padminus"],f={x:1,y:-1}[i]*e[i+"shift"],p=3*e.arrowsize*e.arrowwidth||0,h=p+f,g=p-f,v=3*e.startarrowsize*e.arrowwidth||0,m=v+f,y=v-f;if(c===s){var x=n.findExtremes(t,[t.r2c(o)],{ppadplus:h,ppadminus:g}),b=n.findExtremes(t,[t.r2c(l)],{ppadplus:Math.max(u,m),ppadminus:Math.max(d,y)});r={min:[x.min[0],b.min[0]],max:[x.max[0],b.max[0]]}}else m=l?m+l:m,y=l?y-l:y,r=n.findExtremes(t,[t.r2c(o)],{ppadplus:Math.max(u,h,m),ppadminus:Math.max(d,g,y)});e._extremes[a]=r}e.exports=function(e){var t=e._fullLayout;if(a.filterVisible(t.annotations).length&&e._fullData.length)return a.syncOrAsync([i,o],e)}},function(e,t,r){"use strict";var a=r(1),n=r(126);e.exports=function(e,t,r,i){t=t||{};var o="log"===r&&"linear"===t.type,l="linear"===r&&"log"===t.type;if(o||l)for(var s,c,u=e._fullLayout.annotations,d=t._id.charAt(0),f=0;f<u.length;f++)s=u[f],c="annotations["+f+"].",s[d+"ref"]===t._id&&p(d),s["a"+d+"ref"]===t._id&&p("a"+d);function p(e){var r=s[e],l=null;l=o?n(r,t.range):Math.pow(10,r),a(l)||(l=null),i(c+e,l)}}},function(e,t,r){"use strict";var a=r(3),n=r(0);e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(468)}}},layoutAttributes:r(468),handleDefaults:r(539),includeBasePlot:function(e,t){var r=a.subplotsRegistry.gl3d;if(!r)return;for(var i=r.attrRegex,o=Object.keys(e),l=0;l<o.length;l++){var s=o[l];i.test(s)&&(e[s].annotations||[]).length&&(n.pushUnique(t._basePlotModules,r),n.pushUnique(t._subplots.gl3d,s))}},convert:r(540),draw:r(541)}},function(e,t,r){"use strict";var a=r(0),n=r(99),i=r(105),o=r(497),l=r(468);function s(e,t,r,i){function s(r,n){return a.coerce(e,t,l,r,n)}function c(e){var a=e+"axis",i={_fullLayout:{}};return i._fullLayout[a]=r[a],n.coercePosition(t,i,s,e,e,.5)}s("visible")&&(o(e,t,i.fullLayout,s),c("x"),c("y"),c("z"),a.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",s("xanchor"),s("yanchor"),s("xshift"),s("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",s("ax",-10),s("ay",-30),a.noneOrAll(e,t,["ax","ay"])))}e.exports=function(e,t,r){i(e,t,{name:"annotations",handleItemDefaults:s,fullLayout:r.fullLayout})}},function(e,t,r){"use strict";var a=r(0),n=r(99);function i(e,t){var r=t.fullSceneLayout.domain,i=t.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},a.extendFlat(e._xa,o),n.setConvert(e._xa),e._xa._offset=i.l+r.x[0]*i.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*i.w*(r.x[1]-r.x[0])},e._ya={},a.extendFlat(e._ya,o),n.setConvert(e._ya),e._ya._offset=i.t+(1-r.y[1])*i.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*i.h*(r.y[1]-r.y[0])}}e.exports=function(e){for(var t=e.fullSceneLayout.annotations,r=0;r<t.length;r++)i(t[r],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},function(e,t,r){"use strict";var a=r(465).drawRaw,n=r(542),i=["x","y","z"];e.exports=function(e){for(var t=e.fullSceneLayout,r=e.dataScale,o=t.annotations,l=0;l<o.length;l++){for(var s=o[l],c=!1,u=0;u<3;u++){var d=i[u],f=s[d],p=t[d+"axis"].r2fraction(f);if(p<0||p>1){c=!0;break}}c?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+l+'"]').remove():(s._pdata=n(e.glplot.cameraParams,[t.xaxis.r2l(s.x)*r[0],t.yaxis.r2l(s.y)*r[1],t.zaxis.r2l(s.z)*r[2]]),a(e.graphDiv,s,l,e.id,s._xa,s._ya))}}},function(e,t,r){"use strict";function a(e,t){var r,a,n=[0,0,0,0];for(r=0;r<4;++r)for(a=0;a<4;++a)n[a]+=e[4*r+a]*t[r];return n}e.exports=function(e,t){return a(e.projection,a(e.view,a(e.model,[t[0],t[1],t[2],1])))}},function(e,t,r){"use strict";var a=r(379);e.exports={moduleType:"component",name:"shapes",layoutAttributes:r(498),supplyLayoutDefaults:r(544),supplyDrawNewShapeDefaults:r(545),includeBasePlot:r(467)("shapes"),calcAutorange:r(546),draw:a.draw,drawOne:a.drawOne}},function(e,t,r){"use strict";var a=r(0),n=r(99),i=r(105),o=r(498),l=r(375);function s(e,t,r){function i(r,n){return a.coerce(e,t,o,r,n)}if(i("visible")){var s=i("type",i("path")?"path":"rect");"path"!==t.type&&delete t.path,i("editable"),i("layer"),i("opacity"),i("fillcolor"),i("fillrule"),i("line.width")&&(i("line.color"),i("line.dash"));for(var c=i("xsizemode"),u=i("ysizemode"),d=["x","y"],f=0;f<2;f++){var p,h,g,v=d[f],m=v+"anchor",y="x"===v?c:u,x={_fullLayout:r},b=n.coerceRef(e,t,x,v,void 0,"paper");if("range"===n.getRefType(b)?((p=n.getFromId(x,b))._shapeIndices.push(t._index),g=l.rangeToShapePosition(p),h=l.shapePositionToRange(p)):h=g=a.identity,"path"!==s){var _=v+"0",w=v+"1",k=e[_],A=e[w];e[_]=h(e[_],!0),e[w]=h(e[w],!0),"pixel"===y?(i(_,0),i(w,10)):(n.coercePosition(t,x,i,b,_,.25),n.coercePosition(t,x,i,b,w,.75)),t[_]=g(t[_]),t[w]=g(t[w]),e[_]=k,e[w]=A}if("pixel"===y){var T=e[m];e[m]=h(e[m],!0),n.coercePosition(t,x,i,b,m,.25),t[m]=g(t[m]),e[m]=T}}"path"===s?i("path"):a.noneOrAll(e,t,["x0","x1","y0","y1"])}}e.exports=function(e,t){i(e,t,{name:"shapes",handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(14);e.exports=function(e,t,r){if(r("newshape.drawdirection"),r("newshape.layer"),r("newshape.fillcolor"),r("newshape.fillrule"),r("newshape.opacity"),r("newshape.line.width")){var n=(e||{}).plot_bgcolor||"#FFF";r("newshape.line.color",a.contrast(n)),r("newshape.line.dash")}r("activeshape.fillcolor"),r("activeshape.opacity")}},function(e,t,r){"use strict";var a=r(0),n=r(99),i=r(350),o=r(375);function l(e){return c(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function s(e){return c(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function c(e,t,r,n,l,s){var c=e/2,u=s;if("pixel"===t){var d=l?o.extractPathCoords(l,s?i.paramIsY:i.paramIsX):[r,n],f=a.aggNums(Math.max,null,d),p=a.aggNums(Math.min,null,d),h=p<0?Math.abs(p)+c:c,g=f>0?f+c:c;return{ppad:c,ppadplus:u?h:g,ppadminus:u?g:h}}return{ppad:c}}function u(e,t,r,a,n){var l="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==t)return[l(t),l(r)];if(a){var s,c,u,d,f=1/0,p=-1/0,h=a.match(i.segmentRE);for("date"===e.type&&(l=o.decodeDate(l)),s=0;s<h.length;s++)void 0!==(c=n[h[s].charAt(0)].drawn)&&(!(u=h[s].substr(1).match(i.paramRE))||u.length<c||((d=l(u[c]))<f&&(f=d),d>p&&(p=d)));return p>=f?[f,p]:void 0}}e.exports=function(e){var t=e._fullLayout,r=a.filterVisible(t.shapes);if(r.length&&e._fullData.length)for(var o=0;o<r.length;o++){var c,d,f=r[o];f._extremes={};var p=n.getRefType(f.xref),h=n.getRefType(f.yref);if("paper"!==f.xref&&"domain"!==p){var g="pixel"===f.xsizemode?f.xanchor:f.x0,v="pixel"===f.xsizemode?f.xanchor:f.x1;(d=u(c=n.getFromId(e,f.xref),g,v,f.path,i.paramIsX))&&(f._extremes[c._id]=n.findExtremes(c,d,l(f)))}if("paper"!==f.yref&&"domain"!==h){var m="pixel"===f.ysizemode?f.yanchor:f.y0,y="pixel"===f.ysizemode?f.yanchor:f.y1;(d=u(c=n.getFromId(e,f.yref),m,y,f.path,i.paramIsY))&&(f._extremes[c._id]=n.findExtremes(c,d,s(f)))}}}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:r(499),supplyLayoutDefaults:r(548),includeBasePlot:r(467)("images"),draw:r(549),convertCoords:r(550)}},function(e,t,r){"use strict";var a=r(0),n=r(99),i=r(105),o=r(499);function l(e,t,r){function i(r,n){return a.coerce(e,t,o,r,n)}if(!i("visible",!!i("source")))return t;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var l={_fullLayout:r},s=["x","y"],c=0;c<2;c++){var u=s[c],d=n.coerceRef(e,t,l,u,"paper",void 0);if("paper"!==d)n.getFromId(l,d)._imgIndices.push(t._index);n.coercePosition(t,l,i,d,u,0)}return t}e.exports=function(e,t){i(e,t,{name:"images",handleItemDefaults:l})}},function(e,t,r){"use strict";var a=r(4),n=r(38),i=r(99),o=r(27),l=r(59);e.exports=function(e){var t,r,s=e._fullLayout,c=[],u={},d=[];for(r=0;r<s.images.length;r++){var f=s.images[r];if(f.visible)if("below"===f.layer&&"paper"!==f.xref&&"paper"!==f.yref){t=o.ref2id(f.xref)+o.ref2id(f.yref);var p=s._plots[t];if(!p){d.push(f);continue}p.mainplot&&(t=p.mainplot.id),u[t]||(u[t]=[]),u[t].push(f)}else"above"===f.layer?c.push(f):d.push(f)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function g(t){var r=a.select(this);if(this._imgSrc!==t.source)if(r.attr("xmlns",l.svg),t.source&&"data:"===t.source.slice(0,5))r.attr("xlink:href",t.source),this._imgSrc=t.source;else{var n=new Promise(function(e){var a=new Image;function n(){r.remove(),e()}this.img=a,a.setAttribute("crossOrigin","anonymous"),a.onerror=n,a.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var a=t.toDataURL("image/png");r.attr("xlink:href",a),e()},r.on("error",n),a.src=t.source,this._imgSrc=t.source}.bind(this));e._promises.push(n)}}function v(t){var r,o,l=a.select(this),c=i.getFromId(e,t.xref),u=i.getFromId(e,t.yref),d="domain"===i.getRefType(t.xref),f="domain"===i.getRefType(t.yref),p=s._size;r=void 0!==c?"string"==typeof t.xref&&d?c._length*t.sizex:Math.abs(c.l2p(t.sizex)-c.l2p(0)):t.sizex*p.w,o=void 0!==u?"string"==typeof t.yref&&f?u._length*t.sizey:Math.abs(u.l2p(t.sizey)-u.l2p(0)):t.sizey*p.h;var g,v,m=r*h.x[t.xanchor].offset,y=o*h.y[t.yanchor].offset,x=h.x[t.xanchor].sizing+h.y[t.yanchor].sizing;switch(g=void 0!==c?"string"==typeof t.xref&&d?c._length*t.x+c._offset:c.r2p(t.x)+c._offset:t.x*p.w+p.l,g+=m,v=void 0!==u?"string"==typeof t.yref&&f?u._length*(1-t.y)+u._offset:u.r2p(t.y)+u._offset:p.h-t.y*p.h+p.t,v+=y,t.sizing){case"fill":x+=" slice";break;case"stretch":x="none"}l.attr({x:g,y:v,width:r,height:o,preserveAspectRatio:x,opacity:t.opacity});var b=(c&&"domain"!==i.getRefType(t.xref)?c._id:"")+(u&&"domain"!==i.getRefType(t.yref)?u._id:"");n.setClipUrl(l,b?"clip"+s._uid+b:null,e)}var m=s._imageLowerLayer.selectAll("image").data(d),y=s._imageUpperLayer.selectAll("image").data(c);m.enter().append("image"),y.enter().append("image"),m.exit().remove(),y.exit().remove(),m.each(function(e){g.bind(this)(e),v.bind(this)(e)}),y.each(function(e){g.bind(this)(e),v.bind(this)(e)});var x=Object.keys(s._plots);for(r=0;r<x.length;r++){t=x[r];var b=s._plots[t];if(b.imagelayer){var _=b.imagelayer.selectAll("image").data(u[t]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(e){g.bind(this)(e),v.bind(this)(e)})}}}},function(e,t,r){"use strict";var a=r(1),n=r(126);e.exports=function(e,t,r,i){t=t||{};var o="log"===r&&"linear"===t.type,l="linear"===r&&"log"===t.type;if(o||l)for(var s,c,u=e._fullLayout.images,d=t._id.charAt(0),f=0;f<u.length;f++)if(c="images["+f+"].",(s=u[f])[d+"ref"]===t._id){var p=s[d],h=s["size"+d],g=null,v=null;if(o){g=n(p,t.range);var m=h/Math.pow(10,g)/2;v=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10}else v=(g=Math.pow(10,p))*(Math.pow(10,h/2)-Math.pow(10,-h/2));a(g)?a(v)||(v=null):(g=null,v=null),i(c+d,g),i(c+"size"+d,v)}}},function(e,t,r){"use strict";var a=r(469);e.exports={moduleType:"component",name:a.name,layoutAttributes:r(500),supplyLayoutDefaults:r(552),draw:r(553)}},function(e,t,r){"use strict";var a=r(0),n=r(105),i=r(500),o=r(469).name,l=i.buttons;function s(e,t,r){function o(r,n){return a.coerce(e,t,i,r,n)}o("visible",n(e,t,{name:"buttons",handleItemDefaults:c}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),a.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),a.coerceFont(o,"font",r.font),o("bgcolor",r.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function c(e,t){function r(r,n){return a.coerce(e,t,l,r,n)}r("visible","skip"===e.method||Array.isArray(e.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}e.exports=function(e,t){n(e,t,{name:o,handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(4),n=r(57),i=r(14),o=r(38),l=r(0),s=r(39),c=r(17).arrayEditor,u=r(28).LINE_SPACING,d=r(469),f=r(554);function p(e){return e._index}function h(e,t){return+e.attr(d.menuIndexAttrName)===t._index}function g(e,t,r,a,n,i,o,l){t.active=o,c(e.layout,d.name,t).applyUpdate("active",o),"buttons"===t.type?m(e,a,null,null,t):"dropdown"===t.type&&(n.attr(d.menuIndexAttrName,"-1"),v(e,a,n,i,t),l||m(e,a,n,i,t))}function v(e,t,r,a,n){var i=l.ensureSingle(t,"g",d.headerClassName,function(e){e.style("pointer-events","all")}),s=n._dims,c=n.active,u=n.buttons[c]||d.blankHeaderOpts,f={y:n.pad.t,yPad:0,x:n.pad.l,xPad:0,index:0},p={width:s.headerWidth,height:s.headerHeight};i.call(y,n,u,e).call(M,n,f,p),l.ensureSingle(t,"text",d.headerArrowClassName,function(e){e.attr("text-anchor","end").call(o.font,n.font).text(d.arrowSymbol[n.direction])}).attr({x:s.headerWidth-d.arrowOffsetX+n.pad.l,y:s.headerHeight/2+d.textOffsetY+n.pad.t}),i.on("click",function(){r.call(L,String(h(r,n)?-1:n._index)),m(e,t,r,a,n)}),i.on("mouseover",function(){i.call(w)}),i.on("mouseout",function(){i.call(k,n)}),o.setTranslate(t,s.lx,s.ly)}function m(e,t,r,i,o){r||(r=t).attr("pointer-events","all");var s=function(e){return-1==+e.attr(d.menuIndexAttrName)}(r)&&"buttons"!==o.type?[]:o.buttons,c="dropdown"===o.type?d.dropdownButtonClassName:d.buttonClassName,u=r.selectAll("g."+c).data(l.filterVisible(s)),f=u.enter().append("g").classed(c,!0),p=u.exit();"dropdown"===o.type?(f.attr("opacity","0").transition().attr("opacity","1"),p.transition().attr("opacity","0").remove()):p.remove();var h=0,v=0,m=o._dims,x=-1!==["up","down"].indexOf(o.direction);"dropdown"===o.type&&(x?v=m.headerHeight+d.gapButtonHeader:h=m.headerWidth+d.gapButtonHeader),"dropdown"===o.type&&"up"===o.direction&&(v=-d.gapButtonHeader+d.gapButton-m.openHeight),"dropdown"===o.type&&"left"===o.direction&&(h=-d.gapButtonHeader+d.gapButton-m.openWidth);var b={x:m.lx+h+o.pad.l,y:m.ly+v+o.pad.t,yPad:d.gapButton,xPad:d.gapButton,index:0},A={l:b.x+o.borderwidth,t:b.y+o.borderwidth};u.each(function(l,s){var c=a.select(this);c.call(y,o,l,e).call(M,o,b),c.on("click",function(){a.event.defaultPrevented||(l.execute&&(l.args2&&o.active===s?(g(e,o,0,t,r,i,-1),n.executeAPICommand(e,l.method,l.args2)):(g(e,o,0,t,r,i,s),n.executeAPICommand(e,l.method,l.args))),e.emit("plotly_buttonclicked",{menu:o,button:l,active:o.active}))}),c.on("mouseover",function(){c.call(w)}),c.on("mouseout",function(){c.call(k,o),u.call(_,o)})}),u.call(_,o),x?(A.w=Math.max(m.openWidth,m.headerWidth),A.h=b.y-A.t):(A.w=b.x-A.l,A.h=Math.max(m.openHeight,m.headerHeight)),A.direction=o.direction,i&&(u.size()?function(e,t,r,a,n,i){var o,l,s,c=n.direction,u="up"===c||"down"===c,f=n._dims,p=n.active;if(u)for(l=0,s=0;s<p;s++)l+=f.heights[s]+d.gapButton;else for(o=0,s=0;s<p;s++)o+=f.widths[s]+d.gapButton;a.enable(i,o,l),a.hbar&&a.hbar.attr("opacity","0").transition().attr("opacity","1");a.vbar&&a.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,i,o,A):function(e){var t=!!e.hbar,r=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()});r&&e.vbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()})}(i))}function y(e,t,r,a){e.call(x,t).call(b,t,r,a)}function x(e,t){l.ensureSingle(e,"rect",d.itemRectClassName,function(e){e.attr({rx:d.rx,ry:d.ry,"shape-rendering":"crispEdges"})}).call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function b(e,t,r,a){var n=l.ensureSingle(e,"text",d.itemTextClassName,function(e){e.attr({"text-anchor":"start","data-notex":1})}),i=r.label,c=a._fullLayout._meta;c&&(i=l.templateString(i,c)),n.call(o.font,t.font).text(i).call(s.convertToTspans,a)}function _(e,t){var r=t.active;e.each(function(e,n){var o=a.select(this);n===r&&t.showactive&&o.select("rect."+d.itemRectClassName).call(i.fill,d.activeColor)})}function w(e){e.select("rect."+d.itemRectClassName).call(i.fill,d.hoverColor)}function k(e,t){e.select("rect."+d.itemRectClassName).call(i.fill,t.bgcolor)}function A(e,t){var r=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},i=o.tester.selectAll("g."+d.dropdownButtonClassName).data(l.filterVisible(t.buttons));i.enter().append("g").classed(d.dropdownButtonClassName,!0);var c=-1!==["up","down"].indexOf(t.direction);i.each(function(n,i){var l=a.select(this);l.call(y,t,n,e);var f=l.select("."+d.itemTextClassName),p=f.node()&&o.bBox(f.node()).width,h=Math.max(p+d.textPadX,d.minWidth),g=t.font.size*u,v=s.lineCount(f),m=Math.max(g*v,d.minHeight)+d.textOffsetY;m=Math.ceil(m),h=Math.ceil(h),r.widths[i]=h,r.heights[i]=m,r.height1=Math.max(r.height1,m),r.width1=Math.max(r.width1,h),c?(r.totalWidth=Math.max(r.totalWidth,h),r.openWidth=r.totalWidth,r.totalHeight+=m+d.gapButton,r.openHeight+=m+d.gapButton):(r.totalWidth+=h+d.gapButton,r.openWidth+=h+d.gapButton,r.totalHeight=Math.max(r.totalHeight,m),r.openHeight=r.totalHeight)}),c?r.totalHeight-=d.gapButton:r.totalWidth-=d.gapButton,r.headerWidth=r.width1+d.arrowPadX,r.headerHeight=r.height1,"dropdown"===t.type&&(c?(r.width1+=d.arrowPadX,r.totalHeight=r.height1):r.totalWidth=r.width1,r.totalWidth+=d.arrowPadX),i.remove();var f=r.totalWidth+t.pad.l+t.pad.r,p=r.totalHeight+t.pad.t+t.pad.b,h=e._fullLayout._size;r.lx=h.l+h.w*t.x,r.ly=h.t+h.h*(1-t.y);var g="left";l.isRightAnchor(t)&&(r.lx-=f,g="right"),l.isCenterAnchor(t)&&(r.lx-=f/2,g="center");var v="top";l.isBottomAnchor(t)&&(r.ly-=p,v="bottom"),l.isMiddleAnchor(t)&&(r.ly-=p/2,v="middle"),r.totalWidth=Math.ceil(r.totalWidth),r.totalHeight=Math.ceil(r.totalHeight),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),n.autoMargin(e,T(t),{x:t.x,y:t.y,l:f*({right:1,center:.5}[g]||0),r:f*({left:1,center:.5}[g]||0),b:p*({top:1,middle:.5}[v]||0),t:p*({bottom:1,middle:.5}[v]||0)})}function T(e){return d.autoMarginIdRoot+e._index}function M(e,t,r,a){a=a||{};var n=e.select("."+d.itemRectClassName),i=e.select("."+d.itemTextClassName),l=t.borderwidth,c=r.index,f=t._dims;o.setTranslate(e,l+r.x,l+r.y);var p=-1!==["up","down"].indexOf(t.direction),h=a.height||(p?f.heights[c]:f.height1);n.attr({x:0,y:0,width:a.width||(p?f.width1:f.widths[c]),height:h});var g=t.font.size*u,v=(s.lineCount(i)-1)*g/2;s.positionText(i,d.textOffsetX,h/2-v+d.textOffsetY),p?r.y+=f.heights[c]+r.yPad:r.x+=f.widths[c]+r.xPad,r.index++}function L(e,t){e.attr(d.menuIndexAttrName,t||"-1").selectAll("g."+d.dropdownButtonClassName).remove()}e.exports=function(e){var t=e._fullLayout,r=l.filterVisible(t[d.name]);function i(t){n.autoMargin(e,T(t))}var o=t._menulayer.selectAll("g."+d.containerClassName).data(r.length>0?[0]:[]);if(o.enter().append("g").classed(d.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){a.select(this).selectAll("g."+d.headerGroupClassName).each(i)}).remove(),0!==r.length){var s=o.selectAll("g."+d.headerGroupClassName).data(r,p);s.enter().append("g").classed(d.headerGroupClassName,!0);for(var c=l.ensureSingle(o,"g",d.dropdownButtonGroupClassName,function(e){e.style("pointer-events","all")}),u=0;u<r.length;u++){var y=r[u];A(e,y)}var x="updatemenus"+t._uid,b=new f(e,c,x);s.enter().size()&&(c.node().parentNode.appendChild(c.node()),c.call(L)),s.exit().each(function(e){c.call(L),i(e)}).remove(),s.each(function(t){var r=a.select(this),i="dropdown"===t.type?c:null;n.manageCommandObserver(e,t,t.buttons,function(a){g(e,t,t.buttons[a.index],r,i,b,a.index,!0)}),"dropdown"===t.type?(v(e,r,c,b,t),h(c,t)&&m(e,r,c,b,t)):m(e,r,null,null,t)})}}},function(e,t,r){"use strict";e.exports=l;var a=r(4),n=r(14),i=r(38),o=r(0);function l(e,t,r){this.gd=e,this.container=t,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(e,t,r){var o=this.gd._fullLayout,s=o.width,c=o.height;this.position=e;var u,d,f,p,h=this.position.l,g=this.position.w,v=this.position.t,m=this.position.h,y=this.position.direction,x="down"===y,b="left"===y,_="up"===y,w=g,k=m;x||b||"right"===y||_||(this.position.direction="down",x=!0),x||_?(d=(u=h)+w,x?(f=v,k=(p=Math.min(f+k,c))-f):k=(p=v+k)-(f=Math.max(p-k,0))):(p=(f=v)+k,b?w=(d=h+w)-(u=Math.max(d-w,0)):(u=h,w=(d=Math.min(u+w,s))-u)),this._box={l:u,t:f,w:w,h:k};var A=g>w,T=l.barLength+2*l.barPad,M=l.barWidth+2*l.barPad,L=h,C=v+m;C+M>c&&(C=c-M);var S=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);S.exit().on(".drag",null).remove(),S.enter().append("rect").classed("scrollbar-horizontal",!0).call(n.fill,l.barColor),A?(this.hbar=S.attr({rx:l.barRadius,ry:l.barRadius,x:L,y:C,width:T,height:M}),this._hbarXMin=L+T/2,this._hbarTranslateMax=w-T):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var z=m>k,P=l.barWidth+2*l.barPad,O=l.barLength+2*l.barPad,I=h+g,R=v;I+P>s&&(I=s-P);var D=this.container.selectAll("rect.scrollbar-vertical").data(z?[0]:[]);D.exit().on(".drag",null).remove(),D.enter().append("rect").classed("scrollbar-vertical",!0).call(n.fill,l.barColor),z?(this.vbar=D.attr({rx:l.barRadius,ry:l.barRadius,x:I,y:R,width:P,height:O}),this._vbarYMin=R+O/2,this._vbarTranslateMax=k-O):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var E=this.id,F=u-.5,B=z?d+P+.5:d+.5,N=f-.5,H=A?p+M+.5:p+.5,j=o._topdefs.selectAll("#"+E).data(A||z?[0]:[]);if(j.exit().remove(),j.enter().append("clipPath").attr("id",E).append("rect"),A||z?(this._clipRect=j.select("rect").attr({x:Math.floor(F),y:Math.floor(N),width:Math.ceil(B)-Math.floor(F),height:Math.ceil(H)-Math.floor(N)}),this.container.call(i.setClipUrl,E,this.gd),this.bg.attr({x:h,y:v,width:g,height:m})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),A||z){var V=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var G=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault(),a.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(G),z&&this.vbar.on(".drag",null).call(G)}this.setTranslate(t,r)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=a.event.dx),this.vbar&&(t-=a.event.dy),this.setTranslate(e,t)},l.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=a.event.deltaY),this.vbar&&(t+=a.event.deltaY),this.setTranslate(e,t)},l.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var r=e+this._hbarXMin,n=r+this._hbarTranslateMax;e=(o.constrain(a.event.x,r,n)-r)/(n-r)*(this.position.w-this._box.w)}if(this.vbar){var i=t+this._vbarYMin,l=i+this._vbarTranslateMax;t=(o.constrain(a.event.y,i,l)-i)/(l-i)*(this.position.h-this._box.h)}this.setTranslate(e,t)},l.prototype.setTranslate=function(e,t){var r=this.position.w-this._box.w,a=this.position.h-this._box.h;if(e=o.constrain(e||0,0,r),t=o.constrain(t||0,0,a),this.translateX=e,this.translateY=t,this.container.call(i.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=e/r;this.hbar.call(i.setTranslate,e+n*this._hbarTranslateMax,t)}if(this.vbar){var l=t/a;this.vbar.call(i.setTranslate,e,t+l*this._vbarTranslateMax)}}},function(e,t,r){"use strict";var a=r(426);e.exports={moduleType:"component",name:a.name,layoutAttributes:r(501),supplyLayoutDefaults:r(556),draw:r(557)}},function(e,t,r){"use strict";var a=r(0),n=r(105),i=r(501),o=r(426).name,l=i.steps;function s(e,t,r){function o(r,n){return a.coerce(e,t,i,r,n)}for(var l=n(e,t,{name:"steps",handleItemDefaults:c}),s=0,u=0;u<l.length;u++)l[u].visible&&s++;if(s<2?t.visible=!1:o("visible")){t._stepCount=s;var d=t._visibleSteps=a.filterVisible(l);(l[o("active")]||{}).visible||(t.active=d[0]._index),o("x"),o("y"),a.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),a.coerceFont(o,"font",r.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),a.coerceFont(o,"currentvalue.font",t.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function c(e,t){function r(r,n){return a.coerce(e,t,l,r,n)}("skip"===e.method||Array.isArray(e.args)?r("visible"):t.visible=!1)&&(r("method"),r("args"),r("value",r("label","step-"+t._index)),r("execute"))}e.exports=function(e,t){n(e,t,{name:o,handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(4),n=r(57),i=r(14),o=r(38),l=r(0),s=l.strTranslate,c=r(39),u=r(17).arrayEditor,d=r(426),f=r(28),p=f.LINE_SPACING,h=f.FROM_TL,g=f.FROM_BR;function v(e){return d.autoMarginIdRoot+e._index}function m(e){return e._index}function y(e,t){var r=o.tester.selectAll("g."+d.labelGroupClass).data(t._visibleSteps);r.enter().append("g").classed(d.labelGroupClass,!0);var i=0,s=0;r.each(function(e){var r=_(a.select(this),{step:e},t).node();if(r){var n=o.bBox(r);s=Math.max(s,n.height),i=Math.max(i,n.width)}}),r.remove();var u=t._dims={};u.inputAreaWidth=Math.max(d.railWidth,d.gripHeight);var f=e._fullLayout._size;u.lx=f.l+f.w*t.x,u.ly=f.t+f.h*(1-t.y),"fraction"===t.lenmode?u.outerLength=Math.round(f.w*t.len):u.outerLength=t.len,u.inputAreaStart=0,u.inputAreaLength=Math.round(u.outerLength-t.pad.l-t.pad.r);var p=(u.inputAreaLength-2*d.stepInset)/(t._stepCount-1),m=i+d.labelPadding;if(u.labelStride=Math.max(1,Math.ceil(m/p)),u.labelHeight=s,u.currentValueMaxWidth=0,u.currentValueHeight=0,u.currentValueTotalHeight=0,u.currentValueMaxLines=1,t.currentvalue.visible){var y=o.tester.append("g");r.each(function(e){var r=x(y,t,e.label),a=r.node()&&o.bBox(r.node())||{width:0,height:0},n=c.lineCount(r);u.currentValueMaxWidth=Math.max(u.currentValueMaxWidth,Math.ceil(a.width)),u.currentValueHeight=Math.max(u.currentValueHeight,Math.ceil(a.height)),u.currentValueMaxLines=Math.max(u.currentValueMaxLines,n)}),u.currentValueTotalHeight=u.currentValueHeight+t.currentvalue.offset,y.remove()}u.height=u.currentValueTotalHeight+d.tickOffset+t.ticklen+d.labelOffset+u.labelHeight+t.pad.t+t.pad.b;var b="left";l.isRightAnchor(t)&&(u.lx-=u.outerLength,b="right"),l.isCenterAnchor(t)&&(u.lx-=u.outerLength/2,b="center");var w="top";l.isBottomAnchor(t)&&(u.ly-=u.height,w="bottom"),l.isMiddleAnchor(t)&&(u.ly-=u.height/2,w="middle"),u.outerLength=Math.ceil(u.outerLength),u.height=Math.ceil(u.height),u.lx=Math.round(u.lx),u.ly=Math.round(u.ly);var k={y:t.y,b:u.height*g[w],t:u.height*h[w]};"fraction"===t.lenmode?(k.l=0,k.xl=t.x-t.len*h[b],k.r=0,k.xr=t.x+t.len*g[b]):(k.x=t.x,k.l=u.outerLength*h[b],k.r=u.outerLength*g[b]),n.autoMargin(e,v(t),k)}function x(e,t,r){if(t.currentvalue.visible){var a,n,i=t._dims;switch(t.currentvalue.xanchor){case"right":a=i.inputAreaLength-d.currentValueInset-i.currentValueMaxWidth,n="left";break;case"center":a=.5*i.inputAreaLength,n="middle";break;default:a=d.currentValueInset,n="left"}var s=l.ensureSingle(e,"text",d.labelClass,function(e){e.attr({"text-anchor":n,"data-notex":1})}),u=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof r)u+=r;else{var f=t.steps[t.active].label,h=t._gd._fullLayout._meta;h&&(f=l.templateString(f,h)),u+=f}t.currentvalue.suffix&&(u+=t.currentvalue.suffix),s.call(o.font,t.currentvalue.font).text(u).call(c.convertToTspans,t._gd);var g=c.lineCount(s),v=(i.currentValueMaxLines+1-g)*t.currentvalue.font.size*p;return c.positionText(s,a,v),s}}function b(e,t,r){l.ensureSingle(e,"rect",d.gripRectClass,function(a){a.call(T,t,e,r).style("pointer-events","all")}).attr({width:d.gripWidth,height:d.gripHeight,rx:d.gripRadius,ry:d.gripRadius}).call(i.stroke,r.bordercolor).call(i.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function _(e,t,r){var a=l.ensureSingle(e,"text",d.labelClass,function(e){e.attr({"text-anchor":"middle","data-notex":1})}),n=t.step.label,i=r._gd._fullLayout._meta;return i&&(n=l.templateString(n,i)),a.call(o.font,r.font).text(n).call(c.convertToTspans,r._gd),a}function w(e,t){var r=l.ensureSingle(e,"g",d.labelsClass),n=t._dims,i=r.selectAll("g."+d.labelGroupClass).data(n.labelSteps);i.enter().append("g").classed(d.labelGroupClass,!0),i.exit().remove(),i.each(function(e){var r=a.select(this);r.call(_,e,t),o.setTranslate(r,C(t,e.fraction),d.tickOffset+t.ticklen+t.font.size*p+d.labelOffset+n.currentValueTotalHeight)})}function k(e,t,r,a,n){var i=Math.round(a*(r._stepCount-1)),o=r._visibleSteps[i]._index;o!==r.active&&A(e,t,r,o,!0,n)}function A(e,t,r,a,i,o){var l=r.active;r.active=a,u(e.layout,d.name,r).applyUpdate("active",a);var s=r.steps[r.active];t.call(L,r,o),t.call(x,r),e.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:i,previousActive:l}),s&&s.method&&i&&(t._nextMethod?(t._nextMethod.step=s,t._nextMethod.doCallback=i,t._nextMethod.doTransition=o):(t._nextMethod={step:s,doCallback:i,doTransition:o},t._nextMethodRaf=window.requestAnimationFrame(function(){var r=t._nextMethod.step;r.method&&(r.execute&&n.executeAPICommand(e,r.method,r.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function T(e,t,r){var n=r.node(),o=a.select(t);function l(){return r.data()[0]}e.on("mousedown",function(){var e=l();t.emit("plotly_sliderstart",{slider:e});var s=r.select("."+d.gripRectClass);a.event.stopPropagation(),a.event.preventDefault(),s.call(i.fill,e.activebgcolor);var c=S(e,a.mouse(n)[0]);k(t,r,e,c,!0),e._dragging=!0,o.on("mousemove",function(){var e=l(),i=S(e,a.mouse(n)[0]);k(t,r,e,i,!1)}),o.on("mouseup",function(){var e=l();e._dragging=!1,s.call(i.fill,e.bgcolor),o.on("mouseup",null),o.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function M(e,t){var r=e.selectAll("rect."+d.tickRectClass).data(t._visibleSteps),n=t._dims;r.enter().append("rect").classed(d.tickRectClass,!0),r.exit().remove(),r.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),r.each(function(e,r){var l=r%n.labelStride==0,s=a.select(this);s.attr({height:l?t.ticklen:t.minorticklen}).call(i.fill,t.tickcolor),o.setTranslate(s,C(t,r/(t._stepCount-1))-.5*t.tickwidth,(l?d.tickOffset:d.minorTickOffset)+n.currentValueTotalHeight)})}function L(e,t,r){for(var a=e.select("rect."+d.gripRectClass),n=0,i=0;i<t._stepCount;i++)if(t._visibleSteps[i]._index===t.active){n=i;break}var o=C(t,n/(t._stepCount-1));if(!t._invokingCommand){var l=a;r&&t.transition.duration>0&&(l=l.transition().duration(t.transition.duration).ease(t.transition.easing)),l.attr("transform",s(o-.5*d.gripWidth,t._dims.currentValueTotalHeight))}}function C(e,t){var r=e._dims;return r.inputAreaStart+d.stepInset+(r.inputAreaLength-2*d.stepInset)*Math.min(1,Math.max(0,t))}function S(e,t){var r=e._dims;return Math.min(1,Math.max(0,(t-d.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*d.stepInset-2*r.inputAreaStart)))}function z(e,t,r){var a=r._dims,n=l.ensureSingle(e,"rect",d.railTouchRectClass,function(a){a.call(T,t,e,r).style("pointer-events","all")});n.attr({width:a.inputAreaLength,height:Math.max(a.inputAreaWidth,d.tickOffset+r.ticklen+a.labelHeight)}).call(i.fill,r.bgcolor).attr("opacity",0),o.setTranslate(n,0,a.currentValueTotalHeight)}function P(e,t){var r=t._dims,a=r.inputAreaLength-2*d.railInset,n=l.ensureSingle(e,"rect",d.railRectClass);n.attr({width:a,height:d.railWidth,rx:d.railRadius,ry:d.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),o.setTranslate(n,d.railInset,.5*(r.inputAreaWidth-d.railWidth)+r.currentValueTotalHeight)}e.exports=function(e){var t=e._fullLayout,r=function(e,t){for(var r=e[d.name],a=[],n=0;n<r.length;n++){var i=r[n];i.visible&&(i._gd=t,a.push(i))}return a}(t,e),i=t._infolayer.selectAll("g."+d.containerClassName).data(r.length>0?[0]:[]);function l(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),n.autoMargin(e,v(t))}if(i.enter().append("g").classed(d.containerClassName,!0).style("cursor","ew-resize"),i.exit().each(function(){a.select(this).selectAll("g."+d.groupClassName).each(l)}).remove(),0!==r.length){var s=i.selectAll("g."+d.groupClassName).data(r,m);s.enter().append("g").classed(d.groupClassName,!0),s.exit().each(l).remove();for(var c=0;c<r.length;c++){var u=r[c];y(e,u)}s.each(function(t){var r=a.select(this);!function(e){var t=e._dims;t.labelSteps=[];for(var r=e._stepCount,a=0;a<r;a+=t.labelStride)t.labelSteps.push({fraction:a/(r-1),step:e._visibleSteps[a]})}(t),n.manageCommandObserver(e,t,t._visibleSteps,function(t){var a=r.data()[0];a.active!==t.index&&(a._dragging||A(e,r,a,t.index,!1,!0))}),function(e,t,r){(r.steps[r.active]||{}).visible||(r.active=r._visibleSteps[0]._index);t.call(x,r).call(P,r).call(w,r).call(M,r).call(z,e,r).call(b,e,r);var a=r._dims;o.setTranslate(t,a.lx+r.pad.l,a.ly+r.pad.t),t.call(L,r,!1),t.call(x,r)}(e,a.select(this),t)})}}},function(e,t,r){"use strict";var a=r(0),n=r(470),i=r(502),o=r(559);e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:a.extendFlat({},n,{yaxis:i})}}},layoutAttributes:r(470),handleDefaults:r(560),calcAutorange:r(561),draw:r(562),isVisible:o.isVisible,makeData:o.makeData,autoMarginOpts:o.autoMarginOpts}},function(e,t,r){"use strict";var a=r(27),n=r(39),i=r(471),o=r(28).LINE_SPACING,l=i.name;function s(e){var t=e&&e[l];return t&&t.visible}t.isVisible=s,t.makeData=function(e){var t=a.list({_fullLayout:e},"x",!0),r=e.margin,n=[];if(!e._has("gl2d"))for(var i=0;i<t.length;i++){var o=t[i];if(s(o)){n.push(o);var c=o[l];c._id=l+o._id,c._height=(e.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}e._rangeSliderData=n},t.autoMarginOpts=function(e,t){var r=e._fullLayout,a=t[l],s=t._id.charAt(0),c=0,u=0;"bottom"===t.side&&(c=t._depth,t.title.text!==r._dfltTitle[s]&&(u=1.5*t.title.font.size+10+a._offsetShift,u+=(t.title.text.match(n.BR_TAG_ALL)||[]).length*t.title.font.size*o));return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:a._height+c+Math.max(r.margin.b,u),pad:i.extraPad+2*a._offsetShift}}},function(e,t,r){"use strict";var a=r(0),n=r(17),i=r(27),o=r(470),l=r(502);e.exports=function(e,t,r){var s=e[r],c=t[r];if(s.rangeslider||t._requestRangeslider[c._id]){a.isPlainObject(s.rangeslider)||(s.rangeslider={});var u,d,f=s.rangeslider,p=n.newContainer(c,"rangeslider");if(_("visible")){_("bgcolor",t.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!c.isValidRange(f.range)),_("range");var h=t._subplots;if(h)for(var g=h.cartesian.filter(function(e){return e.substr(0,e.indexOf("y"))===i.name2id(r)}).map(function(e){return e.substr(e.indexOf("y"),e.length)}),v=a.simpleMap(g,i.id2name),m=0;m<v.length;m++){var y=v[m];u=f[y]||{},d=n.newContainer(p,y,"yaxis");var x,b=t[y];u.range&&b.isValidRange(u.range)&&(x="fixed"),"match"!==w("rangemode",x)&&w("range",b.range.slice())}p._input=f}}function _(e,t){return a.coerce(f,p,o,e,t)}function w(e,t){return a.coerce(u,d,l,e,t)}}},function(e,t,r){"use strict";var a=r(27).list,n=r(107).getAutoRange,i=r(471);e.exports=function(e){for(var t=a(e,"x",!0),r=0;r<t.length;r++){var o=t[r],l=o[i.name];l&&l.visible&&l.autorange&&(l._input.autorange=!0,l._input.range=l.range=n(e,o))}}},function(e,t,r){"use strict";var a=r(4),n=r(3),i=r(57),o=r(0),l=o.strTranslate,s=r(38),c=r(14),u=r(111),d=r(381),f=r(27),p=r(328),h=r(330),g=r(471);function v(e,t,r,a){var n=o.ensureSingle(e,"rect",g.bgClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),i=a.borderwidth%2==0?a.borderwidth:a.borderwidth-1,c=-a._offsetShift,u=s.crispRound(t,a.borderwidth);n.attr({width:a._width+i,height:a._height+i,transform:l(c,c),fill:a.bgcolor,stroke:a.bordercolor,"stroke-width":u})}function m(e,t,r,a){var n=t._fullLayout;o.ensureSingleById(n._topdefs,"clipPath",a._clipId,function(e){e.append("rect").attr({x:0,y:0})}).select("rect").attr({width:a._width,height:a._height})}function y(e,t,r,n){var l,c=t.calcdata,u=e.selectAll("g."+g.rangePlotClassName).data(r._subplotsWith,o.identity);u.enter().append("g").attr("class",function(e){return g.rangePlotClassName+" "+e}).call(s.setClipUrl,n._clipId,t),u.order(),u.exit().remove(),u.each(function(e,o){var s=a.select(this),u=0===o,p=f.getFromId(t,e,"y"),h=p._name,g=n[h],v={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:n.range.slice(),calendar:r.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};r.rangebreaks&&(v.layout.xaxis.rangebreaks=r.rangebreaks),v.layout[h]={type:p.type,domain:[0,1],range:"match"!==g.rangemode?g.range.slice():p.range.slice(),calendar:p.calendar},p.rangebreaks&&(v.layout[h].rangebreaks=p.rangebreaks),i.supplyDefaults(v);var m=v._fullLayout.xaxis,y=v._fullLayout[h];m.clearCalc(),m.setScale(),y.clearCalc(),y.setScale();var x={id:e,plotgroup:s,xaxis:m,yaxis:y,isRangePlot:!0};u?l=x:(x.mainplot="xy",x.mainplotinfo=l),d.rangePlot(t,x,function(e,t){for(var r=[],a=0;a<e.length;a++){var n=e[a],i=n[0].trace;i.xaxis+i.yaxis===t&&r.push(n)}return r}(c,e))})}function x(e,t,r,a,n){(o.ensureSingle(e,"rect",g.maskMinClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",a._height).call(c.fill,g.maskColor),o.ensureSingle(e,"rect",g.maskMaxClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",a._height).call(c.fill,g.maskColor),"match"!==n.rangemode)&&(o.ensureSingle(e,"rect",g.maskMinOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",a._width).call(c.fill,g.maskOppAxisColor),o.ensureSingle(e,"rect",g.maskMaxOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",a._width).style("border-top",g.maskOppBorder).call(c.fill,g.maskOppAxisColor))}function b(e,t,r,a){t._context.staticPlot||o.ensureSingle(e,"rect",g.slideBoxClassName,function(e){e.attr({y:0,cursor:g.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:a._height,fill:g.slideBoxFill})}function _(e,t,r,a){var n=o.ensureSingle(e,"g",g.grabberMinClassName),i=o.ensureSingle(e,"g",g.grabberMaxClassName),l={x:0,width:g.handleWidth,rx:g.handleRadius,fill:c.background,stroke:c.defaultLine,"stroke-width":g.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(a._height/4),height:Math.round(a._height/2)};o.ensureSingle(n,"rect",g.handleMinClassName,function(e){e.attr(l)}).attr(s),o.ensureSingle(i,"rect",g.handleMaxClassName,function(e){e.attr(l)}).attr(s);var u={width:g.grabAreaWidth,x:0,y:0,fill:g.grabAreaFill,cursor:t._context.staticPlot?void 0:g.grabAreaCursor};o.ensureSingle(n,"rect",g.grabAreaMinClassName,function(e){e.attr(u)}).attr("height",a._height),o.ensureSingle(i,"rect",g.grabAreaMaxClassName,function(e){e.attr(u)}).attr("height",a._height)}e.exports=function(e){for(var t=e._fullLayout,r=t._rangeSliderData,i=0;i<r.length;i++){var s=r[i][g.name];s._clipId=s._id+"-"+t._uid}var c=t._infolayer.selectAll("g."+g.containerClassName).data(r,function(e){return e._name});c.exit().each(function(e){var r=e[g.name];t._topdefs.select("#"+r._clipId).remove()}).remove(),0!==r.length&&(c.enter().append("g").classed(g.containerClassName,!0).attr("pointer-events","all"),c.each(function(r){var i=a.select(this),s=r[g.name],c=t[f.id2name(r.anchor)],d=s[f.id2name(r.anchor)];if(s.range){var w,k=o.simpleMap(s.range,r.r2l),A=o.simpleMap(r.range,r.r2l);w=A[0]<A[1]?[Math.min(k[0],A[0]),Math.max(k[1],A[1])]:[Math.max(k[0],A[0]),Math.min(k[1],A[1])],s.range=s._input.range=o.simpleMap(w,r.l2r)}r.cleanRange("rangeslider.range");var T=t._size,M=r.domain;s._width=T.w*(M[1]-M[0]);var L=Math.round(T.l+T.w*M[0]),C=Math.round(T.t+T.h*(1-r._counterDomainMin)+("bottom"===r.side?r._depth:0)+s._offsetShift+g.extraPad);i.attr("transform",l(L,C)),s._rl=o.simpleMap(s.range,r.r2l);var S=s._rl[0],z=s._rl[1],P=z-S;if(s.p2d=function(e){return e/s._width*P+S},s.d2p=function(e){return(e-S)/P*s._width},r.rangebreaks){var O=r.locateBreaks(S,z);if(O.length){var I,R,D=0;for(I=0;I<O.length;I++)D+=(R=O[I]).max-R.min;var E=s._width/(z-S-D),F=[-E*S];for(I=0;I<O.length;I++)R=O[I],F.push(F[F.length-1]-E*(R.max-R.min));for(s.d2p=function(e){for(var t=F[0],r=0;r<O.length;r++){var a=O[r];if(e>=a.max)t=F[r+1];else if(e<a.min)break}return t+E*e},I=0;I<O.length;I++)(R=O[I]).pmin=s.d2p(R.min),R.pmax=s.d2p(R.max);s.p2d=function(e){for(var t=F[0],r=0;r<O.length;r++){var a=O[r];if(e>=a.pmax)t=F[r+1];else if(e<a.pmin)break}return(e-t)/E}}}if("match"!==d.rangemode){var B=c.r2l(d.range[0]),N=c.r2l(d.range[1])-B;s.d2pOppAxis=function(e){return(e-B)/N*s._height}}i.call(v,e,r,s).call(m,e,r,s).call(y,e,r,s).call(x,e,r,s,d).call(b,e,r,s).call(_,e,r,s),function(e,t,r,i){if(t._context.staticPlot)return;var l=e.select("rect."+g.slideBoxClassName).node(),s=e.select("rect."+g.grabAreaMinClassName).node(),c=e.select("rect."+g.grabAreaMaxClassName).node();function u(){var u=a.event,d=u.target,f=u.clientX||u.touches[0].clientX,g=f-e.node().getBoundingClientRect().left,v=i.d2p(r._rl[0]),m=i.d2p(r._rl[1]),y=p.coverSlip();function x(e){var u,p,x,b=e.clientX||e.touches[0].clientX,_=+b-f;switch(d){case l:x="ew-resize",u=v+_,p=m+_;break;case s:x="col-resize",u=v+_,p=m;break;case c:x="col-resize",u=v,p=m+_;break;default:x="ew-resize",u=g,p=g+_}if(p<u){var w=p;p=u,u=w}i._pixelMin=u,i._pixelMax=p,h(a.select(y),x),function(e,t,r,a){function i(e){return r.l2r(o.constrain(e,a._rl[0],a._rl[1]))}var l=i(a.p2d(a._pixelMin)),s=i(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){n.call("_guiRelayout",t,r._name+".range",[l,s])})}(0,t,r,i)}function b(){y.removeEventListener("mousemove",x),y.removeEventListener("mouseup",b),this.removeEventListener("touchmove",x),this.removeEventListener("touchend",b),o.removeElement(y)}this.addEventListener("touchmove",x),this.addEventListener("touchend",b),y.addEventListener("mousemove",x),y.addEventListener("mouseup",b)}e.on("mousedown",u),e.on("touchstart",u)}(i,e,r,s),function(e,t,r,a,n,i){var s=g.handleWidth/2;function c(e){return o.constrain(e,0,a._width)}function u(e){return o.constrain(e,0,a._height)}function d(e){return o.constrain(e,-s,a._width+s)}var f=c(a.d2p(r._rl[0])),p=c(a.d2p(r._rl[1]));if(e.select("rect."+g.slideBoxClassName).attr("x",f).attr("width",p-f),e.select("rect."+g.maskMinClassName).attr("width",f),e.select("rect."+g.maskMaxClassName).attr("x",p).attr("width",a._width-p),"match"!==i.rangemode){var h=a._height-u(a.d2pOppAxis(n._rl[1])),v=a._height-u(a.d2pOppAxis(n._rl[0]));e.select("rect."+g.maskMinOppAxisClassName).attr("x",f).attr("height",h).attr("width",p-f),e.select("rect."+g.maskMaxOppAxisClassName).attr("x",f).attr("y",v).attr("height",a._height-v).attr("width",p-f),e.select("rect."+g.slideBoxClassName).attr("y",h).attr("height",v-h)}var m=Math.round(d(f-s))-.5,y=Math.round(d(p-s))+.5;e.select("g."+g.grabberMinClassName).attr("transform",l(m,.5)),e.select("g."+g.grabberMaxClassName).attr("transform",l(y,.5))}(i,0,r,s,c,d),"bottom"===r.side&&u.draw(e,r._id+"title",{propContainer:r,propName:r._name+".title",placeholder:t._dfltTitle.x,attributes:{x:r._offset+r._length/2,y:C+s._height+s._offsetShift+10+1.5*r.title.font.size,"text-anchor":"middle"}})}))}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(472)}}},layoutAttributes:r(472),handleDefaults:r(564),draw:r(565)}},function(e,t,r){"use strict";var a=r(0),n=r(14),i=r(17),o=r(105),l=r(472),s=r(503);function c(e,t,r,n){var i=n.calendar;function o(r,n){return a.coerce(e,t,l.buttons,r,n)}if(o("visible")){var s=o("step");"all"!==s&&(!i||"gregorian"===i||"month"!==s&&"year"!==s?o("stepmode"):t.stepmode="backward",o("count")),o("label")}}e.exports=function(e,t,r,u,d){var f=e.rangeselector||{},p=i.newContainer(t,"rangeselector");function h(e,t){return a.coerce(f,p,l,e,t)}if(h("visible",o(f,p,{name:"buttons",handleItemDefaults:c,calendar:d}).length>0)){var g=function(e,t,r){for(var a=r.filter(function(r){return t[r].anchor===e._id}),n=0,i=0;i<a.length;i++){var o=t[a[i]].domain;o&&(n=Math.max(o[1],n))}return[e.domain[0],n+s.yPad]}(t,r,u);h("x",g[0]),h("y",g[1]),a.noneOrAll(e,t,["x","y"]),h("xanchor"),h("yanchor"),a.coerceFont(h,"font",r.font);var v=h("bgcolor");h("activecolor",n.contrast(v,s.lightAmount,s.darkAmount)),h("bordercolor"),h("borderwidth")}}},function(e,t,r){"use strict";var a=r(4),n=r(3),i=r(57),o=r(14),l=r(38),s=r(0),c=s.strTranslate,u=r(39),d=r(27),f=r(28),p=f.LINE_SPACING,h=f.FROM_TL,g=f.FROM_BR,v=r(503),m=r(566);function y(e){return e._id}function x(e,t,r){var a=s.ensureSingle(e,"rect","selector-rect",function(e){e.attr("shape-rendering","crispEdges")});a.attr({rx:v.rx,ry:v.ry}),a.call(o.stroke,t.bordercolor).call(o.fill,function(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}(t,r)).style("stroke-width",t.borderwidth+"px")}function b(e,t,r,a){s.ensureSingle(e,"text","selector-text",function(e){e.attr("text-anchor","middle")}).call(l.font,t.font).text(function(e,t){if(e.label)return t?s.templateString(e.label,t):e.label;return"all"===e.step?"all":e.count+e.step.charAt(0)}(r,a._fullLayout._meta)).call(function(e){u.convertToTspans(e,a)})}e.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(function(e){for(var t=d.list(e,"x",!0),r=[],a=0;a<t.length;a++){var n=t[a];n.rangeselector&&n.rangeselector.visible&&r.push(n)}return r}(e),y);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each(function(t){var r=a.select(this),o=t,d=o.rangeselector,f=r.selectAll("g.button").data(s.filterVisible(d.buttons));f.enter().append("g").classed("button",!0),f.exit().remove(),f.each(function(t){var r=a.select(this),i=m(o,t);t._isActive=function(e,t,r){if("all"===t.step)return!0===e.autorange;var a=Object.keys(r);return e.range[0]===r[a[0]]&&e.range[1]===r[a[1]]}(o,t,i),r.call(x,d,t),r.call(b,d,t,e),r.on("click",function(){e._dragged||n.call("_guiRelayout",e,i)}),r.on("mouseover",function(){t._isHovered=!0,r.call(x,d,t)}),r.on("mouseout",function(){t._isHovered=!1,r.call(x,d,t)})}),function(e,t,r,n,o){var d=0,f=0,m=r.borderwidth;t.each(function(){var e=a.select(this),t=e.select(".selector-text"),n=r.font.size*p,i=Math.max(n*u.lineCount(t),16)+3;f=Math.max(f,i)}),t.each(function(){var e=a.select(this),t=e.select(".selector-rect"),n=e.select(".selector-text"),i=n.node()&&l.bBox(n.node()).width,o=r.font.size*p,s=u.lineCount(n),h=Math.max(i+10,v.minButtonWidth);e.attr("transform",c(m+d,m)),t.attr({x:0,y:0,width:h,height:f}),u.positionText(n,h/2,f/2-(s-1)*o/2+3),d+=h+5});var y=e._fullLayout._size,x=y.l+y.w*r.x,b=y.t+y.h*(1-r.y),_="left";s.isRightAnchor(r)&&(x-=d,_="right");s.isCenterAnchor(r)&&(x-=d/2,_="center");var w="top";s.isBottomAnchor(r)&&(b-=f,w="bottom");s.isMiddleAnchor(r)&&(b-=f/2,w="middle");d=Math.ceil(d),f=Math.ceil(f),x=Math.round(x),b=Math.round(b),i.autoMargin(e,n+"-range-selector",{x:r.x,y:r.y,l:d*h[_],r:d*g[_],b:f*g[w],t:f*h[w]}),o.attr("transform",c(x,b))}(e,f,d,o._name,r)})}},function(e,t,r){"use strict";var a=r(4);e.exports=function(e,t){var r=e._name,n={};if("all"===t.step)n[r+".autorange"]=!0;else{var i=function(e,t){var r,n=e.range,i=new Date(e.r2l(n[1])),o=t.step,l=t.count;switch(t.stepmode){case"backward":r=e.l2r(+a.time[o].utc.offset(i,-l));break;case"todate":var s=a.time[o].utc.offset(i,-l);r=e.l2r(+a.time[o].utc.ceil(s))}var c=n[1];return[r,c]}(e,t);n[r+".range[0]"]=i[0],n[r+".range[1]"]=i[1]}return n}},function(e,t,r){"use strict";var a=r(0),n=r(32).counter,i=r(427).attributes,o=r(26).idRegex,l=r(17),s={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[n("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function c(e,t,r){var a=t[r+"axes"],n=Object.keys((e._splomAxes||{})[r]||{});return Array.isArray(a)?a:n.length?n:void 0}function u(e,t,r,a,n,i){var o=t(e+"gap",r),l=t("domain."+e);t(e+"side",a);for(var s=new Array(n),c=l[0],u=(l[1]-c)/(n-o),d=u*(1-o),f=0;f<n;f++){var p=c+u*f;s[i?n-1-f:f]=[p,p+d]}return s}function d(e,t,r,a,n){var i,o=new Array(r);function l(e,r){-1!==t.indexOf(r)&&void 0===a[r]?(o[e]=r,a[r]=e):o[e]=""}if(Array.isArray(e))for(i=0;i<r;i++)l(i,e[i]);else for(l(0,n),i=1;i<r;i++)l(i,n+(i+1));return o}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:s}},layoutAttributes:s,sizeDefaults:function(e,t){var r=e.grid||{},n=c(t,r,"x"),i=c(t,r,"y");if(e.grid||n||i){var o,d,f=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),p=Array.isArray(n),h=Array.isArray(i),g=p&&n!==r.xaxes&&h&&i!==r.yaxes;f?(o=r.subplots.length,d=r.subplots[0].length):(h&&(o=i.length),p&&(d=n.length));var v=l.newContainer(t,"grid"),m=A("rows",o),y=A("columns",d);if(m*y>1){f||p||h||"independent"===A("pattern")&&(f=!0),v._hasSubplotGrid=f;var x,b,_="top to bottom"===A("roworder"),w=f?.2:.1,k=f?.3:.1;g&&t._splomGridDflt&&(x=t._splomGridDflt.xside,b=t._splomGridDflt.yside),v._domains={x:u("x",A,w,x,y),y:u("y",A,k,b,m,_)}}else delete t.grid}function A(e,t){return a.coerce(r,v,s,e,t)}},contentDefaults:function(e,t){var r=t.grid;if(r&&r._domains){var a,n,i,o,l,s,u,f=e.grid||{},p=t._subplots,h=r._hasSubplotGrid,g=r.rows,v=r.columns,m="independent"===r.pattern,y=r._axisMap={};if(h){var x=f.subplots||[];s=r.subplots=new Array(g);var b=1;for(a=0;a<g;a++){var _=s[a]=new Array(v),w=x[a]||[];for(n=0;n<v;n++)if(m?(l=1===b?"xy":"x"+b+"y"+b,b++):l=w[n],_[n]="",-1!==p.cartesian.indexOf(l)){if(u=l.indexOf("y"),i=l.slice(0,u),o=l.slice(u),void 0!==y[i]&&y[i]!==n||void 0!==y[o]&&y[o]!==a)continue;_[n]=l,y[i]=n,y[o]=a}}}else{var k=c(t,f,"x"),A=c(t,f,"y");r.xaxes=d(k,p.xaxis,v,y,"x"),r.yaxes=d(A,p.yaxis,g,y,"y")}var T=r._anchors={},M="top to bottom"===r.roworder;for(var L in y){var C,S,z,P=L.charAt(0),O=r[P+"side"];if(O.length<8)T[L]="free";else if("x"===P){if("t"===O.charAt(0)===M?(C=0,S=1,z=g):(C=g-1,S=-1,z=-1),h){var I=y[L];for(a=C;a!==z;a+=S)if((l=s[a][I])&&(u=l.indexOf("y"),l.slice(0,u)===L)){T[L]=l.slice(u);break}}else for(a=C;a!==z;a+=S)if(o=r.yaxes[a],-1!==p.cartesian.indexOf(L+o)){T[L]=o;break}}else if("l"===O.charAt(0)?(C=0,S=1,z=v):(C=v-1,S=-1,z=-1),h){var R=y[L];for(a=C;a!==z;a+=S)if((l=s[R][a])&&(u=l.indexOf("y"),l.slice(u)===L)){T[L]=l.slice(0,u);break}}else for(a=C;a!==z;a+=S)if(i=r.xaxes[a],-1!==p.cartesian.indexOf(i+L)){T[L]=i;break}}}}}},function(e,t,r){"use strict";var a=r(0),n=r(42).overrideAll,i=r(504),o={error_x:a.extendFlat({},i),error_y:a.extendFlat({},i)};delete o.error_x.copy_zstyle,delete o.error_y.copy_zstyle,delete o.error_y.copy_ystyle;var l={error_x:a.extendFlat({},i),error_y:a.extendFlat({},i),error_z:a.extendFlat({},i)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:o,bar:o,histogram:o,scatter3d:n(l,"calc","nested"),scattergl:n(o,"calc","nested")}},supplyDefaults:r(569),calc:r(570),makeComputeError:r(505),plot:r(571),style:r(572),hoverInfo:function(e,t,r){(t.error_y||{}).visible&&(r.yerr=e.yh-e.y,t.error_y.symmetric||(r.yerrneg=e.y-e.ys));(t.error_x||{}).visible&&(r.xerr=e.xh-e.x,t.error_x.symmetric||(r.xerrneg=e.x-e.xs))}}},function(e,t,r){"use strict";var a=r(1),n=r(3),i=r(0),o=r(17),l=r(504);e.exports=function(e,t,r,s){var c="error_"+s.axis,u=o.newContainer(t,c),d=e[c]||{};function f(e,t){return i.coerce(d,u,l,e,t)}if(!1!==f("visible",void 0!==d.array||void 0!==d.value||"sqrt"===d.type)){var p=f("type","array"in d?"data":"percent"),h=!0;"sqrt"!==p&&(h=f("symmetric",!(("data"===p?"arrayminus":"valueminus")in d))),"data"===p?(f("array"),f("traceref"),h||(f("arrayminus"),f("tracerefminus"))):"percent"!==p&&"constant"!==p||(f("value"),h||f("valueminus"));var g="copy_"+s.inherit+"style";if(s.inherit)(t["error_"+s.inherit]||{}).visible&&f(g,!(d.color||a(d.thickness)||a(d.width)));s.inherit&&u[g]||(f("color",r),f("thickness"),f("width",n.traceIs(t,"gl3d")?0:4))}}},function(e,t,r){"use strict";var a=r(1),n=r(3),i=r(99),o=r(0),l=r(505);function s(e,t,r,n){var s=t["error_"+n]||{},c=[];if(s.visible&&-1!==["linear","log"].indexOf(r.type)){for(var u=l(s),d=0;d<e.length;d++){var f=e[d],p=f.i;if(void 0===p)p=d;else if(null===p)continue;var h=f[n];if(a(r.c2l(h))){var g=u(h,p);if(a(g[0])&&a(g[1])){var v=f[n+"s"]=h-g[0],m=f[n+"h"]=h+g[1];c.push(v,m)}}}var y=r._id,x=t._extremes[y],b=i.findExtremes(r,c,o.extendFlat({tozero:x.opts.tozero},{padded:!0}));x.min=x.min.concat(b.min),x.max=x.max.concat(b.max)}}e.exports=function(e){for(var t=e.calcdata,r=0;r<t.length;r++){var a=t[r],o=a[0].trace;if(!0===o.visible&&n.traceIs(o,"errorBarsOK")){var l=i.getFromId(e,o.xaxis),c=i.getFromId(e,o.yaxis);s(a,o,l,"x"),s(a,o,c,"y")}}}},function(e,t,r){"use strict";var a=r(4),n=r(1),i=r(38),o=r(101);e.exports=function(e,t,r,l){var s=r.xaxis,c=r.yaxis,u=l&&l.duration>0;t.each(function(t){var d,f=t[0].trace,p=f.error_x||{},h=f.error_y||{};f.ids&&(d=function(e){return e.id});var g=o.hasMarkers(f)&&f.marker.maxdisplayed>0;h.visible||p.visible||(t=[]);var v=a.select(this).selectAll("g.errorbar").data(t,d);if(v.exit().remove(),t.length){p.visible||v.selectAll("path.xerror").remove(),h.visible||v.selectAll("path.yerror").remove(),v.style("opacity",1);var m=v.enter().append("g").classed("errorbar",!0);u&&m.style("opacity",0).transition().duration(l.duration).style("opacity",1),i.setClipUrl(v,r.layerClipId,e),v.each(function(e){var t=a.select(this),r=function(e,t,r){var a={x:t.c2p(e.x),y:r.c2p(e.y)};void 0!==e.yh&&(a.yh=r.c2p(e.yh),a.ys=r.c2p(e.ys),n(a.ys)||(a.noYS=!0,a.ys=r.c2p(e.ys,!0)));void 0!==e.xh&&(a.xh=t.c2p(e.xh),a.xs=t.c2p(e.xs),n(a.xs)||(a.noXS=!0,a.xs=t.c2p(e.xs,!0)));return a}(e,s,c);if(!g||e.vis){var i,o=t.select("path.yerror");if(h.visible&&n(r.x)&&n(r.yh)&&n(r.ys)){var d=h.width;i="M"+(r.x-d)+","+r.yh+"h"+2*d+"m-"+d+",0V"+r.ys,r.noYS||(i+="m-"+d+",0h"+2*d),!o.size()?o=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):u&&(o=o.transition().duration(l.duration).ease(l.easing)),o.attr("d",i)}else o.remove();var f=t.select("path.xerror");if(p.visible&&n(r.y)&&n(r.xh)&&n(r.xs)){var v=(p.copy_ystyle?h:p).width;i="M"+r.xh+","+(r.y-v)+"v"+2*v+"m0,-"+v+"H"+r.xs,r.noXS||(i+="m0,-"+v+"v"+2*v),!f.size()?f=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):u&&(f=f.transition().duration(l.duration).ease(l.easing)),f.attr("d",i)}else f.remove()}})}})}},function(e,t,r){"use strict";var a=r(4),n=r(14);e.exports=function(e){e.each(function(e){var t=e[0].trace,r=t.error_y||{},i=t.error_x||{},o=a.select(this);o.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(n.stroke,r.color),i.copy_ystyle&&(i=r),o.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(n.stroke,i.color)})}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"colorbar",attributes:r(67),supplyDefaults:r(132),draw:r(574).draw,hasColorbar:r(131)}},function(e,t,r){"use strict";var a=r(4),n=r(19),i=r(57),o=r(3),l=r(99),s=r(328),c=r(0),u=c.strTranslate,d=r(7).extendFlat,f=r(330),p=r(38),h=r(14),g=r(111),v=r(39),m=r(29).flipScale,y=r(382),x=r(383),b=r(18),_=r(28),w=_.LINE_SPACING,k=_.FROM_TL,A=_.FROM_BR,T=r(575).cn;e.exports={draw:function(e){var t=e._fullLayout._infolayer.selectAll("g."+T.colorbar).data(function(e){var t,r,a,n,i=e._fullLayout,o=e.calcdata,l=[];function s(e){return d(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function c(){"function"==typeof n.calc?n.calc(e,a,t):(t._fillgradient=r.reversescale?m(r.colorscale):r.colorscale,t._zrange=[r[n.min],r[n.max]])}for(var u=0;u<o.length;u++){var f=o[u],p=(a=f[0].trace)._module.colorbar;if(!0===a.visible&&p)for(var h=Array.isArray(p),g=h?p:[p],v=0;v<g.length;v++){var y=(n=g[v]).container;(r=y?a[y]:a)&&r.showscale&&((t=s(r.colorbar))._id="cb"+a.uid+(h&&y?"-"+y:""),t._traceIndex=a.index,t._propPrefix=(y?y+".":"")+"colorbar.",t._meta=a._meta,c(),l.push(t))}}for(var x in i._colorAxes)if((r=i[x]).showscale){var b=i._colorAxes[x];(t=s(r.colorbar))._id="cb"+x,t._propPrefix=x+".colorbar.",t._meta=i._meta,n={min:"cmin",max:"cmax"},"heatmap"!==b[0]&&(a=b[1],n.calc=a._module.colorbar.calc),c(),l.push(t)}return l}(e),function(e){return e._id});t.enter().append("g").attr("class",function(e){return e._id}).classed(T.colorbar,!0),t.each(function(t){var r=a.select(this);c.ensureSingle(r,"rect",T.cbbg),c.ensureSingle(r,"g",T.cbfills),c.ensureSingle(r,"g",T.cblines),c.ensureSingle(r,"g",T.cbaxis,function(e){e.classed(T.crisp,!0)}),c.ensureSingle(r,"g",T.cbtitleunshift,function(e){e.append("g").classed(T.cbtitle,!0)}),c.ensureSingle(r,"rect",T.cboutline);var m=function(e,t,r){var o=r._fullLayout,s=o._size,f=t._fillcolor,m=t._line,_=t.title,M=_.side,L=t._zrange||a.extent(("function"==typeof f?f:m.color).domain()),C="function"==typeof m.color?m.color:function(){return m.color},S="function"==typeof f?f:function(){return f},z=t._levels,P=function(e,t,r){var a,n,i=t._levels,o=[],l=[],s=i.end+i.size/100,c=i.size,u=1.001*r[0]-.001*r[1],d=1.001*r[1]-.001*r[0];for(n=0;n<1e5&&(a=i.start+n*c,!(c>0?a>=s:a<=s));n++)a>u&&a<d&&o.push(a);if(t._fillgradient)l=[0];else if("function"==typeof t._fillcolor){var f=t._filllevels;if(f)for(s=f.end+f.size/100,c=f.size,n=0;n<1e5&&(a=f.start+n*c,!(c>0?a>=s:a<=s));n++)a>r[0]&&a<r[1]&&l.push(a);else(l=o.map(function(e){return e-i.size/2})).push(l[l.length-1]+i.size)}else t._fillcolor&&"string"==typeof t._fillcolor&&(l=[0]);return i.size<0&&(o.reverse(),l.reverse()),{line:o,fill:l}}(0,t,L),O=P.fill,I=P.line,R=Math.round(t.thickness*("fraction"===t.thicknessmode?s.w:1)),D=R/s.w,E=Math.round(t.len*("fraction"===t.lenmode?s.h:1)),F=E/s.h,B=t.xpad/s.w,N=(t.borderwidth+t.outlinewidth)/2,H=t.ypad/s.h,j=Math.round(t.x*s.w+t.xpad),V=t.x-D*({middle:.5,right:1}[t.xanchor]||0),G=t.y+F*(({top:-.5,bottom:.5}[t.yanchor]||0)-.5),q=Math.round(s.h*(1-G)),Z=q-E;t._lenFrac=F,t._thickFrac=D,t._xLeftFrac=V,t._yBottomFrac=G;var X=t._axis=function(e,t,r){var a=e._fullLayout,n={type:"linear",range:r,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,ticklabelposition:t.ticklabelposition,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:"free",side:"right",position:1},i={type:"linear",_id:"y"+t._id},o={letter:"y",font:a.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:a.calendar};function l(e,t){return c.coerce(n,i,b,e,t)}return y(n,i,l,o,a),x(n,i,l,o),i}(r,t,L);if(X.position=t.x+B+D,-1!==["top","bottom"].indexOf(M)&&(X.title.side=M,X.titlex=t.x+B,X.titley=G+("top"===_.side?F-H:H)),m.color&&"auto"===t.tickmode){X.tickmode="linear",X.tick0=z.start;var U=z.size,W=c.constrain((q-Z)/50,4,15)+1,Y=(L[1]-L[0])/((t.nticks||W)*U);if(Y>1){var Q=Math.pow(10,Math.floor(Math.log(Y)/Math.LN10));U*=Q*c.roundUp(Y/Q,[2,5,10]),(Math.abs(z.start)/z.size+1e-6)%1<2e-6&&(X.tick0=0)}X.dtick=U}X.domain=[G+H,G+F-H],X.setScale(),e.attr("transform",u(Math.round(s.l),Math.round(s.t)));var J,$=e.select("."+T.cbtitleunshift).attr("transform",u(-Math.round(s.l),-Math.round(s.t))),K=e.select("."+T.cbaxis),ee=0;function te(a,n){var i={propContainer:X,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:o._dfltTitle.colorbar,containerGroup:e.select("."+T.cbtitle)},l="h"===a.charAt(0)?a.substr(1):"h"+a;e.selectAll("."+l+",."+l+"-math-group").remove(),g.draw(r,a,d(i,n||{}))}return c.syncOrAsync([i.previousPromises,function(){if(-1!==["top","bottom"].indexOf(M)){var e,r=s.l+(t.x+B)*s.w,a=X.title.font.size;e="top"===M?(1-(G+F-H))*s.h+s.t+3+.75*a:(1-(G+H))*s.h+s.t-3-.25*a,te(X._id+"title",{attributes:{x:r,y:e,"text-anchor":"start"}})}},function(){if(-1!==["top","bottom"].indexOf(M)){var i=e.select("."+T.cbtitle),o=i.select("text"),d=[-t.outlinewidth/2,t.outlinewidth/2],f=i.select(".h"+X._id+"title-math-group").node(),h=15.6;if(o.node()&&(h=parseInt(o.node().style.fontSize,10)*w),f?(ee=p.bBox(f).height)>h&&(d[1]-=(ee-h)/2):o.node()&&!o.classed(T.jsPlaceholder)&&(ee=p.bBox(o.node()).height),ee){if(ee+=5,"top"===M)X.domain[1]-=ee/s.h,d[1]*=-1;else{X.domain[0]+=ee/s.h;var g=v.lineCount(o);d[1]+=(1-g)*h}i.attr("transform",u(d[0],d[1])),X.setScale()}}e.selectAll("."+T.cbfills+",."+T.cblines).attr("transform",u(0,Math.round(s.h*(1-X.domain[1])))),K.attr("transform",u(0,Math.round(-s.t)));var y=e.select("."+T.cbfills).selectAll("rect."+T.cbfill).attr("style","").data(O);y.enter().append("rect").classed(T.cbfill,!0).style("stroke","none"),y.exit().remove();var x=L.map(X.c2p).map(Math.round).sort(function(e,t){return e-t});y.each(function(e,i){var o=[0===i?L[0]:(O[i]+O[i-1])/2,i===O.length-1?L[1]:(O[i]+O[i+1])/2].map(X.c2p).map(Math.round);o[1]=c.constrain(o[1]+(o[1]>o[0])?1:-1,x[0],x[1]);var l=a.select(this).attr({x:j,width:Math.max(R,2),y:a.min(o),height:Math.max(a.max(o)-a.min(o),2)});if(t._fillgradient)p.gradient(l,r,t._id,"vertical",t._fillgradient,"fill");else{var s=S(e).replace("e-","");l.attr("fill",n(s).toHexString())}});var b=e.select("."+T.cblines).selectAll("path."+T.cbline).data(m.color&&m.width?I:[]);b.enter().append("path").classed(T.cbline,!0),b.exit().remove(),b.each(function(e){a.select(this).attr("d","M"+j+","+(Math.round(X.c2p(e))+m.width/2%1)+"h"+R).call(p.lineGroupStyle,m.width,C(e),m.dash)}),K.selectAll("g."+X._id+"tick,path").remove();var _=j+R+(t.outlinewidth||0)/2-("outside"===t.ticks?1:0),k=l.calcTicks(X),A=l.getTickSigns(X)[2];return l.drawTicks(r,X,{vals:"inside"===X.ticks?l.clipEnds(X,k):k,layer:K,path:l.makeTickPath(X,_,A),transFn:l.makeTransTickFn(X)}),l.drawLabels(r,X,{vals:k,layer:K,transFn:l.makeTransTickLabelFn(X),labelFns:l.makeLabelFns(X,_)})},function(){if(-1===["top","bottom"].indexOf(M)){var e=X.title.font.size,t=X._offset+X._length/2,n=s.l+(X.position||0)*s.w+("right"===X.side?10+e*(X.showticklabels?1:.5):-10-e*(X.showticklabels?.5:0));te("h"+X._id+"title",{avoid:{selection:a.select(r).selectAll("g."+X._id+"tick"),side:M,offsetLeft:s.l,offsetTop:0,maxShift:o.width},attributes:{x:n,y:t,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}},i.previousPromises,function(){var a=R+t.outlinewidth/2;if(-1===X.ticklabelposition.indexOf("inside")&&(a+=p.bBox(K.node()).width),(J=$.select("text")).node()&&!J.classed(T.jsPlaceholder)){var n,o=$.select(".h"+X._id+"title-math-group").node();n=o&&-1!==["top","bottom"].indexOf(M)?p.bBox(o).width:p.bBox($.node()).right-j-s.l,a=Math.max(a,n)}var l=2*t.xpad+a+t.borderwidth+t.outlinewidth/2,c=q-Z;e.select("."+T.cbbg).attr({x:j-t.xpad-(t.borderwidth+t.outlinewidth)/2,y:Z-N,width:Math.max(l,2),height:Math.max(c+2*N,2)}).call(h.fill,t.bgcolor).call(h.stroke,t.bordercolor).style("stroke-width",t.borderwidth),e.selectAll("."+T.cboutline).attr({x:j,y:Z+t.ypad+("top"===M?ee:0),width:Math.max(R,2),height:Math.max(c-2*t.ypad-ee,2)}).call(h.stroke,t.outlinecolor).style({fill:"none","stroke-width":t.outlinewidth});var d=({center:.5,right:1}[t.xanchor]||0)*l;e.attr("transform",u(s.l-d,s.t));var f={},g=k[t.yanchor],v=A[t.yanchor];"pixels"===t.lenmode?(f.y=t.y,f.t=c*g,f.b=c*v):(f.t=f.b=0,f.yt=t.y+t.len*g,f.yb=t.y-t.len*v);var m=k[t.xanchor],y=A[t.xanchor];if("pixels"===t.thicknessmode)f.x=t.x,f.l=l*m,f.r=l*y;else{var x=l-R;f.l=x*m,f.r=x*y,f.xl=t.x-t.thickness*m,f.xr=t.x+t.thickness*y}i.autoMargin(r,t._id,f)}],r)}(r,t,e);m&&m.then&&(e._promises||[]).push(m),e._context.edits.colorbarPosition&&function(e,t,r){var a,n,i,l=r._fullLayout._size;s.init({element:e.node(),gd:r,prepFn:function(){a=e.attr("transform"),f(e)},moveFn:function(r,o){e.attr("transform",a+u(r,o)),n=s.align(t._xLeftFrac+r/l.w,t._thickFrac,0,1,t.xanchor),i=s.align(t._yBottomFrac-o/l.h,t._lenFrac,0,1,t.yanchor);var c=s.getCursor(n,i,t.xanchor,t.yanchor);f(e,c)},doneFn:function(){if(f(e),void 0!==n&&void 0!==i){var a={};a[t._propPrefix+"x"]=n,a[t._propPrefix+"y"]=i,void 0!==t._traceIndex?o.call("_guiRestyle",r,a,t._traceIndex):o.call("_guiRelayout",r,a)}}})}(r,t,e)}),t.exit().each(function(t){i.autoMargin(e,t._id)}).remove(),t.order()}}},function(e,t,r){"use strict";e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},function(e,t,r){"use strict";e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},function(e,t,r){"use strict";e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},function(e,t,r){"use strict";var a=r(407),n={getDelay:a.getDelay,getRedrawFunc:a.getRedrawFunc,clone:r(506),toSVG:r(445),svgToImg:r(446),toImage:r(579),downloadImage:r(495)};e.exports=n},function(e,t,r){"use strict";var a=r(352).EventEmitter,n=r(3),i=r(0),o=r(407),l=r(506),s=r(445),c=r(446);e.exports=function(e,t){var r=new a,u=l(e,{format:"png"}),d=u.gd;d.style.position="absolute",d.style.left="-5000px",document.body.appendChild(d);var f=o.getRedrawFunc(d);return n.call("plot",d,u.data,u.layout,u.config).then(f).then(function(){var e=o.getDelay(d._fullLayout);setTimeout(function(){var e=s(d),a=document.createElement("canvas");a.id=i.randstr(),(r=c({format:t.format,width:d._fullLayout.width,height:d._fullLayout.height,canvas:a,emitter:r,svg:e})).clean=function(){d&&document.body.removeChild(d)}},e)}).catch(function(e){r.emit("error",e)}),r}}]));