!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["react"],t);else{var r=t("object"==typeof exports?require("react"):e.react);for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}("undefined"!=typeof self?self:this,function(e){return function(e){function t(i){if(r[i])return r[i].exports;var o=r[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,r){t.exports=e},function(e,t,r){var i,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(r.apply(null,i));else if("object"===o)for(var n in i)s.call(i,n)&&i[n]&&e.push(n)}}return e.join(" ")}var s={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=r:(i=[],void 0!==(o=function(){return r}.apply(t,i))&&(e.exports=o))}()},function(e,t,r){var i,o,s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();i=[r,t,r(0),r(3),r(6)],void 0!==(o=function(e,t,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=e.call(this,t)||this;return r.subscriptionHandles=[],r.state=r.updateState(t.mxObject),r.handleToggle=r.handleToggle.bind(r),r.subscriptionCallback=r.subscriptionCallback.bind(r),r.handleValidations=r.handleValidations.bind(r),r}return s(t,e),t.prototype.render=function(){return this.props.label.trim()?r.createElement(o.Label,{className:this.props.deviceStyle+" "+this.props.class,label:this.props.label,style:t.parseStyle(this.props.style),weight:this.props.labelWidth>11?11:this.props.labelWidth},this.renderSwitch(!0)):this.renderSwitch()},t.prototype.componentWillReceiveProps=function(e){this.resetSubscriptions(e.mxObject),this.setState(this.updateState(e.mxObject))},t.prototype.componentWillUnmount=function(){this.subscriptionHandles.forEach(mx.data.unsubscribe)},t.prototype.renderSwitch=function(e){void 0===e&&(e=!1);var o=this.props,s=o.class,n=o.colorStyle,a=o.deviceStyle,l=o.style;return r.createElement(i.Switch,{alertMessage:this.state.alertMessage,className:e?void 0:s,colorStyle:n,deviceStyle:a,isChecked:this.state.isChecked,onClick:this.handleToggle,status:this.getSwitchStatus(!this.isReadOnly()),style:e?void 0:t.parseStyle(l)})},t.prototype.getAttributeValue=function(e,t){return!!t&&t.get(e)},t.prototype.isReadOnly=function(){var e=this.props,t=e.booleanAttribute,r=e.editable,i=e.mxObject,o=e.readOnly;return"default"!==r||!i||(o||i.isReadonlyAttr(t))},t.prototype.getSwitchStatus=function(e){return this.props.mxObject?e?"enabled":"disabled":"no-context"},t.prototype.handleToggle=function(){var e=this.props,t=e.booleanAttribute,r=e.mxObject;r&&(r.set(t,!r.get(t)),this.executeAction(r))},t.prototype.resetSubscriptions=function(e){this.subscriptionHandles.forEach(mx.data.unsubscribe),this.subscriptionHandles=[],e&&(this.subscriptionHandles.push(mx.data.subscribe({callback:this.subscriptionCallback,guid:e.getGuid()})),this.subscriptionHandles.push(mx.data.subscribe({attr:this.props.booleanAttribute,callback:this.subscriptionCallback,guid:e.getGuid()})),this.subscriptionHandles.push(mx.data.subscribe({callback:this.handleValidations,guid:e.getGuid(),val:!0})))},t.prototype.updateState=function(e){return void 0===e&&(e=this.props.mxObject),{alertMessage:"",isChecked:this.getAttributeValue(this.props.booleanAttribute,e)}},t.prototype.subscriptionCallback=function(){this.setState(this.updateState())},t.prototype.handleValidations=function(e){var t=e[0].getErrorReason(this.props.booleanAttribute);e[0].removeAttribute(this.props.booleanAttribute),t&&this.setState({alertMessage:t})},t.prototype.executeAction=function(e){var t=this.props,r=t.onChangeMicroflow,i=t.onChangeNanoflow,o=t.mxform;if(r&&window.mx.ui.action(r,{error:function(e){return window.mx.ui.error("Error while executing microflow "+r+": "+e.message)},origin:o,params:{applyto:"selection",guids:[e.getGuid()]}}),i.nanoflow){var s=new mendix.lib.MxContext;s.setContext(e.getEntity(),e.getGuid()),window.mx.data.callNanoflow({context:s,error:function(e){return window.mx.ui.error("Error while executing the on change nanoflow: "+e.message)},nanoflow:i,origin:o})}},t.parseStyle=function(e){void 0===e&&(e="");try{return e.split(";").reduce(function(e,t){var r=t.split(":");if(2===r.length){e[r[0].trim().replace(/(-.)/g,function(e){return e[1].toUpperCase()})]=r[1].trim()}return e},{})}catch(t){window.console.error("Failed to parse style",e,t)}return{}},t}(r.Component);t.default=n}.apply(t,i))&&(e.exports=o)},function(e,t,r){var i,o;i=[r,t,r(0),r(1),r(4),r(5)],void 0!==(o=function(e,t,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=function(e){return r.createElement("div",{className:i("widget-switch",e.className,e.deviceStyle),style:e.style},r.createElement("input",{checked:e.isChecked,className:i("widget-switch-checkbox",{enabled:"enabled"===e.status}),readOnly:!0,type:"checkbox"}),r.createElement("div",{className:i("widget-switch-btn-wrapper widget-switch-btn-wrapper-"+e.colorStyle,{checked:e.isChecked,disabled:"disabled"===e.status,"no-switch":"no-context"===e.status,"un-checked":!e.isChecked}),onClick:"enabled"===e.status?e.onClick:void 0},r.createElement("small",{className:i("widget-switch-btn",{left:!e.isChecked,right:e.isChecked})})),r.createElement(o.Alert,{message:e.alertMessage}))},t.Switch.defaultProps={colorStyle:"default",deviceStyle:"auto"},t.Switch.displayName="Switch"}.apply(t,i))&&(e.exports=o)},function(e,t,r){var i,o;i=[r,t,r(0),r(1)],void 0!==(o=function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=function(e){var t=e.className,o=e.bootstrapStyle,s=e.message;return s?r.createElement("div",{className:i("alert alert-"+o,t)},s):null},t.Alert.defaultProps={bootstrapStyle:"danger"},t.Alert.displayName="Alert"}.apply(t,i))&&(e.exports=o)},function(e,t){},function(e,t,r){var i,o;i=[r,t,r(0),r(1)],void 0!==(o=function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=e.children,o=e.className,s=e.label,n=e.style,a=e.weight;return r.createElement("div",{className:i("widget-switch-label",o),style:n},r.createElement("div",{className:"form-group clearfix"},r.createElement("div",{className:"col-sm-"+a+" col-xs-"+a},r.createElement("label",{className:"control-label"},s)),r.createElement("div",{className:"col-sm-"+(12-a)+" col-xs-"+(12-a)},t)))};t.Label=o,o.defaultProps={weight:6},o.displayName="Label"}.apply(t,i))&&(e.exports=o)}])});